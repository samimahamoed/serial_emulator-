\hypertarget{a00115_source}{\section{qcustomplot.\+cpp}
\label{a00115_source}\index{qcustomplot.\+cpp@{qcustomplot.\+cpp}}
}

\begin{DoxyCode}
00001 \textcolor{comment}{/***************************************************************************}
00002 \textcolor{comment}{**                                                                        **}
00003 \textcolor{comment}{**  QCustomPlot, a simple to use, modern plotting widget for Qt           **}
00004 \textcolor{comment}{**  Copyright (C) 2012 Emanuel Eichhammer                                 **}
00005 \textcolor{comment}{**                                                                        **}
00006 \textcolor{comment}{**  This program is free software: you can redistribute it and/or modify  **}
00007 \textcolor{comment}{**  it under the terms of the GNU General Public License as published by  **}
00008 \textcolor{comment}{**  the Free Software Foundation, either version 3 of the License, or     **}
00009 \textcolor{comment}{**  (at your option) any later version.                                   **}
00010 \textcolor{comment}{**                                                                        **}
00011 \textcolor{comment}{**  This program is distributed in the hope that it will be useful,       **}
00012 \textcolor{comment}{**  but WITHOUT ANY WARRANTY; without even the implied warranty of        **}
00013 \textcolor{comment}{**  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         **}
00014 \textcolor{comment}{**  GNU General Public License for more details.                          **}
00015 \textcolor{comment}{**                                                                        **}
00016 \textcolor{comment}{**  You should have received a copy of the GNU General Public License     **}
00017 \textcolor{comment}{**  along with this program.  If not, see http://www.gnu.org/licenses/.   **}
00018 \textcolor{comment}{**                                                                        **}
00019 \textcolor{comment}{****************************************************************************}
00020 \textcolor{comment}{**           Author: Emanuel Eichhammer                                   **}
00021 \textcolor{comment}{**  Website/Contact: http://www.WorksLikeClockwork.com/                   **}
00022 \textcolor{comment}{**             Date: 09.06.12                                             **}
00023 \textcolor{comment}{****************************************************************************/}
00024 
00177 \textcolor{preprocessor}{#include "\hyperlink{a00116}{qcustomplot.h}"}
00178 
00179 \textcolor{comment}{// ================================================================================}
00180 \textcolor{comment}{// =================== QCPData}
00181 \textcolor{comment}{// ================================================================================}
00182 
00200 \hyperlink{a00116_aa274181ae8de2a0907ba5464d3c2c103}{QCPData::QCPData}() :
00201   \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}(0),
00202   \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}(0),
00203   \hyperlink{a00116_a1d47938cd7209297ef861cf01816d89f}{keyErrorPlus}(0),
00204   \hyperlink{a00116_a7d90a6258f6d24ad254245076e5beac7}{keyErrorMinus}(0),
00205   \hyperlink{a00116_a6d93a38079a2b52118982e82673e87a3}{valueErrorPlus}(0),
00206   \hyperlink{a00116_aea31bce613e569fc5e1888465c677909}{valueErrorMinus}(0)
00207 \{
00208 \}
00209 
\hypertarget{a00115_source_l00213}{}\hyperlink{a00116_aa274181ae8de2a0907ba5464d3c2c103}{00213} \hyperlink{a00116_aa274181ae8de2a0907ba5464d3c2c103}{QCPData::QCPData}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}) :
00214   key(key),
00215   value(value),
00216   \hyperlink{a00116_a1d47938cd7209297ef861cf01816d89f}{keyErrorPlus}(0),
00217   \hyperlink{a00116_a7d90a6258f6d24ad254245076e5beac7}{keyErrorMinus}(0),
00218   \hyperlink{a00116_a6d93a38079a2b52118982e82673e87a3}{valueErrorPlus}(0),
00219   \hyperlink{a00116_aea31bce613e569fc5e1888465c677909}{valueErrorMinus}(0)
00220 \{
00221 \}
00222 
00223 \textcolor{comment}{// ================================================================================}
00224 \textcolor{comment}{// =================== QCPCurveData}
00225 \textcolor{comment}{// ================================================================================}
00226 
\hypertarget{a00115_source_l00241}{}\hyperlink{a00029_a48252779b5198a509d99c69ae223fbf8}{00241} \hyperlink{a00029_a48252779b5198a509d99c69ae223fbf8}{QCPCurveData::QCPCurveData}() :
00242   t(0),
00243   \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}(0),
00244   \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}(0)
00245 \{
00246 \}
00247 
\hypertarget{a00115_source_l00251}{}\hyperlink{a00029_a3586be0cc6f8db15bcdd0c0d03b0c173}{00251} \hyperlink{a00029_a48252779b5198a509d99c69ae223fbf8}{QCPCurveData::QCPCurveData}(\textcolor{keywordtype}{double} t, \textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} 
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}) :
00252   t(t),
00253   key(key),
00254   value(value)
00255 \{
00256 \}
00257 
00258 
00259 \textcolor{comment}{// ================================================================================}
00260 \textcolor{comment}{// =================== QCPBarData}
00261 \textcolor{comment}{// ================================================================================}
00262 
\hypertarget{a00115_source_l00276}{}\hyperlink{a00026_a8d214eda9ef41bc6da2a908a09623836}{00276} \hyperlink{a00026_a8d214eda9ef41bc6da2a908a09623836}{QCPBarData::QCPBarData}() :
00277   \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}(0),
00278   \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}(0)
00279 \{
00280 \}
00281 
\hypertarget{a00115_source_l00285}{}\hyperlink{a00026_ac0bb7ede5373a7b18713418fa78f972d}{00285} \hyperlink{a00026_a8d214eda9ef41bc6da2a908a09623836}{QCPBarData::QCPBarData}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}) :
00286   key(key),
00287   value(value)
00288 \{
00289 \}
00290 
00291 \textcolor{comment}{// ================================================================================}
00292 \textcolor{comment}{// =================== QCPGraph}
00293 \textcolor{comment}{// ================================================================================}
00294 
00332 QCPGraph::QCPGraph(\hyperlink{a00025}{QCPAxis} *keyAxis, \hyperlink{a00025}{QCPAxis} *valueAxis) :
00333   \hyperlink{a00024}{QCPAbstractPlottable}(keyAxis, valueAxis)
00334 \{
00335   mData = \textcolor{keyword}{new} \hyperlink{a00116_a84a9c4a4c2216ccfdcb5f3067cda76e3}{QCPDataMap};
00336   
00337   \hyperlink{a00116_a499165f4744b6d22da7b24295910fb2c}{setPen}(QPen(Qt::blue));
00338   setErrorPen(QPen(Qt::black));
00339   setBrush(Qt::NoBrush);
00340   setSelectedPen(QPen(QColor(80, 80, 255), 2.5));
00341   setSelectedBrush(Qt::NoBrush);
00342   
00343   setLineStyle(lsLine);
00344   setScatterStyle(\hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone});
00345   setScatterSize(6);
00346   setErrorType(etNone);
00347   setErrorBarSize(6);
00348   setErrorBarSkipSymbol(\textcolor{keyword}{true});
00349   setChannelFillGraph(0);
00350 \}
00351 
\hypertarget{a00115_source_l00352}{}\hyperlink{a00031_ae9998cfb9d379ac0ef3fbd6995cfbd76}{00352} \hyperlink{a00031_ae9998cfb9d379ac0ef3fbd6995cfbd76}{QCPGraph::~QCPGraph}()
00353 \{
00354   \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot})
00355   \{
00356     \textcolor{comment}{// if another graph has a channel fill towards this graph, set it to zero}
00357     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->graphCount(); ++i)
00358     \{
00359       \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->graph(i)->channelFillGraph() == \textcolor{keyword}{this})
00360         \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->graph(i)->setChannelFillGraph(0);
00361     \}
00362   \}
00363   \textcolor{keyword}{delete} \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData};
00364 \}
00365 
\hypertarget{a00115_source_l00373}{}\hyperlink{a00031_a1df2fd710545c8ba3b2c99a39a27bf8b}{00373} \textcolor{keywordtype}{void} \hyperlink{a00031_a1df2fd710545c8ba3b2c99a39a27bf8b}{QCPGraph::setData}(\hyperlink{a00116_a84a9c4a4c2216ccfdcb5f3067cda76e3}{QCPDataMap} *data, \textcolor{keywordtype}{bool} copy)
00374 \{
00375   \textcolor{keywordflow}{if} (copy)
00376   \{
00377     *\hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData} = *\hyperlink{a00031_a8f4c17d993df4759c7426db45b33fbc0}{data};
00378   \} \textcolor{keywordflow}{else}
00379   \{
00380     \textcolor{keyword}{delete} \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData};
00381     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData} = \hyperlink{a00031_a8f4c17d993df4759c7426db45b33fbc0}{data};
00382   \}
00383 \}
00384 
\hypertarget{a00115_source_l00391}{}\hyperlink{a00031_a4c55d8ac13bfa42c8c93747820891a76}{00391} \textcolor{keywordtype}{void} \hyperlink{a00031_a1df2fd710545c8ba3b2c99a39a27bf8b}{QCPGraph::setData}(\textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
00392 \{
00393   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->clear();
00394   \textcolor{keywordtype}{int} n = key.size();
00395   n = qMin(n, value.size());
00396   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00397   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
00398   \{
00399     newData.key = key[i];
00400     newData.value = value[i];
00401     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(newData.key, newData);
00402   \}
00403 \}
00404 
\hypertarget{a00115_source_l00414}{}\hyperlink{a00031_acba6296eadcb36b93267628b8dae3de5}{00414} \textcolor{keywordtype}{void} \hyperlink{a00031_acba6296eadcb36b93267628b8dae3de5}{QCPGraph::setDataValueError}(\textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, \textcolor{keyword}{const} QVector<double> &valueError)
00415 \{
00416   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->clear();
00417   \textcolor{keywordtype}{int} n = key.size();
00418   n = qMin(n, value.size());
00419   n = qMin(n, valueError.size());
00420   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00421   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
00422   \{
00423     newData.key = key[i];
00424     newData.value = value[i];
00425     newData.valueErrorMinus = valueError[i];
00426     newData.valueErrorPlus = valueError[i];
00427     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(key[i], newData);
00428   \}
00429 \}
00430 
\hypertarget{a00115_source_l00440}{}\hyperlink{a00031_a3afbfd7222d739351c69387904776f93}{00440} \textcolor{keywordtype}{void} \hyperlink{a00031_acba6296eadcb36b93267628b8dae3de5}{QCPGraph::setDataValueError}(\textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, \textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_aea31bce613e569fc5e1888465c677909}{valueErrorMinus}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_a6d93a38079a2b52118982e82673e87a3}{valueErrorPlus})
00441 \{
00442   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->clear();
00443   \textcolor{keywordtype}{int} n = key.size();
00444   n = qMin(n, value.size());
00445   n = qMin(n, valueErrorMinus.size());
00446   n = qMin(n, valueErrorPlus.size());
00447   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00448   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
00449   \{
00450     newData.key = key[i];
00451     newData.value = value[i];
00452     newData.valueErrorMinus = valueErrorMinus[i];
00453     newData.valueErrorPlus = valueErrorPlus[i];
00454     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(key[i], newData);
00455   \}
00456 \}
00457 
\hypertarget{a00115_source_l00467}{}\hyperlink{a00031_abce9f07c0d722bc3e4fa7bd73c7e5dfa}{00467} \textcolor{keywordtype}{void} \hyperlink{a00031_abce9f07c0d722bc3e4fa7bd73c7e5dfa}{QCPGraph::setDataKeyError}(\textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, \textcolor{keyword}{const} QVector<double> &keyError)
00468 \{
00469   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->clear();
00470   \textcolor{keywordtype}{int} n = key.size();
00471   n = qMin(n, value.size());
00472   n = qMin(n, keyError.size());
00473   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00474   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
00475   \{
00476     newData.key = key[i];
00477     newData.value = value[i];
00478     newData.keyErrorMinus = keyError[i];
00479     newData.keyErrorPlus = keyError[i];
00480     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(key[i], newData);
00481   \}
00482 \}
00483 
\hypertarget{a00115_source_l00493}{}\hyperlink{a00031_ac15c749c5fedf740d5692c6fe67143b8}{00493} \textcolor{keywordtype}{void} \hyperlink{a00031_abce9f07c0d722bc3e4fa7bd73c7e5dfa}{QCPGraph::setDataKeyError}(\textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_a7d90a6258f6d24ad254245076e5beac7}{keyErrorMinus}, \textcolor{keyword}{const} 
      QVector<double> &\hyperlink{a00116_a1d47938cd7209297ef861cf01816d89f}{keyErrorPlus})
00494 \{
00495   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->clear();
00496   \textcolor{keywordtype}{int} n = key.size();
00497   n = qMin(n, value.size());
00498   n = qMin(n, keyErrorMinus.size());
00499   n = qMin(n, keyErrorPlus.size());
00500   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00501   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
00502   \{
00503     newData.key = key[i];
00504     newData.value = value[i];
00505     newData.keyErrorMinus = keyErrorMinus[i];
00506     newData.keyErrorPlus = keyErrorPlus[i];
00507     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(key[i], newData);
00508   \}
00509 \}
00510 
\hypertarget{a00115_source_l00520}{}\hyperlink{a00031_a873fe46bdb20be5710428e474ade8908}{00520} \textcolor{keywordtype}{void} \hyperlink{a00031_a873fe46bdb20be5710428e474ade8908}{QCPGraph::setDataBothError}(\textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, \textcolor{keyword}{const} QVector<double> &keyError, \textcolor{keyword}{const} QVector<double> &
      valueError)
00521 \{
00522   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->clear();
00523   \textcolor{keywordtype}{int} n = key.size();
00524   n = qMin(n, value.size());
00525   n = qMin(n, valueError.size());
00526   n = qMin(n, keyError.size());
00527   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00528   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
00529   \{
00530     newData.key = key[i];
00531     newData.value = value[i];
00532     newData.keyErrorMinus = keyError[i];
00533     newData.keyErrorPlus = keyError[i];
00534     newData.valueErrorMinus = valueError[i];
00535     newData.valueErrorPlus = valueError[i];
00536     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(key[i], newData);
00537   \}
00538 \}
00539 
\hypertarget{a00115_source_l00549}{}\hyperlink{a00031_abb75736ecdbf6e6a7501e1da64fb18cf}{00549} \textcolor{keywordtype}{void} \hyperlink{a00031_a873fe46bdb20be5710428e474ade8908}{QCPGraph::setDataBothError}(\textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_a7d90a6258f6d24ad254245076e5beac7}{keyErrorMinus}, \textcolor{keyword}{const} 
      QVector<double> &\hyperlink{a00116_a1d47938cd7209297ef861cf01816d89f}{keyErrorPlus}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_aea31bce613e569fc5e1888465c677909}{valueErrorMinus}, \textcolor{keyword}{const} 
      QVector<double> &\hyperlink{a00116_a6d93a38079a2b52118982e82673e87a3}{valueErrorPlus})
00550 \{
00551   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->clear();
00552   \textcolor{keywordtype}{int} n = key.size();
00553   n = qMin(n, value.size());
00554   n = qMin(n, valueErrorMinus.size());
00555   n = qMin(n, valueErrorPlus.size());
00556   n = qMin(n, keyErrorMinus.size());
00557   n = qMin(n, keyErrorPlus.size());
00558   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00559   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
00560   \{
00561     newData.key = key[i];
00562     newData.value = value[i];
00563     newData.keyErrorMinus = keyErrorMinus[i];
00564     newData.keyErrorPlus = keyErrorPlus[i];
00565     newData.valueErrorMinus = valueErrorMinus[i];
00566     newData.valueErrorPlus = valueErrorPlus[i];
00567     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(key[i], newData);
00568   \}
00569 \}
00570 
00571 
\hypertarget{a00115_source_l00579}{}\hyperlink{a00031_a513fecccff5b2a50ce53f665338c60ff}{00579} \textcolor{keywordtype}{void} \hyperlink{a00031_a513fecccff5b2a50ce53f665338c60ff}{QCPGraph::setLineStyle}(\hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859}{LineStyle} ls)
00580 \{
00581   \hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} = ls;
00582 \}
00583 
\hypertarget{a00115_source_l00590}{}\hyperlink{a00031_a06373e09547bcfe237dd8ebcbe5c255a}{00590} \textcolor{keywordtype}{void} \hyperlink{a00031_a06373e09547bcfe237dd8ebcbe5c255a}{QCPGraph::setScatterStyle}(\hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26f}{QCP::ScatterStyle} ss)
00591 \{
00592   \hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle} = ss;
00593 \}
00594 
\hypertarget{a00115_source_l00602}{}\hyperlink{a00031_a70d5c6058096797a227e6827ff743d89}{00602} \textcolor{keywordtype}{void} \hyperlink{a00031_a70d5c6058096797a227e6827ff743d89}{QCPGraph::setScatterSize}(\textcolor{keywordtype}{double} size)
00603 \{
00604   \hyperlink{a00031_a0a1d01359f53211427fb4d71a71dbbec}{mScatterSize} = size;
00605 \}
00606 
\hypertarget{a00115_source_l00613}{}\hyperlink{a00031_a80131c36eb134fbfb603951ef70e0a19}{00613} \textcolor{keywordtype}{void} \hyperlink{a00031_a80131c36eb134fbfb603951ef70e0a19}{QCPGraph::setScatterPixmap}(\textcolor{keyword}{const} QPixmap &pixmap)
00614 \{
00615   \hyperlink{a00031_a38fccb64b03a53f3ba2839c94dc31e8f}{mScatterPixmap} = pixmap;
00616 \}
00617 
\hypertarget{a00115_source_l00626}{}\hyperlink{a00031_ac3614d799c3894f2bc646e99c7f73d38}{00626} \textcolor{keywordtype}{void} \hyperlink{a00031_ac3614d799c3894f2bc646e99c7f73d38}{QCPGraph::setErrorType}(ErrorType errorType)
00627 \{
00628   \hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} = \hyperlink{a00031_a250bcdf78abac87bc6d46ee6fd99a92d}{errorType};
00629 \}
00630 
\hypertarget{a00115_source_l00635}{}\hyperlink{a00031_abd4c7f81939e10776ea64603a704f22a}{00635} \textcolor{keywordtype}{void} \hyperlink{a00031_abd4c7f81939e10776ea64603a704f22a}{QCPGraph::setErrorPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
00636 \{
00637   \hyperlink{a00031_aa35681a24165c2831301091a87b662ce}{mErrorPen} = \hyperlink{a00024_a41d060007cc6b3037c9c04d22d0c0398}{pen};
00638 \}
00639 
\hypertarget{a00115_source_l00643}{}\hyperlink{a00031_a10f50c5495ce45ef559ec2066194a335}{00643} \textcolor{keywordtype}{void} \hyperlink{a00031_a10f50c5495ce45ef559ec2066194a335}{QCPGraph::setErrorBarSize}(\textcolor{keywordtype}{double} size)
00644 \{
00645   \hyperlink{a00031_a7b51c8d09510f9d195b5e765ccbcf05b}{mErrorBarSize} = size;
00646 \}
00647 
\hypertarget{a00115_source_l00657}{}\hyperlink{a00031_ab1c1ee03d8dd94676a564e5e5f11aac2}{00657} \textcolor{keywordtype}{void} \hyperlink{a00031_ab1c1ee03d8dd94676a564e5e5f11aac2}{QCPGraph::setErrorBarSkipSymbol}(\textcolor{keywordtype}{bool} enabled)
00658 \{
00659   \hyperlink{a00031_acf631d7dbd1055a69ab3b63094868557}{mErrorBarSkipSymbol} = enabled;
00660 \}
00661 
\hypertarget{a00115_source_l00671}{}\hyperlink{a00031_a2d03156df1b64037a2e36cfa50351ca3}{00671} \textcolor{keywordtype}{void} \hyperlink{a00031_a2d03156df1b64037a2e36cfa50351ca3}{QCPGraph::setChannelFillGraph}(\hyperlink{a00031}{QCPGraph} *targetGraph)
00672 \{
00673   \textcolor{comment}{// prevent setting channel target to this graph itself:}
00674   \textcolor{keywordflow}{if} (targetGraph == \textcolor{keyword}{this})
00675   \{
00676     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"targetGraph is this graph itself"};
00677     \hyperlink{a00031_aa49af2f241d9ffdc301a24f08b10bdc8}{mChannelFillGraph} = 0;
00678     \textcolor{keywordflow}{return};
00679   \}
00680   \textcolor{comment}{// prevent setting channel target to a graph not in the plot:}
00681   \textcolor{keywordflow}{if} (targetGraph && targetGraph->\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot} != \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot})
00682   \{
00683     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"targetGraph not in same plot"};
00684     \hyperlink{a00031_aa49af2f241d9ffdc301a24f08b10bdc8}{mChannelFillGraph} = 0;
00685     \textcolor{keywordflow}{return};
00686   \}
00687   
00688   \hyperlink{a00031_aa49af2f241d9ffdc301a24f08b10bdc8}{mChannelFillGraph} = targetGraph;
00689 \}
00690 
\hypertarget{a00115_source_l00695}{}\hyperlink{a00031_aa5c6181d84db72ce4dbe9dc15a34ef4f}{00695} \textcolor{keywordtype}{void} \hyperlink{a00031_aa5c6181d84db72ce4dbe9dc15a34ef4f}{QCPGraph::addData}(\textcolor{keyword}{const} \hyperlink{a00116_a84a9c4a4c2216ccfdcb5f3067cda76e3}{QCPDataMap} &dataMap)
00696 \{
00697   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->unite(dataMap);
00698 \}
00699 
\hypertarget{a00115_source_l00704}{}\hyperlink{a00031_a80cc91e1e0ef77eb50afc5b366d0efd9}{00704} \textcolor{keywordtype}{void} \hyperlink{a00031_aa5c6181d84db72ce4dbe9dc15a34ef4f}{QCPGraph::addData}(\textcolor{keyword}{const} \hyperlink{a00030_d2/d94/a00184}{QCPData} &data)
00705 \{
00706   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(data.key, data);
00707 \}
00708 
\hypertarget{a00115_source_l00713}{}\hyperlink{a00031_a0bf98b1972286cfb7b1c4b7dd6ae2012}{00713} \textcolor{keywordtype}{void} \hyperlink{a00031_aa5c6181d84db72ce4dbe9dc15a34ef4f}{QCPGraph::addData}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
00714 \{
00715   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00716   newData.key = \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
00717   newData.value = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
00718   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(newData.key, newData);
00719 \}
00720 
\hypertarget{a00115_source_l00725}{}\hyperlink{a00031_ab6da6377541fe80d892a9893a92db9c6}{00725} \textcolor{keywordtype}{void} \hyperlink{a00031_aa5c6181d84db72ce4dbe9dc15a34ef4f}{QCPGraph::addData}(\textcolor{keyword}{const} QVector<double> &keys, \textcolor{keyword}{const} QVector<double> &values)
00726 \{
00727   \textcolor{keywordtype}{int} n = qMin(keys.size(), values.size());
00728   \hyperlink{a00030_d2/d94/a00184}{QCPData} newData;
00729   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
00730   \{
00731     newData.key = keys[i];
00732     newData.value = values[i];
00733     \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->insertMulti(newData.key, newData);
00734   \}
00735 \}
00736 
\hypertarget{a00115_source_l00741}{}\hyperlink{a00031_a9fe0b3e54e8c7b61319bd03337e21e99}{00741} \textcolor{keywordtype}{void} \hyperlink{a00031_a9fe0b3e54e8c7b61319bd03337e21e99}{QCPGraph::removeDataBefore}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
00742 \{
00743   QCPDataMap::iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->begin();
00744   \textcolor{keywordflow}{while} (it != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->end() && it.key() < \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
00745     it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->erase(it);
00746 \}
00747 
\hypertarget{a00115_source_l00752}{}\hyperlink{a00031_ae42d645ef617cfc75fc0df58e62c522a}{00752} \textcolor{keywordtype}{void} \hyperlink{a00031_ae42d645ef617cfc75fc0df58e62c522a}{QCPGraph::removeDataAfter}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
00753 \{
00754   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->isEmpty()) \textcolor{keywordflow}{return};
00755   QCPDataMap::iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->upperBound(key);
00756   \textcolor{keywordflow}{while} (it != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->end())
00757     it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->erase(it);
00758 \}
00759 
\hypertarget{a00115_source_l00767}{}\hyperlink{a00031_a4a0fde50b7db9db0a85b5c5b6b10098f}{00767} \textcolor{keywordtype}{void} \hyperlink{a00031_a4a0fde50b7db9db0a85b5c5b6b10098f}{QCPGraph::removeData}(\textcolor{keywordtype}{double} fromKey, \textcolor{keywordtype}{double} toKey)
00768 \{
00769   \textcolor{keywordflow}{if} (fromKey >= toKey || \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->isEmpty()) \textcolor{keywordflow}{return};
00770   QCPDataMap::iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->upperBound(fromKey);
00771   QCPDataMap::iterator itEnd = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->upperBound(toKey);
00772   \textcolor{keywordflow}{while} (it != itEnd)
00773     it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->erase(it);
00774 \}
00775 
\hypertarget{a00115_source_l00784}{}\hyperlink{a00031_a4a706020b4318f118381648ef18aca3f}{00784} \textcolor{keywordtype}{void} \hyperlink{a00031_a4a0fde50b7db9db0a85b5c5b6b10098f}{QCPGraph::removeData}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
00785 \{
00786   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->remove(key);
00787 \}
00788 
\hypertarget{a00115_source_l00793}{}\hyperlink{a00031_ad4e94a4e44e5e76fbec81a72a977157d}{00793} \textcolor{keywordtype}{void} \hyperlink{a00031_ad4e94a4e44e5e76fbec81a72a977157d}{QCPGraph::clearData}()
00794 \{
00795   \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->clear();
00796 \}
00797 
00798 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l00799}{}\hyperlink{a00031_a9a95048dc6daf83e45efbf6d2cdc92d7}{00799} \textcolor{keywordtype}{double} \hyperlink{a00031_a9a95048dc6daf83e45efbf6d2cdc92d7}{QCPGraph::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
00800 \textcolor{keyword}{}\{
00801   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->isEmpty() || !\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
00802     \textcolor{keywordflow}{return} -1;
00803   
00804   \textcolor{keywordflow}{return} \hyperlink{a00031_af93762a12a481a7edb4b3dd9e330dff1}{pointDistance}(pos);
00805 \}
00806 
\hypertarget{a00115_source_l00812}{}\hyperlink{a00031_aa35b75b9032800d783df749c8a004ee9}{00812} \textcolor{keywordtype}{void} \hyperlink{a00031_aa35b75b9032800d783df749c8a004ee9}{QCPGraph::rescaleAxes}(\textcolor{keywordtype}{bool} onlyEnlarge, \textcolor{keywordtype}{bool} includeErrorBars)\textcolor{keyword}{ const}
00813 \textcolor{keyword}{}\{
00814   \hyperlink{a00031_a2108a729046b0ab6e0516afb249dab13}{rescaleKeyAxis}(onlyEnlarge, includeErrorBars);
00815   \hyperlink{a00031_a2ba0e1df416486d7e74299ef8cf68bba}{rescaleValueAxis}(onlyEnlarge, includeErrorBars);
00816 \}
00817 
\hypertarget{a00115_source_l00823}{}\hyperlink{a00031_a2108a729046b0ab6e0516afb249dab13}{00823} \textcolor{keywordtype}{void} \hyperlink{a00031_a2108a729046b0ab6e0516afb249dab13}{QCPGraph::rescaleKeyAxis}(\textcolor{keywordtype}{bool} onlyEnlarge, \textcolor{keywordtype}{bool} includeErrorBars)\textcolor{keyword}{ const}
00824 \textcolor{keyword}{}\{
00825   \textcolor{comment}{// this code is a copy of QCPAbstractPlottable::rescaleKeyAxis with the only change}
00826   \textcolor{comment}{// that getKeyRange is passed the includeErrorBars value.}
00827   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->isEmpty()) \textcolor{keywordflow}{return};
00828 
00829   \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} signDomain = \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth};
00830   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a8563e13407bc0616da7f7c84e02de170}{scaleType}() == QCPAxis::stLogarithmic)
00831     signDomain = (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 ? \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} : 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive});
00832   
00833   \textcolor{keywordtype}{bool} validRange;
00834   \hyperlink{a00049}{QCPRange} newRange = \hyperlink{a00031_ab39c7e8c94b64804a8dc9c19bc7d4683}{getKeyRange}(validRange, signDomain, includeErrorBars);
00835   
00836   \textcolor{keywordflow}{if} (validRange)
00837   \{
00838     \textcolor{keywordflow}{if} (onlyEnlarge)
00839     \{
00840       \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})
00841         newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
00842       \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
00843         newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
00844     \}
00845     \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(newRange);
00846   \}
00847 \}
00848 
\hypertarget{a00115_source_l00854}{}\hyperlink{a00031_a2ba0e1df416486d7e74299ef8cf68bba}{00854} \textcolor{keywordtype}{void} \hyperlink{a00031_a2ba0e1df416486d7e74299ef8cf68bba}{QCPGraph::rescaleValueAxis}(\textcolor{keywordtype}{bool} onlyEnlarge, \textcolor{keywordtype}{bool} includeErrorBars)\textcolor{keyword}{ const}
00855 \textcolor{keyword}{}\{
00856   \textcolor{comment}{// this code is a copy of QCPAbstractPlottable::rescaleValueAxis with the only change}
00857   \textcolor{comment}{// is that getValueRange is passed the includeErrorBars value.}
00858   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->isEmpty()) \textcolor{keywordflow}{return};
00859 
00860   \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} signDomain = \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth};
00861   \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a8563e13407bc0616da7f7c84e02de170}{scaleType}() == QCPAxis::stLogarithmic)
00862     signDomain = (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 ? \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} : 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive});
00863   
00864   \textcolor{keywordtype}{bool} validRange;
00865   \hyperlink{a00049}{QCPRange} newRange = \hyperlink{a00031_a9fc0c1288455fa5bb64b603d6b01de6c}{getValueRange}(validRange, signDomain, includeErrorBars);
00866   
00867   \textcolor{keywordflow}{if} (validRange)
00868   \{
00869     \textcolor{keywordflow}{if} (onlyEnlarge)
00870     \{
00871       \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})
00872         newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
00873       \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
00874         newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
00875     \}
00876     \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(newRange);
00877   \}
00878 \}
00879 
00880 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l00881}{}\hyperlink{a00031_a659218cc62c2a7786213d9dd429c1c8d}{00881} \textcolor{keywordtype}{void} \hyperlink{a00031_a659218cc62c2a7786213d9dd429c1c8d}{QCPGraph::draw}(\hyperlink{a00047}{QCPPainter} *painter)
00882 \{
00883   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}() <= 0 || \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->isEmpty()) \textcolor{keywordflow}{return};
00884   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} == \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04}{lsNone} && \hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle} == 
      \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone}) \textcolor{keywordflow}{return};
00885   
00886   \textcolor{comment}{// allocate line and (if necessary) point vectors:}
00887   QVector<QPointF> *lineData = \textcolor{keyword}{new} QVector<QPointF>;
00888   QVector<QCPData> *pointData = 0;
00889   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle} != \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone})
00890     pointData = \textcolor{keyword}{new} QVector<QCPData>;
00891   
00892   \textcolor{comment}{// fill vectors with data appropriate to plot style:}
00893   \hyperlink{a00031_af66183533a29520be3e74489ad1449cc}{getPlotData}(lineData, pointData);
00894 
00895   \textcolor{comment}{// draw fill of graph:}
00896   \hyperlink{a00031_ad6d07926e6d6b7cfa70258780d47b7a0}{drawFill}(painter, lineData);
00897   
00898   \textcolor{comment}{// draw line:}
00899   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} == \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aa3b358b4ae7cca94aceeb8e529c12ebb}{lsImpulse})
00900     \hyperlink{a00031_abc01180629621f1e47e94559227d3d8c}{drawImpulsePlot}(painter, lineData);
00901   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} != \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04}{lsNone})
00902     \hyperlink{a00031_acebc22c3385829b19a87e6281fe6ade2}{drawLinePlot}(painter, lineData); \textcolor{comment}{// also step plots can be drawn as a line plot}
00903   
00904   \textcolor{comment}{// draw scatters:}
00905   \textcolor{keywordflow}{if} (pointData)
00906     \hyperlink{a00031_af1872a60bed7acb3f3b17bfae3f4764c}{drawScatterPlot}(painter, pointData);
00907   
00908   \textcolor{comment}{// free allocated line and point vectors:}
00909   \textcolor{keyword}{delete} lineData;
00910   \textcolor{keywordflow}{if} (pointData)
00911     \textcolor{keyword}{delete} pointData;
00912 \}
00913 
00914 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l00915}{}\hyperlink{a00031_a9a1a3d937a35368c421657860aa5a173}{00915} \textcolor{keywordtype}{void} \hyperlink{a00031_a9a1a3d937a35368c421657860aa5a173}{QCPGraph::drawLegendIcon}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keyword}{const} QRect &rect)\textcolor{keyword}{
       const}
00916 \textcolor{keyword}{}\{
00917   \textcolor{comment}{// draw fill:}
00918   \textcolor{keywordflow}{if} (\hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush}.style() != Qt::NoBrush)
00919   \{
00920     \hyperlink{a00024_ac08a480155895e674dbfe5a5670e0ff3}{applyFillAntialiasingHint}(painter);
00921     painter->fillRect(QRectF(rect.left(), rect.top()+rect.height()/2.0, rect.width(), rect.height()/3.0), 
      \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush});
00922   \}
00923   \textcolor{comment}{// draw line vertically centered:}
00924   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} != \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04}{lsNone})
00925   \{
00926     \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
00927     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen});
00928     painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(rect.left(), rect.top()+rect.height()/2.0, rect.right()+5, rect.top()+
      rect.height()/2.0)); \textcolor{comment}{// +5 on x2 else last segment is missing from dashed/dotted pens}
00929   \}
00930   \textcolor{comment}{// draw scatter symbol:}
00931   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle} != \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone})
00932   \{
00933     \textcolor{keywordflow}{if} (\hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle} == \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3046d385199d0903dd492322ba133e75}{QCP::ssPixmap} && (
      \hyperlink{a00031_a38fccb64b03a53f3ba2839c94dc31e8f}{mScatterPixmap}.size().width() > rect.width() || \hyperlink{a00031_a38fccb64b03a53f3ba2839c94dc31e8f}{mScatterPixmap}.size().height() 
      > rect.height()))
00934     \{
00935       \textcolor{comment}{// handle pixmap scatters that are larger than legend icon rect separately.}
00936       \textcolor{comment}{// We resize them and draw them manually, instead of calling drawScatter:}
00937       QSize newSize = \hyperlink{a00031_a38fccb64b03a53f3ba2839c94dc31e8f}{mScatterPixmap}.size();
00938       newSize.scale(rect.size(), Qt::KeepAspectRatio);
00939       QRect targetRect;
00940       targetRect.setSize(newSize);
00941       targetRect.moveCenter(rect.center());
00942       \textcolor{keywordtype}{bool} smoothBackup = painter->testRenderHint(QPainter::SmoothPixmapTransform);
00943       painter->setRenderHint(QPainter::SmoothPixmapTransform, \textcolor{keyword}{true});
00944       painter->drawPixmap(targetRect, \hyperlink{a00031_a38fccb64b03a53f3ba2839c94dc31e8f}{mScatterPixmap});
00945       painter->setRenderHint(QPainter::SmoothPixmapTransform, smoothBackup);
00946     \} \textcolor{keywordflow}{else}
00947     \{
00948       \hyperlink{a00024_a753272ee225a62827e90c3e1e78de4b1}{applyScattersAntialiasingHint}(painter);
00949       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen});
00950       painter->\hyperlink{a00047_a3aa145eb9865752d583c40ef995c5049}{drawScatter}(QRectF(rect).center().x(), QRectF(rect).center().y(), 
      \hyperlink{a00031_a0a1d01359f53211427fb4d71a71dbbec}{mScatterSize}, \hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle});
00951     \}
00952   \}
00953 \}
00954 
\hypertarget{a00115_source_l00967}{}\hyperlink{a00031_af66183533a29520be3e74489ad1449cc}{00967} \textcolor{keywordtype}{void} \hyperlink{a00031_af66183533a29520be3e74489ad1449cc}{QCPGraph::getPlotData}(QVector<QPointF> *lineData, QVector<QCPData> *pointData)\textcolor{keyword}{
       const}
00968 \textcolor{keyword}{}\{
00969   \textcolor{keywordflow}{switch}(\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle})
00970   \{
00971     \textcolor{keywordflow}{case} \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04}{lsNone}: \hyperlink{a00031_a0899c4d6357aee19a3abff5897c3c8c5}{getScatterPlotData}(pointData); \textcolor{keywordflow}{break};
00972     \textcolor{keywordflow}{case} \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859a3c42a27b15aa3c92d399082fad8b7515}{lsLine}: \hyperlink{a00031_ac76804eb33446181f3e4f708b7639a75}{getLinePlotData}(lineData, pointData); \textcolor{keywordflow}{break};
00973     \textcolor{keywordflow}{case} \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859ae10568bda57836487d9dec5eba1d6c6e}{lsStepLeft}: \hyperlink{a00031_a6b7c14e04deed69b70d552dbe70c4d28}{getStepLeftPlotData}(lineData, pointData); \textcolor{keywordflow}{break};
00974     \textcolor{keywordflow}{case} \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859a9c37951f7d11aa070100fd16f2935c9e}{lsStepRight}: \hyperlink{a00031_ab2ad46716889c73ab977cf9280de0788}{getStepRightPlotData}(lineData, pointData); \textcolor{keywordflow}{break};
00975     \textcolor{keywordflow}{case} \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859a5adf7b04da215a40a764c21294ea7366}{lsStepCenter}: \hyperlink{a00031_ac79dc75dd98db9948d9656447b463af5}{getStepCenterPlotData}(lineData, pointData); \textcolor{keywordflow}{break};
00976     \textcolor{keywordflow}{case} \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aa3b358b4ae7cca94aceeb8e529c12ebb}{lsImpulse}: \hyperlink{a00031_a0ff6e856387cc079b28592ead2a81f6c}{getImpulsePlotData}(lineData, pointData); \textcolor{keywordflow}{break};
00977   \}
00978 \}
00979 
\hypertarget{a00115_source_l00990}{}\hyperlink{a00031_a0899c4d6357aee19a3abff5897c3c8c5}{00990} \textcolor{keywordtype}{void} \hyperlink{a00031_a0899c4d6357aee19a3abff5897c3c8c5}{QCPGraph::getScatterPlotData}(QVector<QCPData> *pointData)\textcolor{keyword}{ const}
00991 \textcolor{keyword}{}\{
00992   \textcolor{keywordflow}{if} (!pointData) \textcolor{keywordflow}{return};
00993   
00994   \textcolor{comment}{// get visible data range:}
00995   QCPDataMap::const\_iterator lower, upper;
00996   \textcolor{keywordtype}{int} dataCount;
00997   \hyperlink{a00031_a8963c90087cf53b889b29dd59aa41aad}{getVisibleDataBounds}(lower, upper, dataCount);
00998   \textcolor{comment}{// prepare vectors:}
00999   \textcolor{keywordflow}{if} (pointData)
01000     pointData->resize(dataCount);
01001 
01002   \textcolor{comment}{// position data points:}
01003   QCPDataMap::const\_iterator it = lower;
01004   QCPDataMap::const\_iterator upperEnd = upper+1;
01005   \textcolor{keywordtype}{int} i = 0;
01006   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01007   \{
01008     \textcolor{keywordflow}{while} (it != upperEnd)
01009     \{
01010       (*pointData)[i] = it.value();
01011       ++i;
01012       ++it;
01013     \}
01014   \} \textcolor{keywordflow}{else} \textcolor{comment}{// key axis is horizontal}
01015   \{
01016     \textcolor{keywordflow}{while} (it != upperEnd)
01017     \{
01018       (*pointData)[i] = it.value();
01019       ++i;
01020       ++it;
01021     \}
01022   \}
01023 \}
01024 
\hypertarget{a00115_source_l01035}{}\hyperlink{a00031_ac76804eb33446181f3e4f708b7639a75}{01035} \textcolor{keywordtype}{void} \hyperlink{a00031_ac76804eb33446181f3e4f708b7639a75}{QCPGraph::getLinePlotData}(QVector<QPointF> *lineData, QVector<QCPData> *
      pointData)\textcolor{keyword}{ const}
01036 \textcolor{keyword}{}\{
01037   \textcolor{comment}{// get visible data range:}
01038   QCPDataMap::const\_iterator lower, upper;
01039   \textcolor{keywordtype}{int} dataCount;
01040   \hyperlink{a00031_a8963c90087cf53b889b29dd59aa41aad}{getVisibleDataBounds}(lower, upper, dataCount);
01041   \textcolor{comment}{// prepare vectors:}
01042   \textcolor{keywordflow}{if} (lineData)
01043   \{ 
01044     \textcolor{comment}{// added 2 to reserve memory for lower/upper fill base points that might be needed for fill}
01045     lineData->reserve(dataCount+2);
01046     lineData->resize(dataCount);
01047   \}
01048   \textcolor{keywordflow}{if} (pointData)
01049     pointData->resize(dataCount);
01050 
01051   \textcolor{comment}{// position data points:}
01052   QCPDataMap::const\_iterator it = lower;
01053   QCPDataMap::const\_iterator upperEnd = upper+1;
01054   \textcolor{keywordtype}{int} i = 0;
01055   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01056   \{
01057     \textcolor{keywordflow}{while} (it != upperEnd)
01058     \{
01059       \textcolor{keywordflow}{if} (pointData)
01060         (*pointData)[i] = it.value();
01061       (*lineData)[i].setX(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value));
01062       (*lineData)[i].setY(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key()));
01063       ++i;
01064       ++it;
01065     \}
01066   \} \textcolor{keywordflow}{else} \textcolor{comment}{// key axis is horizontal}
01067   \{
01068     \textcolor{keywordflow}{while} (it != upperEnd)
01069     \{
01070       \textcolor{keywordflow}{if} (pointData)
01071         (*pointData)[i] = it.value();
01072       (*lineData)[i].setX(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key()));
01073       (*lineData)[i].setY(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value));
01074       ++i;
01075       ++it;
01076     \}
01077   \}
01078 \}
01079 
\hypertarget{a00115_source_l01090}{}\hyperlink{a00031_a6b7c14e04deed69b70d552dbe70c4d28}{01090} \textcolor{keywordtype}{void} \hyperlink{a00031_a6b7c14e04deed69b70d552dbe70c4d28}{QCPGraph::getStepLeftPlotData}(QVector<QPointF> *lineData, 
      QVector<QCPData> *pointData)\textcolor{keyword}{ const}
01091 \textcolor{keyword}{}\{
01092   \textcolor{comment}{// get visible data range:}
01093   QCPDataMap::const\_iterator lower, upper;
01094   \textcolor{keywordtype}{int} dataCount;
01095   \hyperlink{a00031_a8963c90087cf53b889b29dd59aa41aad}{getVisibleDataBounds}(lower, upper, dataCount);
01096   \textcolor{comment}{// prepare vectors:}
01097   \textcolor{keywordflow}{if} (lineData)
01098   \{
01099     \textcolor{comment}{// added 2 to reserve memory for lower/upper fill base points that might be needed for fill}
01100     \textcolor{comment}{// multiplied by 2 because step plot needs two polyline points per one actual data point}
01101     lineData->reserve(dataCount*2+2);
01102     lineData->resize(dataCount*2);
01103   \}
01104   \textcolor{keywordflow}{if} (pointData)
01105     pointData->resize(dataCount);
01106   
01107   \textcolor{comment}{// position data points:}
01108   QCPDataMap::const\_iterator it = lower;
01109   QCPDataMap::const\_iterator upperEnd = upper+1;
01110   \textcolor{keywordtype}{int} i = 0;
01111   \textcolor{keywordtype}{int} ipoint = 0;
01112   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01113   \{
01114     \textcolor{keywordtype}{double} lastValue = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01115     \textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
01116     \textcolor{keywordflow}{while} (it != upperEnd)
01117     \{
01118       \textcolor{keywordflow}{if} (pointData)
01119       \{
01120         (*pointData)[ipoint] = it.value();
01121         ++ipoint;
01122       \}
01123       key = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01124       (*lineData)[i].setX(lastValue);
01125       (*lineData)[i].setY(key);
01126       ++i;
01127       lastValue = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01128       (*lineData)[i].setX(lastValue);
01129       (*lineData)[i].setY(key);
01130       ++i;
01131       ++it;
01132     \}
01133   \} \textcolor{keywordflow}{else} \textcolor{comment}{// key axis is horizontal}
01134   \{
01135     \textcolor{keywordtype}{double} lastValue = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01136     \textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
01137     \textcolor{keywordflow}{while} (it != upperEnd)
01138     \{
01139       \textcolor{keywordflow}{if} (pointData)
01140       \{
01141         (*pointData)[ipoint] = it.value();
01142         ++ipoint;
01143       \}
01144       key = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01145       (*lineData)[i].setX(key);
01146       (*lineData)[i].setY(lastValue);
01147       ++i;
01148       lastValue = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01149       (*lineData)[i].setX(key);
01150       (*lineData)[i].setY(lastValue);
01151       ++i;
01152       ++it;
01153     \}
01154   \}
01155 \}
01156 
\hypertarget{a00115_source_l01167}{}\hyperlink{a00031_ab2ad46716889c73ab977cf9280de0788}{01167} \textcolor{keywordtype}{void} \hyperlink{a00031_ab2ad46716889c73ab977cf9280de0788}{QCPGraph::getStepRightPlotData}(QVector<QPointF> *lineData, 
      QVector<QCPData> *pointData)\textcolor{keyword}{ const}
01168 \textcolor{keyword}{}\{
01169   \textcolor{comment}{// get visible data range:}
01170   QCPDataMap::const\_iterator lower, upper;
01171   \textcolor{keywordtype}{int} dataCount;
01172   \hyperlink{a00031_a8963c90087cf53b889b29dd59aa41aad}{getVisibleDataBounds}(lower, upper, dataCount);
01173   \textcolor{comment}{// prepare vectors:}
01174   \textcolor{keywordflow}{if} (lineData)
01175   \{
01176     \textcolor{comment}{// added 2 to reserve memory for lower/upper fill base points that might be needed for fill}
01177     \textcolor{comment}{// multiplied by 2 because step plot needs two polyline points per one actual data point}
01178     lineData->reserve(dataCount*2+2);
01179     lineData->resize(dataCount*2);
01180   \}
01181   \textcolor{keywordflow}{if} (pointData)
01182     pointData->resize(dataCount);
01183   
01184   \textcolor{comment}{// position points:}
01185   QCPDataMap::const\_iterator it = lower;
01186   QCPDataMap::const\_iterator upperEnd = upper+1;
01187   \textcolor{keywordtype}{int} i = 0;
01188   \textcolor{keywordtype}{int} ipoint = 0;
01189   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01190   \{
01191     \textcolor{keywordtype}{double} lastKey = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01192     \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
01193     \textcolor{keywordflow}{while} (it != upperEnd)
01194     \{
01195       \textcolor{keywordflow}{if} (pointData)
01196       \{
01197         (*pointData)[ipoint] = it.value();
01198         ++ipoint;
01199       \}
01200       value = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01201       (*lineData)[i].setX(value);
01202       (*lineData)[i].setY(lastKey);
01203       ++i;
01204       lastKey = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01205       (*lineData)[i].setX(value);
01206       (*lineData)[i].setY(lastKey);
01207       ++i;
01208       ++it;
01209     \}
01210   \} \textcolor{keywordflow}{else} \textcolor{comment}{// key axis is horizontal}
01211   \{
01212     \textcolor{keywordtype}{double} lastKey = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01213     \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
01214     \textcolor{keywordflow}{while} (it != upperEnd)
01215     \{
01216       \textcolor{keywordflow}{if} (pointData)
01217       \{
01218         (*pointData)[ipoint] = it.value();
01219         ++ipoint;
01220       \}
01221       value = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01222       (*lineData)[i].setX(lastKey);
01223       (*lineData)[i].setY(value);
01224       ++i;
01225       lastKey = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01226       (*lineData)[i].setX(lastKey);
01227       (*lineData)[i].setY(value);
01228       ++i;
01229       ++it;
01230     \}
01231   \}
01232 \}
01233 
\hypertarget{a00115_source_l01244}{}\hyperlink{a00031_ac79dc75dd98db9948d9656447b463af5}{01244} \textcolor{keywordtype}{void} \hyperlink{a00031_ac79dc75dd98db9948d9656447b463af5}{QCPGraph::getStepCenterPlotData}(QVector<QPointF> *lineData, 
      QVector<QCPData> *pointData)\textcolor{keyword}{ const}
01245 \textcolor{keyword}{}\{
01246   \textcolor{comment}{// get visible data range:}
01247   QCPDataMap::const\_iterator lower, upper;
01248   \textcolor{keywordtype}{int} dataCount;
01249   \hyperlink{a00031_a8963c90087cf53b889b29dd59aa41aad}{getVisibleDataBounds}(lower, upper, dataCount);
01250   \textcolor{comment}{// prepare vectors:}
01251   \textcolor{keywordflow}{if} (lineData)
01252   \{
01253     \textcolor{comment}{// added 2 to reserve memory for lower/upper fill base points that might be needed for base fill}
01254     \textcolor{comment}{// multiplied by 2 because step plot needs two polyline points per one actual data point}
01255     lineData->reserve(dataCount*2+2);
01256     lineData->resize(dataCount*2);
01257   \}
01258   \textcolor{keywordflow}{if} (pointData)
01259     pointData->resize(dataCount);
01260   
01261   \textcolor{comment}{// position points:}
01262   QCPDataMap::const\_iterator it = lower;
01263   QCPDataMap::const\_iterator upperEnd = upper+1;
01264   \textcolor{keywordtype}{int} i = 0;
01265   \textcolor{keywordtype}{int} ipoint = 0;
01266   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01267   \{
01268     \textcolor{keywordtype}{double} lastKey = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01269     \textcolor{keywordtype}{double} lastValue = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01270     \textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
01271     \textcolor{keywordflow}{if} (pointData)
01272     \{
01273       (*pointData)[ipoint] = it.value();
01274       ++ipoint;
01275     \}
01276     (*lineData)[i].setX(lastValue);
01277     (*lineData)[i].setY(lastKey);
01278     ++it;
01279     ++i;
01280     \textcolor{keywordflow}{while} (it != upperEnd)
01281     \{
01282       \textcolor{keywordflow}{if} (pointData)
01283       \{
01284         (*pointData)[ipoint] = it.value();
01285         ++ipoint;
01286       \}
01287       key = (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key())-lastKey)*0.5 + lastKey;
01288       (*lineData)[i].setX(lastValue);
01289       (*lineData)[i].setY(key);
01290       ++i;
01291       lastValue = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01292       lastKey = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01293       (*lineData)[i].setX(lastValue);
01294       (*lineData)[i].setY(key);
01295       ++it;
01296       ++i;
01297     \}
01298     (*lineData)[i].setX(lastValue);
01299     (*lineData)[i].setY(lastKey);
01300   \} \textcolor{keywordflow}{else} \textcolor{comment}{// key axis is horizontal}
01301   \{
01302     \textcolor{keywordtype}{double} lastKey = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01303     \textcolor{keywordtype}{double} lastValue = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01304     \textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
01305     \textcolor{keywordflow}{if} (pointData)
01306     \{
01307       (*pointData)[ipoint] = it.value();
01308       ++ipoint;
01309     \}
01310     (*lineData)[i].setX(lastKey);
01311     (*lineData)[i].setY(lastValue);
01312     ++it;
01313     ++i;
01314     \textcolor{keywordflow}{while} (it != upperEnd)
01315     \{
01316       \textcolor{keywordflow}{if} (pointData)
01317       \{
01318         (*pointData)[ipoint] = it.value();
01319         ++ipoint;
01320       \}
01321       key = (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key())-lastKey)*0.5 + lastKey;
01322       (*lineData)[i].setX(key);
01323       (*lineData)[i].setY(lastValue);
01324       ++i;
01325       lastValue = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value);
01326       lastKey = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01327       (*lineData)[i].setX(key);
01328       (*lineData)[i].setY(lastValue);
01329       ++it;
01330       ++i;
01331     \}
01332     (*lineData)[i].setX(lastKey);
01333     (*lineData)[i].setY(lastValue);
01334   \}
01335 \}
01336 
\hypertarget{a00115_source_l01347}{}\hyperlink{a00031_a0ff6e856387cc079b28592ead2a81f6c}{01347} \textcolor{keywordtype}{void} \hyperlink{a00031_a0ff6e856387cc079b28592ead2a81f6c}{QCPGraph::getImpulsePlotData}(QVector<QPointF> *lineData, QVector<QCPData> 
      *pointData)\textcolor{keyword}{ const}
01348 \textcolor{keyword}{}\{
01349   \textcolor{comment}{// get visible data range:}
01350   QCPDataMap::const\_iterator lower, upper;
01351   \textcolor{keywordtype}{int} dataCount;
01352   \hyperlink{a00031_a8963c90087cf53b889b29dd59aa41aad}{getVisibleDataBounds}(lower, upper, dataCount);
01353   \textcolor{comment}{// prepare vectors:}
01354   \textcolor{keywordflow}{if} (lineData)
01355   \{
01356     \textcolor{comment}{// no need to reserve 2 extra points, because there is no fill for impulse plot}
01357     lineData->resize(dataCount*2);
01358   \}
01359   \textcolor{keywordflow}{if} (pointData)
01360     pointData->resize(dataCount);
01361   
01362   \textcolor{comment}{// position data points:}
01363   QCPDataMap::const\_iterator it = lower;
01364   QCPDataMap::const\_iterator upperEnd = upper+1;
01365   \textcolor{keywordtype}{int} i = 0;
01366   \textcolor{keywordtype}{int} ipoint = 0;
01367   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01368   \{
01369     \textcolor{keywordtype}{double} zeroPointX = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0);
01370     \textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
01371     \textcolor{keywordflow}{while} (it != upperEnd)
01372     \{
01373       \textcolor{keywordflow}{if} (pointData)
01374       \{
01375         (*pointData)[ipoint] = it.value();
01376         ++ipoint;
01377       \}
01378       key = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01379       (*lineData)[i].setX(zeroPointX);
01380       (*lineData)[i].setY(key);
01381       ++i;
01382       (*lineData)[i].setX(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value));
01383       (*lineData)[i].setY(key);
01384       ++i;
01385       ++it;
01386     \}
01387   \} \textcolor{keywordflow}{else} \textcolor{comment}{// key axis is horizontal}
01388   \{
01389     \textcolor{keywordtype}{double} zeroPointY = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0);
01390     \textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
01391     \textcolor{keywordflow}{while} (it != upperEnd)
01392     \{
01393       \textcolor{keywordflow}{if} (pointData)
01394       \{
01395         (*pointData)[ipoint] = it.value();
01396         ++ipoint;
01397       \}
01398       key = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.key());
01399       (*lineData)[i].setX(key);
01400       (*lineData)[i].setY(zeroPointY);
01401       ++i;
01402       (*lineData)[i].setX(key);
01403       (*lineData)[i].setY(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(it.value().value));
01404       ++i;
01405       ++it;
01406     \}
01407   \}
01408 \}
01409 
\hypertarget{a00115_source_l01421}{}\hyperlink{a00031_ad6d07926e6d6b7cfa70258780d47b7a0}{01421} \textcolor{keywordtype}{void} \hyperlink{a00031_ad6d07926e6d6b7cfa70258780d47b7a0}{QCPGraph::drawFill}(\hyperlink{a00047}{QCPPainter} *painter, QVector<QPointF> *lineData)\textcolor{keyword}{ const}
01422 \textcolor{keyword}{}\{
01423   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} == \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aa3b358b4ae7cca94aceeb8e529c12ebb}{lsImpulse}) \textcolor{keywordflow}{return}; \textcolor{comment}{// fill doesn't make sense for impulse plot}
01424   \textcolor{keywordflow}{if} (\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}().style() == Qt::NoBrush || \hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}().\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color}().alpha() == 0) \textcolor{keywordflow}{return}
      ;
01425   
01426   \hyperlink{a00024_ac08a480155895e674dbfe5a5670e0ff3}{applyFillAntialiasingHint}(painter);
01427   \textcolor{keywordflow}{if} (!\hyperlink{a00031_aa49af2f241d9ffdc301a24f08b10bdc8}{mChannelFillGraph})
01428   \{
01429     \textcolor{comment}{// draw base fill under graph, fill goes all the way to the zero-value-line:}
01430     \hyperlink{a00031_a5fa7884620d7c54b81dfbd255d97b636}{addFillBasePoints}(lineData);
01431     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(Qt::NoPen);
01432     painter->setBrush(\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}());
01433     painter->drawPolygon(QPolygonF(*lineData));
01434     \hyperlink{a00031_ad31b49a90e91e538fd9caf011c913a68}{removeFillBasePoints}(lineData);
01435   \} \textcolor{keywordflow}{else}
01436   \{
01437     \textcolor{comment}{// draw channel fill between this graph and mChannelFillGraph:}
01438     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(Qt::NoPen);
01439     painter->setBrush(\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}());
01440     painter->drawPolygon(\hyperlink{a00031_a0374b7268e35cab9802a6be2b5d726d7}{getChannelFillPolygon}(lineData));
01441   \}
01442 \}
01443 
\hypertarget{a00115_source_l01451}{}\hyperlink{a00031_af1872a60bed7acb3f3b17bfae3f4764c}{01451} \textcolor{keywordtype}{void} \hyperlink{a00031_af1872a60bed7acb3f3b17bfae3f4764c}{QCPGraph::drawScatterPlot}(\hyperlink{a00047}{QCPPainter} *painter, QVector<QCPData> *
      pointData)\textcolor{keyword}{ const}
01452 \textcolor{keyword}{}\{
01453   \textcolor{comment}{// draw error bars:}
01454   \textcolor{keywordflow}{if} (\hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} != etNone)
01455   \{
01456     \hyperlink{a00024_af687bfe6160255960558eb71f1f81e73}{applyErrorBarsAntialiasingHint}(painter);
01457     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00031_aa35681a24165c2831301091a87b662ce}{mErrorPen});
01458     \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01459     \{
01460       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<pointData->size(); ++i)
01461         \hyperlink{a00031_a4df6807066ce877705e999773e7ffbc4}{drawError}(painter, \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(pointData->at(i).value),
       \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(pointData->at(i).key), pointData->at(i));
01462     \} \textcolor{keywordflow}{else}
01463     \{
01464       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<pointData->size(); ++i)
01465         \hyperlink{a00031_a4df6807066ce877705e999773e7ffbc4}{drawError}(painter, \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(pointData->at(i).key), 
      \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(pointData->at(i).value), pointData->at(i));
01466     \}
01467   \}
01468   
01469   \textcolor{comment}{// draw scatter point symbols:}
01470   \hyperlink{a00024_a753272ee225a62827e90c3e1e78de4b1}{applyScattersAntialiasingHint}(painter);
01471   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}());
01472   painter->setBrush(\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}());
01473   painter->\hyperlink{a00047_a0f636de68b40d2e169ab15a8ca067107}{setScatterPixmap}(\hyperlink{a00031_a38fccb64b03a53f3ba2839c94dc31e8f}{mScatterPixmap});
01474   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01475   \{
01476     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<pointData->size(); ++i)
01477       painter->\hyperlink{a00047_a3aa145eb9865752d583c40ef995c5049}{drawScatter}(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(pointData->at(i).value
      ), \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(pointData->at(i).key), \hyperlink{a00031_a0a1d01359f53211427fb4d71a71dbbec}{mScatterSize}, 
      \hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle});
01478   \} \textcolor{keywordflow}{else}
01479   \{
01480     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<pointData->size(); ++i)
01481       painter->\hyperlink{a00047_a3aa145eb9865752d583c40ef995c5049}{drawScatter}(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(pointData->at(i).key), 
      \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(pointData->at(i).value), 
      \hyperlink{a00031_a0a1d01359f53211427fb4d71a71dbbec}{mScatterSize}, \hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle});
01482   \}
01483 \}
01484 
\hypertarget{a00115_source_l01493}{}\hyperlink{a00031_acebc22c3385829b19a87e6281fe6ade2}{01493} \textcolor{keywordtype}{void} \hyperlink{a00031_acebc22c3385829b19a87e6281fe6ade2}{QCPGraph::drawLinePlot}(\hyperlink{a00047}{QCPPainter} *painter, QVector<QPointF> *lineData
      )\textcolor{keyword}{ const}
01494 \textcolor{keyword}{}\{
01495   \textcolor{comment}{// draw line of graph:}
01496   \textcolor{keywordflow}{if} (\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}().style() != Qt::NoPen && \hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}().\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color}().alpha() != 0)
01497   \{
01498     \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
01499     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}());
01500     painter->setBrush(Qt::NoBrush);
01501     
01502     \textcolor{comment}{/* Draws polyline in batches, currently not used:}
01503 \textcolor{comment}{    int p = 0;}
01504 \textcolor{comment}{    while (p < lineData->size())}
01505 \textcolor{comment}{    \{}
01506 \textcolor{comment}{      int batch = qMin(25, lineData->size()-p);}
01507 \textcolor{comment}{      if (p != 0)}
01508 \textcolor{comment}{      \{}
01509 \textcolor{comment}{        ++batch;}
01510 \textcolor{comment}{        --p; // to draw the connection lines between two batches}
01511 \textcolor{comment}{      \}}
01512 \textcolor{comment}{      painter->drawPolyline(lineData->constData()+p, batch);}
01513 \textcolor{comment}{      p += batch;}
01514 \textcolor{comment}{    \}}
01515 \textcolor{comment}{    */}
01516     
01517     \textcolor{comment}{// if drawing solid line and not in PDF, use much faster line drawing instead of polyline:}
01518     \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->plottingHints().testFlag(QCP::phFastPolylines) &&
01519         painter->pen().style() == Qt::SolidLine &&
01520         !painter->\hyperlink{a00047_ac272648ed66f0602f2250de45cbbeb33}{pdfExportMode}())
01521     \{
01522       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1; i<lineData->size(); ++i)
01523         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(lineData->at(i-1), lineData->at(i));
01524     \} \textcolor{keywordflow}{else}
01525     \{  
01526       painter->drawPolyline(QPolygonF(*lineData));
01527     \}
01528   \}
01529 \}
01530 
\hypertarget{a00115_source_l01537}{}\hyperlink{a00031_abc01180629621f1e47e94559227d3d8c}{01537} \textcolor{keywordtype}{void} \hyperlink{a00031_abc01180629621f1e47e94559227d3d8c}{QCPGraph::drawImpulsePlot}(\hyperlink{a00047}{QCPPainter} *painter, QVector<QPointF> *
      lineData)\textcolor{keyword}{ const}
01538 \textcolor{keyword}{}\{
01539   \textcolor{comment}{// draw impulses:}
01540   \textcolor{keywordflow}{if} (\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}().style() != Qt::NoPen && \hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}().\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color}().alpha() != 0)
01541   \{
01542     \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
01543     QPen \hyperlink{a00024_a41d060007cc6b3037c9c04d22d0c0398}{pen} = \hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}();
01544     pen.setCapStyle(Qt::FlatCap); \textcolor{comment}{// so impulse line doesn't reach beyond zero-line}
01545     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(pen);
01546     painter->setBrush(Qt::NoBrush);
01547     painter->drawLines(*lineData);
01548   \}
01549 \}
01550 
\hypertarget{a00115_source_l01558}{}\hyperlink{a00031_a4df6807066ce877705e999773e7ffbc4}{01558} \textcolor{keywordtype}{void} \hyperlink{a00031_a4df6807066ce877705e999773e7ffbc4}{QCPGraph::drawError}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keyword}{const} 
      \hyperlink{a00030_d2/d94/a00184}{QCPData} &data)\textcolor{keyword}{ const}
01559 \textcolor{keyword}{}\{
01560   \textcolor{keywordtype}{double} a, b; \textcolor{comment}{// positions of error bar bounds in pixels}
01561   \textcolor{keywordtype}{double} barWidthHalf = \hyperlink{a00031_a7b51c8d09510f9d195b5e765ccbcf05b}{mErrorBarSize}*0.5;
01562   \textcolor{keywordtype}{double} skipSymbolMargin = \hyperlink{a00031_a0a1d01359f53211427fb4d71a71dbbec}{mScatterSize}*1.25; \textcolor{comment}{// pixels left blank per side, when
       mErrorBarSkipSymbol is true}
01563 
01564   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01565   \{
01566     \textcolor{comment}{// draw key error vertically and value error horizontally}
01567     \textcolor{keywordflow}{if} (\hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} == etKey || \hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} == etBoth)
01568     \{
01569       a = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(data.key-data.keyErrorMinus);
01570       b = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(data.key+data.keyErrorPlus);
01571       \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}())
01572         qSwap(a,b);
01573       \textcolor{comment}{// draw spine:}
01574       \textcolor{keywordflow}{if} (\hyperlink{a00031_acf631d7dbd1055a69ab3b63094868557}{mErrorBarSkipSymbol})
01575       \{
01576         \textcolor{keywordflow}{if} (a-y > skipSymbolMargin) \textcolor{comment}{// don't draw spine if error is so small it's within skipSymbolmargin}
01577           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, a, x, y+skipSymbolMargin));
01578         \textcolor{keywordflow}{if} (y-b > skipSymbolMargin) 
01579           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y-skipSymbolMargin, x, b));
01580       \} \textcolor{keywordflow}{else}
01581         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, a, x, b));
01582       \textcolor{comment}{// draw handles:}
01583       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-barWidthHalf, a, x+barWidthHalf, a));
01584       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-barWidthHalf, b, x+barWidthHalf, b));
01585     \}
01586     \textcolor{keywordflow}{if} (\hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} == etValue || \hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} == etBoth)
01587     \{
01588       a = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(data.value-data.valueErrorMinus);
01589       b = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(data.value+data.valueErrorPlus);
01590       \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}())
01591         qSwap(a,b);
01592       \textcolor{comment}{// draw spine:}
01593       \textcolor{keywordflow}{if} (\hyperlink{a00031_acf631d7dbd1055a69ab3b63094868557}{mErrorBarSkipSymbol})
01594       \{
01595         \textcolor{keywordflow}{if} (x-a > skipSymbolMargin) \textcolor{comment}{// don't draw spine if error is so small it's within skipSymbolmargin}
01596           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(a, y, x-skipSymbolMargin, y));
01597         \textcolor{keywordflow}{if} (b-x > skipSymbolMargin)
01598           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x+skipSymbolMargin, y, b, y));
01599       \} \textcolor{keywordflow}{else}
01600         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(a, y, b, y));
01601       \textcolor{comment}{// draw handles:}
01602       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(a, y-barWidthHalf, a, y+barWidthHalf));
01603       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(b, y-barWidthHalf, b, y+barWidthHalf));
01604     \}
01605   \} \textcolor{keywordflow}{else} \textcolor{comment}{// mKeyAxis->orientation() is Qt::Horizontal}
01606   \{
01607     \textcolor{comment}{// draw value error vertically and key error horizontally}
01608     \textcolor{keywordflow}{if} (\hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} == etKey || \hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} == etBoth)
01609     \{
01610       a = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(data.key-data.keyErrorMinus);
01611       b = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(data.key+data.keyErrorPlus);
01612       \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}())
01613         qSwap(a,b);
01614       \textcolor{comment}{// draw spine:}
01615       \textcolor{keywordflow}{if} (\hyperlink{a00031_acf631d7dbd1055a69ab3b63094868557}{mErrorBarSkipSymbol})
01616       \{
01617         \textcolor{keywordflow}{if} (x-a > skipSymbolMargin) \textcolor{comment}{// don't draw spine if error is so small it's within skipSymbolmargin}
01618           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(a, y, x-skipSymbolMargin, y));
01619         \textcolor{keywordflow}{if} (b-x > skipSymbolMargin)
01620           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x+skipSymbolMargin, y, b, y));
01621       \} \textcolor{keywordflow}{else}
01622         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(a, y, b, y));
01623       \textcolor{comment}{// draw handles:}
01624       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(a, y-barWidthHalf, a, y+barWidthHalf));
01625       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(b, y-barWidthHalf, b, y+barWidthHalf));
01626     \}
01627     \textcolor{keywordflow}{if} (\hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} == etValue || \hyperlink{a00031_a29e64273db201aeadebc61c870720a36}{mErrorType} == etBoth)
01628     \{
01629       a = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(data.value-data.valueErrorMinus);
01630       b = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(data.value+data.valueErrorPlus);
01631       \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}())
01632         qSwap(a,b);
01633       \textcolor{comment}{// draw spine:}
01634       \textcolor{keywordflow}{if} (\hyperlink{a00031_acf631d7dbd1055a69ab3b63094868557}{mErrorBarSkipSymbol})
01635       \{
01636         \textcolor{keywordflow}{if} (a-y > skipSymbolMargin) \textcolor{comment}{// don't draw spine if error is so small it's within skipSymbolmargin}
01637           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, a, x, y+skipSymbolMargin));
01638         \textcolor{keywordflow}{if} (y-b > skipSymbolMargin)
01639           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y-skipSymbolMargin, x, b));
01640       \} \textcolor{keywordflow}{else}
01641         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, a, x, b));
01642       \textcolor{comment}{// draw handles:}
01643       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-barWidthHalf, a, x+barWidthHalf, a));
01644       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-barWidthHalf, b, x+barWidthHalf, b));
01645     \}
01646   \}
01647 \}
01648 
\hypertarget{a00115_source_l01662}{}\hyperlink{a00031_a8963c90087cf53b889b29dd59aa41aad}{01662} \textcolor{keywordtype}{void} \hyperlink{a00031_a8963c90087cf53b889b29dd59aa41aad}{QCPGraph::getVisibleDataBounds}(QCPDataMap::const\_iterator &lower, 
      QCPDataMap::const\_iterator &upper, \textcolor{keywordtype}{int} &count)\textcolor{keyword}{ const}
01663 \textcolor{keyword}{}\{
01664   \textcolor{comment}{// get visible data range as QMap iterators}
01665   QCPDataMap::const\_iterator lbound = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->lowerBound(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->
      \hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower});
01666   QCPDataMap::const\_iterator ubound = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->upperBound(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->
      \hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})-1;
01667   \textcolor{keywordtype}{bool} lowoutlier = lbound != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin(); \textcolor{comment}{// indicates whether there exist points below axis
       range}
01668   \textcolor{keywordtype}{bool} highoutlier = ubound+1 != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constEnd(); \textcolor{comment}{// indicates whether there exist points above axis
       range}
01669   lower = (lowoutlier ? lbound-1 : lbound); \textcolor{comment}{// data pointrange that will be actually drawn}
01670   upper = (highoutlier ? ubound+1 : ubound); \textcolor{comment}{// data pointrange that will be actually drawn}
01671   
01672   \textcolor{comment}{// count number of points in range lower to upper (including them), so we can allocate array for them in
       draw functions:}
01673   QCPDataMap::const\_iterator it = lower;
01674   count = 1;
01675   \textcolor{keywordflow}{while} (it != upper)
01676   \{
01677     ++it;
01678     ++count;
01679   \}
01680 \}
01681 
\hypertarget{a00115_source_l01696}{}\hyperlink{a00031_a5fa7884620d7c54b81dfbd255d97b636}{01696} \textcolor{keywordtype}{void} \hyperlink{a00031_a5fa7884620d7c54b81dfbd255d97b636}{QCPGraph::addFillBasePoints}(QVector<QPointF> *lineData)\textcolor{keyword}{ const}
01697 \textcolor{keyword}{}\{
01698   \textcolor{comment}{// append points that close the polygon fill at the key axis:}
01699   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01700   \{
01701     *lineData << \hyperlink{a00031_a363d066c179e0f46cc93c12bafb0bfba}{upperFillBasePoint}(lineData->last().y());
01702     *lineData << \hyperlink{a00031_a41f982e8ceaefe6a53eb7432f26d64b6}{lowerFillBasePoint}(lineData->first().y());
01703   \} \textcolor{keywordflow}{else}
01704   \{
01705     *lineData << \hyperlink{a00031_a363d066c179e0f46cc93c12bafb0bfba}{upperFillBasePoint}(lineData->last().x());
01706     *lineData << \hyperlink{a00031_a41f982e8ceaefe6a53eb7432f26d64b6}{lowerFillBasePoint}(lineData->first().x());
01707   \}
01708 \}
01709 
\hypertarget{a00115_source_l01715}{}\hyperlink{a00031_ad31b49a90e91e538fd9caf011c913a68}{01715} \textcolor{keywordtype}{void} \hyperlink{a00031_ad31b49a90e91e538fd9caf011c913a68}{QCPGraph::removeFillBasePoints}(QVector<QPointF> *lineData)\textcolor{keyword}{ const}
01716 \textcolor{keyword}{}\{
01717   lineData->remove(lineData->size()-2, 2);
01718 \}
01719 
\hypertarget{a00115_source_l01733}{}\hyperlink{a00031_a41f982e8ceaefe6a53eb7432f26d64b6}{01733} QPointF \hyperlink{a00031_a41f982e8ceaefe6a53eb7432f26d64b6}{QCPGraph::lowerFillBasePoint}(\textcolor{keywordtype}{double} lowerKey)\textcolor{keyword}{ const}
01734 \textcolor{keyword}{}\{
01735   QPointF point;
01736   \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a8563e13407bc0616da7f7c84e02de170}{scaleType}() == QCPAxis::stLinear)
01737   \{
01738     \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730}{QCPAxis::atLeft})
01739     \{
01740       point.setX(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0));
01741       point.setY(lowerKey);
01742     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{QCPAxis::atRight})
01743     \{
01744       point.setX(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0));
01745       point.setY(lowerKey);
01746     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{QCPAxis::atTop})
01747     \{
01748       point.setX(lowerKey);
01749       point.setY(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0));
01750     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{QCPAxis::atBottom})
01751     \{
01752       point.setX(lowerKey);
01753       point.setY(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0));
01754     \}
01755   \} \textcolor{keywordflow}{else} \textcolor{comment}{// mValueAxis->mScaleType == QCPAxis::stLogarithmic}
01756   \{
01757     \textcolor{comment}{// In logarithmic scaling we can't just draw to value zero so we just fill all the way}
01758     \textcolor{comment}{// to the axis which is in the direction towards zero}
01759     \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01760     \{
01761       \textcolor{keywordflow}{if} ((\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 && !\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}()) ||
01762           (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0 && \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}())) \textcolor{comment}{// if range is negative, zero is on opposite side of key axis}
01763         point.setX(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}().right());
01764       \textcolor{keywordflow}{else}
01765         point.setX(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}().left());
01766       point.setY(lowerKey);
01767     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{QCPAxis::atTop} || 
      \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{QCPAxis::atBottom})
01768     \{
01769       point.setX(lowerKey);
01770       \textcolor{keywordflow}{if} ((\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 && !\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}()) ||
01771           (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0 && \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}())) \textcolor{comment}{// if range is negative, zero is on opposite side of key axis}
01772         point.setY(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}().top());
01773       \textcolor{keywordflow}{else}
01774         point.setY(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}().bottom());
01775     \}
01776   \}
01777   \textcolor{keywordflow}{return} point;
01778 \}
01779 
\hypertarget{a00115_source_l01793}{}\hyperlink{a00031_a363d066c179e0f46cc93c12bafb0bfba}{01793} QPointF \hyperlink{a00031_a363d066c179e0f46cc93c12bafb0bfba}{QCPGraph::upperFillBasePoint}(\textcolor{keywordtype}{double} upperKey)\textcolor{keyword}{ const}
01794 \textcolor{keyword}{}\{
01795   QPointF point;
01796   \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a8563e13407bc0616da7f7c84e02de170}{scaleType}() == QCPAxis::stLinear)
01797   \{
01798     \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730}{QCPAxis::atLeft})
01799     \{
01800       point.setX(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0));
01801       point.setY(upperKey);
01802     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{QCPAxis::atRight})
01803     \{
01804       point.setX(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0));
01805       point.setY(upperKey);
01806     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{QCPAxis::atTop})
01807     \{
01808       point.setX(upperKey);
01809       point.setY(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0));
01810     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{QCPAxis::atBottom})
01811     \{
01812       point.setX(upperKey);
01813       point.setY(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(0));
01814     \}
01815   \} \textcolor{keywordflow}{else} \textcolor{comment}{// mValueAxis->mScaleType == QCPAxis::stLogarithmic}
01816   \{
01817     \textcolor{comment}{// In logarithmic scaling we can't just draw to value 0 so we just fill all the way}
01818     \textcolor{comment}{// to the axis which is in the direction towards 0}
01819     \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Vertical)
01820     \{
01821       \textcolor{keywordflow}{if} ((\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 && !\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}()) ||
01822           (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0 && \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}())) \textcolor{comment}{// if range is negative, zero is on opposite side of key axis}
01823         point.setX(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}().right());
01824       \textcolor{keywordflow}{else}
01825         point.setX(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}().left());
01826       point.setY(upperKey);
01827     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{QCPAxis::atTop} || 
      \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a593c37bf6aa4990326dc09e24f45db7f}{axisType}() == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{QCPAxis::atBottom})
01828     \{
01829       point.setX(upperKey);
01830       \textcolor{keywordflow}{if} ((\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 && !\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}()) ||
01831           (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0 && \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}())) \textcolor{comment}{// if range is negative, zero is on opposite side of key axis}
01832         point.setY(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}().top());
01833       \textcolor{keywordflow}{else}
01834         point.setY(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}().bottom());
01835     \}
01836   \}
01837   \textcolor{keywordflow}{return} point;
01838 \}
01839 
\hypertarget{a00115_source_l01849}{}\hyperlink{a00031_a0374b7268e35cab9802a6be2b5d726d7}{01849} \textcolor{keyword}{const} QPolygonF \hyperlink{a00031_a0374b7268e35cab9802a6be2b5d726d7}{QCPGraph::getChannelFillPolygon}(\textcolor{keyword}{const} QVector<QPointF> *
      lineData)\textcolor{keyword}{ const}
01850 \textcolor{keyword}{}\{
01851   \textcolor{keywordflow}{if} (\hyperlink{a00031_aa49af2f241d9ffdc301a24f08b10bdc8}{mChannelFillGraph}->\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() != 
      \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}())
01852     \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// don't have same axis orientation, can't fill that (Note: if keyAxis fits,
       valueAxis will fit too, because it's always orthogonal to keyAxis)}
01853   
01854   \textcolor{keywordflow}{if} (lineData->isEmpty()) \textcolor{keywordflow}{return} QPolygonF();
01855   QVector<QPointF> otherData;
01856   \hyperlink{a00031_aa49af2f241d9ffdc301a24f08b10bdc8}{mChannelFillGraph}->\hyperlink{a00031_af66183533a29520be3e74489ad1449cc}{getPlotData}(&otherData, 0);
01857   \textcolor{keywordflow}{if} (otherData.isEmpty()) \textcolor{keywordflow}{return} QPolygonF();
01858   QVector<QPointF> thisData;
01859   thisData.reserve(lineData->size()+otherData.size()); \textcolor{comment}{// because we will join both vectors at end of this
       function}
01860   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<lineData->size(); ++i) \textcolor{comment}{// don't use the vector<<(vector),  it squeezes internally, which
       ruins the performance tuning with reserve()}
01861     thisData << lineData->at(i);
01862   
01863   \textcolor{comment}{// pointers to be able to swap them, depending which data range needs cropping:}
01864   QVector<QPointF> *staticData = &thisData;
01865   QVector<QPointF> *croppedData = &otherData;
01866   
01867   \textcolor{comment}{// crop both vectors to ranges in which the keys overlap (which coord is key, depends on axisType):}
01868   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
01869   \{
01870     \textcolor{comment}{// x is key}
01871     \textcolor{comment}{// if an axis range is reversed, the data point keys will be descending. Reverse them, since following
       algorithm assumes ascending keys:}
01872     \textcolor{keywordflow}{if} (staticData->first().x() > staticData->last().x())
01873     \{
01874       \textcolor{keywordtype}{int} size = staticData->size();
01875       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<size/2; ++i)
01876         qSwap((*staticData)[i], (*staticData)[size-1-i]);
01877     \}
01878     \textcolor{keywordflow}{if} (croppedData->first().x() > croppedData->last().x())
01879     \{
01880       \textcolor{keywordtype}{int} size = croppedData->size();
01881       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<size/2; ++i)
01882         qSwap((*croppedData)[i], (*croppedData)[size-1-i]);
01883     \}
01884     \textcolor{comment}{// crop lower bound:}
01885     \textcolor{keywordflow}{if} (staticData->first().x() < croppedData->first().x()) \textcolor{comment}{// other one must be cropped}
01886       qSwap(staticData, croppedData);
01887     \textcolor{keywordtype}{int} lowBound = \hyperlink{a00031_a6f4e9461d5925be9228fc4760249a04f}{findIndexBelowX}(croppedData, staticData->first().x());
01888     \textcolor{keywordflow}{if} (lowBound == -1) \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// key ranges have no overlap}
01889     croppedData->remove(0, lowBound);
01890     \textcolor{comment}{// set lowest point of cropped data to fit exactly key position of first static data}
01891     \textcolor{comment}{// point via linear interpolation:}
01892     \textcolor{keywordflow}{if} (croppedData->size() < 2) \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// need at least two points for interpolation}
01893     \textcolor{keywordtype}{double} slope;
01894     \textcolor{keywordflow}{if} (croppedData->at(1).x()-croppedData->at(0).x() != 0)
01895       slope = (croppedData->at(1).y()-croppedData->at(0).y())/(croppedData->at(1).x()-croppedData->at(0).x(
      ));
01896     \textcolor{keywordflow}{else}
01897       slope = 0;
01898     (*croppedData)[0].setY(croppedData->at(0).y()+slope*(staticData->first().x()-croppedData->at(0).x()));
01899     (*croppedData)[0].setX(staticData->first().x());
01900     
01901     \textcolor{comment}{// crop upper bound:}
01902     \textcolor{keywordflow}{if} (staticData->last().x() > croppedData->last().x()) \textcolor{comment}{// other one must be cropped}
01903       qSwap(staticData, croppedData);
01904     \textcolor{keywordtype}{int} highBound = \hyperlink{a00031_abab2a75b5e63630432bdd1f3b57f07fa}{findIndexAboveX}(croppedData, staticData->last().x());
01905     \textcolor{keywordflow}{if} (highBound == -1) \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// key ranges have no overlap}
01906     croppedData->remove(highBound+1, croppedData->size()-(highBound+1));
01907     \textcolor{comment}{// set highest point of cropped data to fit exactly key position of last static data}
01908     \textcolor{comment}{// point via linear interpolation:}
01909     \textcolor{keywordflow}{if} (croppedData->size() < 2) \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// need at least two points for interpolation}
01910     \textcolor{keywordtype}{int} li = croppedData->size()-1; \textcolor{comment}{// last index}
01911     \textcolor{keywordflow}{if} (croppedData->at(li).x()-croppedData->at(li-1).x() != 0)
01912       slope = (croppedData->at(li).y()-croppedData->at(li-1).y())/(croppedData->at(li).x()-croppedData->at(
      li-1).x());
01913     \textcolor{keywordflow}{else}
01914       slope = 0;
01915     (*croppedData)[li].setY(croppedData->at(li-1).y()+slope*(staticData->last().x()-croppedData->at(li-1).x
      ()));
01916     (*croppedData)[li].setX(staticData->last().x());
01917   \} \textcolor{keywordflow}{else} \textcolor{comment}{// mKeyAxis->orientation() == Qt::Vertical}
01918   \{
01919     \textcolor{comment}{// y is key}
01920     \textcolor{comment}{// similar to "x is key" but switched x,y. Further, lower/upper meaning is inverted compared to x,}
01921     \textcolor{comment}{// because in pixel coordinates, y increases from top to bottom, not bottom to top like data
       coordinate.}
01922     \textcolor{comment}{// if an axis range is reversed, the data point keys will be descending. Reverse them, since following
       algorithm assumes ascending keys:}
01923     \textcolor{keywordflow}{if} (staticData->first().y() < staticData->last().y())
01924     \{
01925       \textcolor{keywordtype}{int} size = staticData->size();
01926       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<size/2; ++i)
01927         qSwap((*staticData)[i], (*staticData)[size-1-i]);
01928     \}
01929     \textcolor{keywordflow}{if} (croppedData->first().y() < croppedData->last().y())
01930     \{
01931       \textcolor{keywordtype}{int} size = croppedData->size();
01932       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<size/2; ++i)
01933         qSwap((*croppedData)[i], (*croppedData)[size-1-i]);
01934     \}
01935     \textcolor{comment}{// crop lower bound:}
01936     \textcolor{keywordflow}{if} (staticData->first().y() > croppedData->first().y()) \textcolor{comment}{// other one must be cropped}
01937       qSwap(staticData, croppedData);
01938     \textcolor{keywordtype}{int} lowBound = \hyperlink{a00031_adf50243f1df203883a2187089734bfcb}{findIndexAboveY}(croppedData, staticData->first().y());
01939     \textcolor{keywordflow}{if} (lowBound == -1) \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// key ranges have no overlap}
01940     croppedData->remove(0, lowBound);
01941     \textcolor{comment}{// set lowest point of cropped data to fit exactly key position of first static data}
01942     \textcolor{comment}{// point via linear interpolation:}
01943     \textcolor{keywordflow}{if} (croppedData->size() < 2) \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// need at least two points for interpolation}
01944     \textcolor{keywordtype}{double} slope;
01945     \textcolor{keywordflow}{if} (croppedData->at(1).y()-croppedData->at(0).y() != 0) \textcolor{comment}{// avoid division by zero in step plots}
01946       slope = (croppedData->at(1).x()-croppedData->at(0).x())/(croppedData->at(1).y()-croppedData->at(0).y(
      ));
01947     \textcolor{keywordflow}{else}
01948       slope = 0;
01949     (*croppedData)[0].setX(croppedData->at(0).x()+slope*(staticData->first().y()-croppedData->at(0).y()));
01950     (*croppedData)[0].setY(staticData->first().y());
01951     
01952     \textcolor{comment}{// crop upper bound:}
01953     \textcolor{keywordflow}{if} (staticData->last().y() < croppedData->last().y()) \textcolor{comment}{// other one must be cropped}
01954       qSwap(staticData, croppedData);
01955     \textcolor{keywordtype}{int} highBound = \hyperlink{a00031_a6c4d556de3d1e02f548401001f72c6ff}{findIndexBelowY}(croppedData, staticData->last().y());
01956     \textcolor{keywordflow}{if} (highBound == -1) \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// key ranges have no overlap}
01957     croppedData->remove(highBound+1, croppedData->size()-(highBound+1));
01958     \textcolor{comment}{// set highest point of cropped data to fit exactly key position of last static data}
01959     \textcolor{comment}{// point via linear interpolation:}
01960     \textcolor{keywordflow}{if} (croppedData->size() < 2) \textcolor{keywordflow}{return} QPolygonF(); \textcolor{comment}{// need at least two points for interpolation}
01961     \textcolor{keywordtype}{int} li = croppedData->size()-1; \textcolor{comment}{// last index}
01962     \textcolor{keywordflow}{if} (croppedData->at(li).y()-croppedData->at(li-1).y() != 0) \textcolor{comment}{// avoid division by zero in step plots}
01963       slope = (croppedData->at(li).x()-croppedData->at(li-1).x())/(croppedData->at(li).y()-croppedData->at(
      li-1).y());
01964     \textcolor{keywordflow}{else}
01965       slope = 0;
01966     (*croppedData)[li].setX(croppedData->at(li-1).x()+slope*(staticData->last().y()-croppedData->at(li-1).y
      ()));
01967     (*croppedData)[li].setY(staticData->last().y());
01968   \}
01969   
01970   \textcolor{comment}{// return joined:}
01971   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=otherData.size()-1; i>=0; --i) \textcolor{comment}{// insert reversed, otherwise the polygon will be twisted}
01972     thisData << otherData.at(i);
01973   \textcolor{keywordflow}{return} QPolygonF(thisData);
01974 \}
01975 
\hypertarget{a00115_source_l01983}{}\hyperlink{a00031_abab2a75b5e63630432bdd1f3b57f07fa}{01983} \textcolor{keywordtype}{int} \hyperlink{a00031_abab2a75b5e63630432bdd1f3b57f07fa}{QCPGraph::findIndexAboveX}(\textcolor{keyword}{const} QVector<QPointF> *data, \textcolor{keywordtype}{double} x)\textcolor{keyword}{ const}
01984 \textcolor{keyword}{}\{
01985   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=data->size()-1; i>=0; --i)
01986   \{
01987     \textcolor{keywordflow}{if} (data->at(i).x() < x)
01988     \{
01989       \textcolor{keywordflow}{if} (i<data->size()-1)
01990         \textcolor{keywordflow}{return} i+1;
01991       \textcolor{keywordflow}{else}
01992         \textcolor{keywordflow}{return} data->size()-1;
01993     \}
01994   \}
01995   \textcolor{keywordflow}{return} -1;
01996 \}
01997 
\hypertarget{a00115_source_l02005}{}\hyperlink{a00031_a6f4e9461d5925be9228fc4760249a04f}{02005} \textcolor{keywordtype}{int} \hyperlink{a00031_a6f4e9461d5925be9228fc4760249a04f}{QCPGraph::findIndexBelowX}(\textcolor{keyword}{const} QVector<QPointF> *data, \textcolor{keywordtype}{double} x)\textcolor{keyword}{ const}
02006 \textcolor{keyword}{}\{
02007   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<data->size(); ++i)
02008   \{
02009     \textcolor{keywordflow}{if} (data->at(i).x() > x)
02010     \{
02011       \textcolor{keywordflow}{if} (i>0)
02012         \textcolor{keywordflow}{return} i-1;
02013       \textcolor{keywordflow}{else}
02014         \textcolor{keywordflow}{return} 0;
02015     \}
02016   \}
02017   \textcolor{keywordflow}{return} -1;
02018 \}
02019 
\hypertarget{a00115_source_l02027}{}\hyperlink{a00031_adf50243f1df203883a2187089734bfcb}{02027} \textcolor{keywordtype}{int} \hyperlink{a00031_adf50243f1df203883a2187089734bfcb}{QCPGraph::findIndexAboveY}(\textcolor{keyword}{const} QVector<QPointF> *data, \textcolor{keywordtype}{double} y)\textcolor{keyword}{ const}
02028 \textcolor{keyword}{}\{
02029   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<data->size(); ++i)
02030   \{
02031     \textcolor{keywordflow}{if} (data->at(i).y() < y)
02032     \{
02033       \textcolor{keywordflow}{if} (i>0)
02034         \textcolor{keywordflow}{return} i-1;
02035       \textcolor{keywordflow}{else}
02036         \textcolor{keywordflow}{return} 0;
02037     \}
02038   \}
02039   \textcolor{keywordflow}{return} -1;
02040 \}
02041 
\hypertarget{a00115_source_l02048}{}\hyperlink{a00031_af93762a12a481a7edb4b3dd9e330dff1}{02048} \textcolor{keywordtype}{double} \hyperlink{a00031_af93762a12a481a7edb4b3dd9e330dff1}{QCPGraph::pointDistance}(\textcolor{keyword}{const} QPointF &pixelPoint)\textcolor{keyword}{ const}
02049 \textcolor{keyword}{}\{
02050   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->isEmpty())
02051   \{
02052     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"requested point distance on graph"} << \hyperlink{a00024_ac29ffef424e2488675930de18cde612a}{mName} << \textcolor{stringliteral}{"without data"};
02053     \textcolor{keywordflow}{return} 500;
02054   \}
02055   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->size() == 1)
02056   \{
02057     QPointF dataPoint = \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin().key(), 
      \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin().value().value);
02058     \textcolor{keywordflow}{return} QVector2D(dataPoint-pixelPoint).length();
02059   \}
02060   
02061   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} == \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04}{lsNone} && \hyperlink{a00031_a8f255af6fe1df09cedec73857ca0b344}{mScatterStyle} == 
      \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone})
02062     \textcolor{keywordflow}{return} 500;
02063   
02064   \textcolor{comment}{// calculate minimum distances to graph representation:}
02065   \textcolor{keywordflow}{if} (\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} == \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aea9591b933733cc7b20786b71e60fa04}{lsNone})
02066   \{
02067     \textcolor{comment}{// no line displayed, only calculate distance to scatter points:}
02068     QVector<QCPData> *pointData = \textcolor{keyword}{new} QVector<QCPData>;
02069     \hyperlink{a00031_a0899c4d6357aee19a3abff5897c3c8c5}{getScatterPlotData}(pointData);
02070     \textcolor{keywordtype}{double} minDistSqr = std::numeric\_limits<double>::max();
02071     QPointF ptA;
02072     QPointF ptB = \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(pointData->at(0).key, pointData->at(0).value); \textcolor{comment}{//
       getScatterPlotData returns in plot coordinates, so transform to pixels}
02073     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1; i<pointData->size(); ++i)
02074     \{
02075       ptA = ptB;
02076       ptB = \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(pointData->at(i).key, pointData->at(i).value);
02077       \textcolor{keywordtype}{double} currentDistSqr = \hyperlink{a00024_a5ea1cab44ca912dcdc96ed81ec5bed5d}{distSqrToLine}(ptA, ptB, pixelPoint);
02078       \textcolor{keywordflow}{if} (currentDistSqr < minDistSqr)
02079         minDistSqr = currentDistSqr;
02080     \}
02081     \textcolor{keyword}{delete} pointData;
02082     \textcolor{keywordflow}{return} sqrt(minDistSqr);
02083   \} \textcolor{keywordflow}{else}
02084   \{
02085     \textcolor{comment}{// line displayed calculate distance to line segments:}
02086     QVector<QPointF> *lineData = \textcolor{keyword}{new} QVector<QPointF>;
02087     \hyperlink{a00031_af66183533a29520be3e74489ad1449cc}{getPlotData}(lineData, 0); \textcolor{comment}{// unlike with getScatterPlotData we get pixel coordinates here}
02088     \textcolor{keywordtype}{double} minDistSqr = std::numeric\_limits<double>::max();
02089     \textcolor{keywordflow}{if} (\hyperlink{a00031_a8604fd98402035a63375849f7341ee25}{mLineStyle} == \hyperlink{a00031_ad60175cd9b5cac937c5ee685c32c0859aa3b358b4ae7cca94aceeb8e529c12ebb}{lsImpulse})
02090     \{
02091       \textcolor{comment}{// impulse plot differs from other line styles in that the lineData points are only pairwise
       connected:}
02092       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<lineData->size()-1; i+=2) \textcolor{comment}{// iterate pairs}
02093       \{
02094         \textcolor{keywordtype}{double} currentDistSqr = \hyperlink{a00024_a5ea1cab44ca912dcdc96ed81ec5bed5d}{distSqrToLine}(lineData->at(i), lineData->at(i+1), pixelPoint);
02095         \textcolor{keywordflow}{if} (currentDistSqr < minDistSqr)
02096           minDistSqr = currentDistSqr;
02097       \}
02098     \} \textcolor{keywordflow}{else} 
02099     \{
02100       \textcolor{comment}{// all other line plots (line and step) connect points directly:}
02101       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<lineData->size()-1; ++i)
02102       \{
02103         \textcolor{keywordtype}{double} currentDistSqr = \hyperlink{a00024_a5ea1cab44ca912dcdc96ed81ec5bed5d}{distSqrToLine}(lineData->at(i), lineData->at(i+1), pixelPoint);
02104         \textcolor{keywordflow}{if} (currentDistSqr < minDistSqr)
02105           minDistSqr = currentDistSqr;
02106       \}
02107     \}
02108     \textcolor{keyword}{delete} lineData;
02109     \textcolor{keywordflow}{return} sqrt(minDistSqr);
02110   \}
02111 \}
02112 
\hypertarget{a00115_source_l02120}{}\hyperlink{a00031_a6c4d556de3d1e02f548401001f72c6ff}{02120} \textcolor{keywordtype}{int} \hyperlink{a00031_a6c4d556de3d1e02f548401001f72c6ff}{QCPGraph::findIndexBelowY}(\textcolor{keyword}{const} QVector<QPointF> *data, \textcolor{keywordtype}{double} y)\textcolor{keyword}{ const}
02121 \textcolor{keyword}{}\{
02122   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=data->size()-1; i>=0; --i)
02123   \{
02124     \textcolor{keywordflow}{if} (data->at(i).y() > y)
02125     \{
02126       \textcolor{keywordflow}{if} (i<data->size()-1)
02127         \textcolor{keywordflow}{return} i+1;
02128       \textcolor{keywordflow}{else}
02129         \textcolor{keywordflow}{return} data->size()-1;
02130     \}
02131   \}
02132   \textcolor{keywordflow}{return} -1;
02133 \}
02134 
02135 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l02136}{}\hyperlink{a00031_ab39c7e8c94b64804a8dc9c19bc7d4683}{02136} \hyperlink{a00049}{QCPRange} \hyperlink{a00031_ab39c7e8c94b64804a8dc9c19bc7d4683}{QCPGraph::getKeyRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain)\textcolor{keyword}{ const}
02137 \textcolor{keyword}{}\{
02138   \textcolor{comment}{// just call the specialized version which takes an additional argument whether error bars}
02139   \textcolor{comment}{// should also be taken into consideration for range calculation. We set this to true here.}
02140   \textcolor{keywordflow}{return} \hyperlink{a00031_ab39c7e8c94b64804a8dc9c19bc7d4683}{getKeyRange}(validRange, inSignDomain, \textcolor{keyword}{true});
02141 \}
02142 
02143 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l02144}{}\hyperlink{a00031_a9fc0c1288455fa5bb64b603d6b01de6c}{02144} \hyperlink{a00049}{QCPRange} \hyperlink{a00031_a9fc0c1288455fa5bb64b603d6b01de6c}{QCPGraph::getValueRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain)\textcolor{keyword}{ const}
02145 \textcolor{keyword}{}\{
02146   \textcolor{comment}{// just call the specialized version which takes an additional argument whether error bars}
02147   \textcolor{comment}{// should also be taken into consideration for range calculation. We set this to true here.}
02148   \textcolor{keywordflow}{return} \hyperlink{a00031_a9fc0c1288455fa5bb64b603d6b01de6c}{getValueRange}(validRange, inSignDomain, \textcolor{keyword}{true});
02149 \}
02150 
\hypertarget{a00115_source_l02156}{}\hyperlink{a00031_a3a69fbbaea30050a9cfe335a9a01cbf2}{02156} \hyperlink{a00049}{QCPRange} \hyperlink{a00031_ab39c7e8c94b64804a8dc9c19bc7d4683}{QCPGraph::getKeyRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain, \textcolor{keywordtype}{bool} includeErrors)\textcolor{keyword}{ const}
02157 \textcolor{keyword}{}\{
02158   \hyperlink{a00049}{QCPRange} range;
02159   \textcolor{keywordtype}{bool} haveLower = \textcolor{keyword}{false};
02160   \textcolor{keywordtype}{bool} haveUpper = \textcolor{keyword}{false};
02161   
02162   \textcolor{keywordtype}{double} current, currentErrorMinus, currentErrorPlus;
02163   
02164   \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth}) \textcolor{comment}{// range may be anywhere}
02165   \{
02166     QCPDataMap::const\_iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin();
02167     \textcolor{keywordflow}{while} (it != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constEnd())
02168     \{
02169       current = it.value().key;
02170       currentErrorMinus = (includeErrors ? it.value().keyErrorMinus : 0);
02171       currentErrorPlus = (includeErrors ? it.value().keyErrorPlus : 0);
02172       \textcolor{keywordflow}{if} (current-currentErrorMinus < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower)
02173       \{
02174         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current-currentErrorMinus;
02175         haveLower = \textcolor{keyword}{true};
02176       \}
02177       \textcolor{keywordflow}{if} (current+currentErrorPlus > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper)
02178       \{
02179         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current+currentErrorPlus;
02180         haveUpper = \textcolor{keyword}{true};
02181       \}
02182       ++it;
02183     \}
02184   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative}) \textcolor{comment}{// range may only be in the negative sign domain}
02185   \{
02186     QCPDataMap::const\_iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin();
02187     \textcolor{keywordflow}{while} (it != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constEnd())
02188     \{
02189       current = it.value().key;
02190       currentErrorMinus = (includeErrors ? it.value().keyErrorMinus : 0);
02191       currentErrorPlus = (includeErrors ? it.value().keyErrorPlus : 0);
02192       \textcolor{keywordflow}{if} ((current-currentErrorMinus < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower) && current-currentErrorMinus < 0)
02193       \{
02194         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current-currentErrorMinus;
02195         haveLower = \textcolor{keyword}{true};
02196       \}
02197       \textcolor{keywordflow}{if} ((current+currentErrorPlus > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper) && current+currentErrorPlus < 0)
02198       \{
02199         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current+currentErrorPlus;
02200         haveUpper = \textcolor{keyword}{true};
02201       \}
02202       \textcolor{keywordflow}{if} (includeErrors) \textcolor{comment}{// in case point is in valid sign domain but errobars stretch beyond it, we still
       want to geht that point.}
02203       \{
02204         \textcolor{keywordflow}{if} ((current < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower) && current < 0)
02205         \{
02206           range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current;
02207           haveLower = \textcolor{keyword}{true};
02208         \}
02209         \textcolor{keywordflow}{if} ((current > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper) && current < 0)
02210         \{
02211           range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current;
02212           haveUpper = \textcolor{keyword}{true};
02213         \}
02214       \}
02215       ++it;
02216     \}
02217   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive}) \textcolor{comment}{// range may only be in the positive sign domain}
02218   \{
02219     QCPDataMap::const\_iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin();
02220     \textcolor{keywordflow}{while} (it != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constEnd())
02221     \{
02222       current = it.value().key;
02223       currentErrorMinus = (includeErrors ? it.value().keyErrorMinus : 0);
02224       currentErrorPlus = (includeErrors ? it.value().keyErrorPlus : 0);
02225       \textcolor{keywordflow}{if} ((current-currentErrorMinus < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower) && current-currentErrorMinus > 0)
02226       \{
02227         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current-currentErrorMinus;
02228         haveLower = \textcolor{keyword}{true};
02229       \}
02230       \textcolor{keywordflow}{if} ((current+currentErrorPlus > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper) && current+currentErrorPlus > 0)
02231       \{
02232         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current+currentErrorPlus;
02233         haveUpper = \textcolor{keyword}{true};
02234       \}
02235       \textcolor{keywordflow}{if} (includeErrors) \textcolor{comment}{// in case point is in valid sign domain but errobars stretch beyond it, we still
       want to get that point.}
02236       \{
02237         \textcolor{keywordflow}{if} ((current < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower) && current > 0)
02238         \{
02239           range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current;
02240           haveLower = \textcolor{keyword}{true};
02241         \}
02242         \textcolor{keywordflow}{if} ((current > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper) && current > 0)
02243         \{
02244           range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current;
02245           haveUpper = \textcolor{keyword}{true};
02246         \}
02247       \}
02248       ++it;
02249     \}
02250   \}
02251   
02252   validRange = haveLower && haveUpper;
02253   \textcolor{keywordflow}{return} range;
02254 \}
02255 
\hypertarget{a00115_source_l02261}{}\hyperlink{a00031_acdb1e7bb86fea2764b0adb104185832b}{02261} \hyperlink{a00049}{QCPRange} \hyperlink{a00031_a9fc0c1288455fa5bb64b603d6b01de6c}{QCPGraph::getValueRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain, \textcolor{keywordtype}{bool} includeErrors)\textcolor{keyword}{ const}
02262 \textcolor{keyword}{}\{
02263   \hyperlink{a00049}{QCPRange} range;
02264   \textcolor{keywordtype}{bool} haveLower = \textcolor{keyword}{false};
02265   \textcolor{keywordtype}{bool} haveUpper = \textcolor{keyword}{false};
02266   
02267   \textcolor{keywordtype}{double} current, currentErrorMinus, currentErrorPlus;
02268   
02269   \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth}) \textcolor{comment}{// range may be anywhere}
02270   \{
02271     QCPDataMap::const\_iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin();
02272     \textcolor{keywordflow}{while} (it != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constEnd())
02273     \{
02274       current = it.value().value;
02275       currentErrorMinus = (includeErrors ? it.value().valueErrorMinus : 0);
02276       currentErrorPlus = (includeErrors ? it.value().valueErrorPlus : 0);
02277       \textcolor{keywordflow}{if} (current-currentErrorMinus < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower)
02278       \{
02279         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current-currentErrorMinus;
02280         haveLower = \textcolor{keyword}{true};
02281       \}
02282       \textcolor{keywordflow}{if} (current+currentErrorPlus > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper)
02283       \{
02284         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current+currentErrorPlus;
02285         haveUpper = \textcolor{keyword}{true};
02286       \}
02287       ++it;
02288     \}
02289   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative}) \textcolor{comment}{// range may only be in the negative sign domain}
02290   \{
02291     QCPDataMap::const\_iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin();
02292     \textcolor{keywordflow}{while} (it != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constEnd())
02293     \{
02294       current = it.value().value;
02295       currentErrorMinus = (includeErrors ? it.value().valueErrorMinus : 0);
02296       currentErrorPlus = (includeErrors ? it.value().valueErrorPlus : 0);
02297       \textcolor{keywordflow}{if} ((current-currentErrorMinus < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower) && current-currentErrorMinus < 0)
02298       \{
02299         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current-currentErrorMinus;
02300         haveLower = \textcolor{keyword}{true};
02301       \}
02302       \textcolor{keywordflow}{if} ((current+currentErrorPlus > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper) && current+currentErrorPlus < 0)
02303       \{
02304         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current+currentErrorPlus;
02305         haveUpper = \textcolor{keyword}{true};
02306       \}
02307       \textcolor{keywordflow}{if} (includeErrors) \textcolor{comment}{// in case point is in valid sign domain but errobars stretch beyond it, we still
       want to get that point.}
02308       \{
02309         \textcolor{keywordflow}{if} ((current < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower) && current < 0)
02310         \{
02311           range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current;
02312           haveLower = \textcolor{keyword}{true};
02313         \}
02314         \textcolor{keywordflow}{if} ((current > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper) && current < 0)
02315         \{
02316           range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current;
02317           haveUpper = \textcolor{keyword}{true};
02318         \}
02319       \}
02320       ++it;
02321     \}
02322   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive}) \textcolor{comment}{// range may only be in the positive sign domain}
02323   \{
02324     QCPDataMap::const\_iterator it = \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constBegin();
02325     \textcolor{keywordflow}{while} (it != \hyperlink{a00031_a8457c840f69a0ac49f61d30a509c5d08}{mData}->constEnd())
02326     \{
02327       current = it.value().value;
02328       currentErrorMinus = (includeErrors ? it.value().valueErrorMinus : 0);
02329       currentErrorPlus = (includeErrors ? it.value().valueErrorPlus : 0);
02330       \textcolor{keywordflow}{if} ((current-currentErrorMinus < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower) && current-currentErrorMinus > 0)
02331       \{
02332         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current-currentErrorMinus;
02333         haveLower = \textcolor{keyword}{true};
02334       \}
02335       \textcolor{keywordflow}{if} ((current+currentErrorPlus > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper) && current+currentErrorPlus > 0)
02336       \{
02337         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current+currentErrorPlus;
02338         haveUpper = \textcolor{keyword}{true};
02339       \}
02340       \textcolor{keywordflow}{if} (includeErrors) \textcolor{comment}{// in case point is in valid sign domain but errobars stretch beyond it, we still
       want to geht that point.}
02341       \{
02342         \textcolor{keywordflow}{if} ((current < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower) && current > 0)
02343         \{
02344           range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current;
02345           haveLower = \textcolor{keyword}{true};
02346         \}
02347         \textcolor{keywordflow}{if} ((current > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper) && current > 0)
02348         \{
02349           range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current;
02350           haveUpper = \textcolor{keyword}{true};
02351         \}
02352       \}
02353       ++it;
02354     \}
02355   \}
02356   
02357   validRange = haveLower && haveUpper;
02358   \textcolor{keywordflow}{return} range;
02359 \}
02360 
02361 
02362 \textcolor{comment}{// ================================================================================}
02363 \textcolor{comment}{// =================== QCPRange}
02364 \textcolor{comment}{// ================================================================================}
02380 \textcolor{comment}{}\textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00049_ab46d3bc95030ee25efda41b89e2b616b}{QCPRange::minRange} = 1e-280;
02381 
02390 \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00049_a5ca51e7a2dc5dc0d49527ab171fe1f4f}{QCPRange::maxRange} = 1e250;
02391 
\hypertarget{a00115_source_l02395}{}\hyperlink{a00049_aca158d7e69702cee5d77d10a269b01e2}{02395} \hyperlink{a00049_aca158d7e69702cee5d77d10a269b01e2}{QCPRange::QCPRange}() :
02396   lower(0),
02397   upper(0)
02398 \{
02399 \}
02400 
\hypertarget{a00115_source_l02404}{}\hyperlink{a00049_a1d9d84d084c8f368fdedd42e0978d405}{02404} \hyperlink{a00049_aca158d7e69702cee5d77d10a269b01e2}{QCPRange::QCPRange}(\textcolor{keywordtype}{double} lower, \textcolor{keywordtype}{double} upper) :
02405   lower(lower),
02406   upper(upper)
02407 \{
02408   \hyperlink{a00049_af914a7740269b0604d0827c634a878a9}{normalize}();
02409 \}
02410 
\hypertarget{a00115_source_l02414}{}\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{02414} \textcolor{keywordtype}{double} \hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{QCPRange::size}()\textcolor{keyword}{ const}
02415 \textcolor{keyword}{}\{
02416   \textcolor{keywordflow}{return} \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}-\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
02417 \}
02418 
\hypertarget{a00115_source_l02422}{}\hyperlink{a00049_a3825b53cf17da5de0843c1f3baad07db}{02422} \textcolor{keywordtype}{double} \hyperlink{a00049_a3825b53cf17da5de0843c1f3baad07db}{QCPRange::center}()\textcolor{keyword}{ const}
02423 \textcolor{keyword}{}\{
02424   \textcolor{keywordflow}{return} (\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}+\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})*0.5;
02425 \}
02426 
\hypertarget{a00115_source_l02431}{}\hyperlink{a00049_af914a7740269b0604d0827c634a878a9}{02431} \textcolor{keywordtype}{void} \hyperlink{a00049_af914a7740269b0604d0827c634a878a9}{QCPRange::normalize}()
02432 \{
02433   \textcolor{keywordflow}{if} (\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} > \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
02434     qSwap(\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}, \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper});
02435 \}
02436 
\hypertarget{a00115_source_l02449}{}\hyperlink{a00049_aaf6a9046e78d91eeb8e89584fe46b034}{02449} \hyperlink{a00049}{QCPRange} \hyperlink{a00049_aaf6a9046e78d91eeb8e89584fe46b034}{QCPRange::sanitizedForLogScale}()\textcolor{keyword}{ const}
02450 \textcolor{keyword}{}\{
02451   \textcolor{keywordtype}{double} rangeFac = 1e-3;
02452   \hyperlink{a00049}{QCPRange} sanitizedRange(\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}, \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper});
02453   sanitizedRange.\hyperlink{a00049_af914a7740269b0604d0827c634a878a9}{normalize}();
02454   \textcolor{comment}{// can't have range spanning negative and positive values in log plot, so change range to fix it}
02455   \textcolor{comment}{//if (qFuzzyCompare(sanitizedRange.lower+1, 1) && !qFuzzyCompare(sanitizedRange.upper+1, 1))}
02456   \textcolor{keywordflow}{if} (sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} == 0.0 && sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} != 0.0)
02457   \{
02458     \textcolor{comment}{// case lower is 0}
02459     \textcolor{keywordflow}{if} (rangeFac < sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}*rangeFac)
02460       sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = rangeFac;
02461     \textcolor{keywordflow}{else}
02462       sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}*rangeFac;
02463   \} \textcolor{comment}{//else if (!qFuzzyCompare(lower+1, 1) && qFuzzyCompare(upper+1, 1))}
02464   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} != 0.0 && sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} == 0.0)
02465   \{
02466     \textcolor{comment}{// case upper is 0}
02467     \textcolor{keywordflow}{if} (-rangeFac > sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}*rangeFac)
02468       sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = -rangeFac;
02469     \textcolor{keywordflow}{else}
02470       sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}*rangeFac;
02471   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < 0 && sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0)
02472   \{
02473     \textcolor{comment}{// find out whether negative or positive interval is wider to decide which sign domain will be chosen}
02474     \textcolor{keywordflow}{if} (-sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} > sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
02475     \{
02476       \textcolor{comment}{// negative is wider, do same as in case upper is 0}
02477       \textcolor{keywordflow}{if} (-rangeFac > sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}*rangeFac)
02478         sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = -rangeFac;
02479       \textcolor{keywordflow}{else}
02480         sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}*rangeFac;
02481     \} \textcolor{keywordflow}{else}
02482     \{
02483       \textcolor{comment}{// positive is wider, do same as in case lower is 0}
02484       \textcolor{keywordflow}{if} (rangeFac < sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}*rangeFac)
02485         sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = rangeFac;
02486       \textcolor{keywordflow}{else}
02487         sanitizedRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = sanitizedRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}*rangeFac;
02488     \}
02489   \}
02490   \textcolor{comment}{// due to normalization, case lower>0 && upper<0 should never occur, because that implies upper<lower}
02491   \textcolor{keywordflow}{return} sanitizedRange;
02492 \}
02493 
\hypertarget{a00115_source_l02498}{}\hyperlink{a00049_a1ff029704c29a75adbc1dc36cecaf44c}{02498} \hyperlink{a00049}{QCPRange} \hyperlink{a00049_a1ff029704c29a75adbc1dc36cecaf44c}{QCPRange::sanitizedForLinScale}()\textcolor{keyword}{ const}
02499 \textcolor{keyword}{}\{
02500   \hyperlink{a00049}{QCPRange} sanitizedRange(\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}, \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper});
02501   sanitizedRange.\hyperlink{a00049_af914a7740269b0604d0827c634a878a9}{normalize}();
02502   \textcolor{keywordflow}{return} sanitizedRange;
02503 \}
02504 
\hypertarget{a00115_source_l02508}{}\hyperlink{a00049_a030ce95b527c32e01414d0351347b46d}{02508} \textcolor{keywordtype}{bool} \hyperlink{a00049_a030ce95b527c32e01414d0351347b46d}{QCPRange::contains}(\textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
02509 \textcolor{keyword}{}\{
02510   \textcolor{keywordflow}{return} value >= \hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} && value <= \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
02511 \}
02512 
\hypertarget{a00115_source_l02521}{}\hyperlink{a00049_ab38bd4841c77c7bb86c9eea0f142dcc0}{02521} \textcolor{keywordtype}{bool} \hyperlink{a00049_ab38bd4841c77c7bb86c9eea0f142dcc0}{QCPRange::validRange}(\textcolor{keywordtype}{double} lower, \textcolor{keywordtype}{double} upper)
02522 \{
02523   \textcolor{comment}{/*}
02524 \textcolor{comment}{  return (lower > -maxRange &&}
02525 \textcolor{comment}{          upper < maxRange &&}
02526 \textcolor{comment}{          qAbs(lower-upper) > minRange &&}
02527 \textcolor{comment}{          (lower < -minRange || lower > minRange) &&}
02528 \textcolor{comment}{          (upper < -minRange || upper > minRange));}
02529 \textcolor{comment}{          */}
02530   \textcolor{keywordflow}{return} (lower > -\hyperlink{a00049_a5ca51e7a2dc5dc0d49527ab171fe1f4f}{maxRange} &&
02531           upper < \hyperlink{a00049_a5ca51e7a2dc5dc0d49527ab171fe1f4f}{maxRange} &&
02532           qAbs(lower-upper) > \hyperlink{a00049_ab46d3bc95030ee25efda41b89e2b616b}{minRange} &&
02533           qAbs(lower-upper) < \hyperlink{a00049_a5ca51e7a2dc5dc0d49527ab171fe1f4f}{maxRange});
02534 \}
02535 
\hypertarget{a00115_source_l02545}{}\hyperlink{a00049_a801b964752eaad6219be9d8a651ec2b3}{02545} \textcolor{keywordtype}{bool} \hyperlink{a00049_ab38bd4841c77c7bb86c9eea0f142dcc0}{QCPRange::validRange}(\textcolor{keyword}{const} \hyperlink{a00049}{QCPRange} &range)
02546 \{
02547   \textcolor{comment}{/*}
02548 \textcolor{comment}{  return (range.lower > -maxRange &&}
02549 \textcolor{comment}{          range.upper < maxRange &&}
02550 \textcolor{comment}{          qAbs(range.lower-range.upper) > minRange &&}
02551 \textcolor{comment}{          qAbs(range.lower-range.upper) < maxRange &&}
02552 \textcolor{comment}{          (range.lower < -minRange || range.lower > minRange) &&}
02553 \textcolor{comment}{          (range.upper < -minRange || range.upper > minRange));}
02554 \textcolor{comment}{          */}
02555   \textcolor{keywordflow}{return} (range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} > -\hyperlink{a00049_a5ca51e7a2dc5dc0d49527ab171fe1f4f}{maxRange} &&
02556           range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < \hyperlink{a00049_a5ca51e7a2dc5dc0d49527ab171fe1f4f}{maxRange} &&
02557           qAbs(range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}-range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}) > \hyperlink{a00049_ab46d3bc95030ee25efda41b89e2b616b}{minRange} &&
02558           qAbs(range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}-range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}) < \hyperlink{a00049_a5ca51e7a2dc5dc0d49527ab171fe1f4f}{maxRange});
02559 \}
02560 
02561 
02562 \textcolor{comment}{// ================================================================================}
02563 \textcolor{comment}{// =================== QCPLegend}
02564 \textcolor{comment}{// ================================================================================}
02565 
02572 \textcolor{comment}{/* start of documentation of signals */}
02573 
02581 \textcolor{comment}{/* end of documentation of signals */}
02582 
\hypertarget{a00115_source_l02589}{}\hyperlink{a00045_a5dc42d73df80e7294414aee1170c4d2b}{02589} \hyperlink{a00045_a5dc42d73df80e7294414aee1170c4d2b}{QCPLegend::QCPLegend}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
02590   \hyperlink{a00044}{QCPLayerable}(parentPlot)
02591 \{
02592   \hyperlink{a00044_a4fd43e89be4a553ead41652565ff0581}{setAntialiased}(\textcolor{keyword}{false});
02593   \hyperlink{a00045_aecfd20e956460d1bdc65b79f48db533d}{setPositionStyle}(\hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fadc969b13706ba4fd802bbc27e0abb18a}{psTopRight});
02594   \hyperlink{a00045_ae1d42dbf91b0046f7324dd07a16dd43f}{setSize}(100, 28);
02595   \hyperlink{a00045_a012c09cb070eabe01cfb598ab188a4fc}{setMinimumSize}(100, 0);
02596   \hyperlink{a00045_a8b0740cce488bf7010da6beda6898984}{setIconSize}(32, 18);
02597   \hyperlink{a00045_a067da0c0e2b0e9ee2c623f4d986c0d06}{setAutoSize}(\textcolor{keyword}{true});
02598   
02599   \hyperlink{a00045_afa9e9681dbe3fa05302353a78cb34588}{setMargin}(12, 12, 12, 12);
02600   \hyperlink{a00045_a6dec710ef473c79c96e92feb7528ae7d}{setPadding}(8, 8, 3, 3);
02601   \hyperlink{a00045_a1bb966ee2b5f05b9d7e4866d2b1114c0}{setItemSpacing}(3);
02602   \hyperlink{a00045_a62973bd69d5155e8ea3141366e8968f6}{setIconTextPadding}(7);
02603   
02604   \hyperlink{a00045_aae042f6211e39305d13f7b18c1c301d9}{setSelectable}(spLegendBox | spItems);
02605   \hyperlink{a00045_a752c48b30f8ba870b55e79659385f107}{setSelected}(spNone);
02606   
02607   \hyperlink{a00045_a866a9e3f5267de7430a6c7f26a61db9f}{setBorderPen}(QPen(Qt::black));
02608   \hyperlink{a00045_a2c35d262953a25d96b6112653fbefc88}{setSelectedBorderPen}(QPen(Qt::blue, 2));
02609   \hyperlink{a00045_a2f2c93d18a651f4ff294bb3f026f49b8}{setIconBorderPen}(Qt::NoPen);
02610   \hyperlink{a00045_ade93aabe9bcccaf9cf46cec22c658027}{setSelectedIconBorderPen}(QPen(Qt::blue, 2));
02611   \hyperlink{a00045_a497bbcd38baa3598c08e2b3f48103f23}{setBrush}(Qt::white);
02612   \hyperlink{a00045_a875227f3219c9799464631dec5e8f1bd}{setSelectedBrush}(Qt::white);
02613   \hyperlink{a00045_aa4cda8499e3cb0f3be415edc02984c73}{setFont}(parentPlot->font());
02614   \hyperlink{a00045_ab580a01c3c0a239374ed66c29edf5ad2}{setSelectedFont}(parentPlot->font());
02615   \hyperlink{a00045_ae1eb239ff4a4632fe1b6c3e668d845c6}{setTextColor}(Qt::black);
02616   \hyperlink{a00045_a7674dfc7a1f30e1abd1018c0ed45e0bc}{setSelectedTextColor}(Qt::blue);
02617 \}
02618 
\hypertarget{a00115_source_l02619}{}\hyperlink{a00045_a52b305572e20f4e7cb37e945e2b9bec0}{02619} \hyperlink{a00045_a52b305572e20f4e7cb37e945e2b9bec0}{QCPLegend::~QCPLegend}()
02620 \{
02621   \hyperlink{a00045_a24795c7250eb5214fcea16b7217b4dfb}{clearItems}();
02622 \}
02623 
\hypertarget{a00115_source_l02627}{}\hyperlink{a00045_a866a9e3f5267de7430a6c7f26a61db9f}{02627} \textcolor{keywordtype}{void} \hyperlink{a00045_a866a9e3f5267de7430a6c7f26a61db9f}{QCPLegend::setBorderPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
02628 \{
02629   \hyperlink{a00045_a52ab8342a382456131d567f962d7f9d0}{mBorderPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
02630 \}
02631 
\hypertarget{a00115_source_l02635}{}\hyperlink{a00045_a497bbcd38baa3598c08e2b3f48103f23}{02635} \textcolor{keywordtype}{void} \hyperlink{a00045_a497bbcd38baa3598c08e2b3f48103f23}{QCPLegend::setBrush}(\textcolor{keyword}{const} QBrush &brush)
02636 \{
02637   \hyperlink{a00045_a9bd7cd05a9a485e06eda513a348baf80}{mBrush} = \hyperlink{a00045_a7e5d2766e7d724f399022be8a4e8a2cb}{brush};
02638 \}
02639 
\hypertarget{a00115_source_l02649}{}\hyperlink{a00045_aa4cda8499e3cb0f3be415edc02984c73}{02649} \textcolor{keywordtype}{void} \hyperlink{a00045_aa4cda8499e3cb0f3be415edc02984c73}{QCPLegend::setFont}(\textcolor{keyword}{const} QFont &font)
02650 \{
02651   \hyperlink{a00045_a56ffacb184a99eefe09a0c7181d0713d}{mFont} = \hyperlink{a00045_a5cf8b840bc02f7bf4edb8dde400d0f41}{font};
02652   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
02653     \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->setFont(\hyperlink{a00045_a56ffacb184a99eefe09a0c7181d0713d}{mFont});
02654 \}
02655 
\hypertarget{a00115_source_l02665}{}\hyperlink{a00045_ae1eb239ff4a4632fe1b6c3e668d845c6}{02665} \textcolor{keywordtype}{void} \hyperlink{a00045_ae1eb239ff4a4632fe1b6c3e668d845c6}{QCPLegend::setTextColor}(\textcolor{keyword}{const} QColor &\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
02666 \{
02667   \hyperlink{a00045_a478b2d809a7390e9ff8f8bb70d6bd9fe}{mTextColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
02668   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
02669     \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->setTextColor(color);
02670 \}
02671 
\hypertarget{a00115_source_l02679}{}\hyperlink{a00045_aecfd20e956460d1bdc65b79f48db533d}{02679} \textcolor{keywordtype}{void} \hyperlink{a00045_aecfd20e956460d1bdc65b79f48db533d}{QCPLegend::setPositionStyle}(\hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049f}{PositionStyle} legendPositionStyle)
02680 \{
02681   \hyperlink{a00045_abd6cf2517b85e73c98b8f00c3a4104c0}{mPositionStyle} = legendPositionStyle;
02682 \}
02683 
\hypertarget{a00115_source_l02688}{}\hyperlink{a00045_a228788ae4caa5b5b269309bb32b54046}{02688} \textcolor{keywordtype}{void} \hyperlink{a00045_a228788ae4caa5b5b269309bb32b54046}{QCPLegend::setPosition}(\textcolor{keyword}{const} QPoint &pixelPosition)
02689 \{
02690   \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = pixelPosition;
02691 \}
02692 
\hypertarget{a00115_source_l02702}{}\hyperlink{a00045_a067da0c0e2b0e9ee2c623f4d986c0d06}{02702} \textcolor{keywordtype}{void} \hyperlink{a00045_a067da0c0e2b0e9ee2c623f4d986c0d06}{QCPLegend::setAutoSize}(\textcolor{keywordtype}{bool} on)
02703 \{
02704   \hyperlink{a00045_af4667ced12f959e20da2eb34d4383008}{mAutoSize} = on;
02705 \}
02706 
\hypertarget{a00115_source_l02716}{}\hyperlink{a00045_ae1d42dbf91b0046f7324dd07a16dd43f}{02716} \textcolor{keywordtype}{void} \hyperlink{a00045_ae1d42dbf91b0046f7324dd07a16dd43f}{QCPLegend::setSize}(\textcolor{keyword}{const} QSize &size)
02717 \{
02718   \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize} = \hyperlink{a00045_a0b03b2516ddb99965125e20ba1674e78}{size};
02719 \}
02720 
\hypertarget{a00115_source_l02723}{}\hyperlink{a00045_a17d4fdebb8dd8a4b0afcd56555c78f6e}{02723} \textcolor{keywordtype}{void} \hyperlink{a00045_ae1d42dbf91b0046f7324dd07a16dd43f}{QCPLegend::setSize}(\textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height)
02724 \{
02725   \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize} = QSize(width, height);
02726 \}
02727 
\hypertarget{a00115_source_l02739}{}\hyperlink{a00045_a012c09cb070eabe01cfb598ab188a4fc}{02739} \textcolor{keywordtype}{void} \hyperlink{a00045_a012c09cb070eabe01cfb598ab188a4fc}{QCPLegend::setMinimumSize}(\textcolor{keyword}{const} QSize &size)
02740 \{
02741   \hyperlink{a00045_a52f5ad2b7fe948e98286447165953c40}{mMinimumSize} = \hyperlink{a00045_a0b03b2516ddb99965125e20ba1674e78}{size};
02742 \}
02743 
\hypertarget{a00115_source_l02746}{}\hyperlink{a00045_ae0e264950b0df9abd8e840e513df737b}{02746} \textcolor{keywordtype}{void} \hyperlink{a00045_a012c09cb070eabe01cfb598ab188a4fc}{QCPLegend::setMinimumSize}(\textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height)
02747 \{
02748   \hyperlink{a00045_a52f5ad2b7fe948e98286447165953c40}{mMinimumSize} = QSize(width, height);
02749 \}
02750 
\hypertarget{a00115_source_l02756}{}\hyperlink{a00045_afde46ae0e759e58380bdb01df4aab1ce}{02756} \textcolor{keywordtype}{void} \hyperlink{a00045_afde46ae0e759e58380bdb01df4aab1ce}{QCPLegend::setPaddingLeft}(\textcolor{keywordtype}{int} padding)
02757 \{
02758   \hyperlink{a00045_ab7b535988eb6f9d0e4ae6c33ca0e5b03}{mPaddingLeft} = padding;
02759 \}
02760 
\hypertarget{a00115_source_l02766}{}\hyperlink{a00045_a6d8b14e2f92130f8af1d66dd28691736}{02766} \textcolor{keywordtype}{void} \hyperlink{a00045_a6d8b14e2f92130f8af1d66dd28691736}{QCPLegend::setPaddingRight}(\textcolor{keywordtype}{int} padding)
02767 \{
02768   \hyperlink{a00045_a99eb704ee554eece4dac0833cbc5ee91}{mPaddingRight} = padding;
02769 \}
02770 
\hypertarget{a00115_source_l02776}{}\hyperlink{a00045_a6f8c6efe6a0a446ece7c1c44a7e31177}{02776} \textcolor{keywordtype}{void} \hyperlink{a00045_a6f8c6efe6a0a446ece7c1c44a7e31177}{QCPLegend::setPaddingTop}(\textcolor{keywordtype}{int} padding)
02777 \{
02778   \hyperlink{a00045_aea0340bde711162822811bcc4ebc3c74}{mPaddingTop} = padding;
02779 \}
02780 
\hypertarget{a00115_source_l02786}{}\hyperlink{a00045_a396fa209cb63f6fa650951c291af8d0f}{02786} \textcolor{keywordtype}{void} \hyperlink{a00045_a396fa209cb63f6fa650951c291af8d0f}{QCPLegend::setPaddingBottom}(\textcolor{keywordtype}{int} padding)
02787 \{
02788   \hyperlink{a00045_a49f6b31aeee68cfce9fe57aaf0cc6ce1}{mPaddingBottom} = padding;
02789 \}
02790 
\hypertarget{a00115_source_l02796}{}\hyperlink{a00045_a6dec710ef473c79c96e92feb7528ae7d}{02796} \textcolor{keywordtype}{void} \hyperlink{a00045_a6dec710ef473c79c96e92feb7528ae7d}{QCPLegend::setPadding}(\textcolor{keywordtype}{int} left, \textcolor{keywordtype}{int} right, \textcolor{keywordtype}{int} top, \textcolor{keywordtype}{int} bottom)
02797 \{
02798   \hyperlink{a00045_ab7b535988eb6f9d0e4ae6c33ca0e5b03}{mPaddingLeft} = left;
02799   \hyperlink{a00045_a99eb704ee554eece4dac0833cbc5ee91}{mPaddingRight} = right;
02800   \hyperlink{a00045_aea0340bde711162822811bcc4ebc3c74}{mPaddingTop} = top;
02801   \hyperlink{a00045_a49f6b31aeee68cfce9fe57aaf0cc6ce1}{mPaddingBottom} = bottom;
02802 \}
02803 
\hypertarget{a00115_source_l02808}{}\hyperlink{a00045_ab4993084ae32855a5b1d8436b5f90721}{02808} \textcolor{keywordtype}{void} \hyperlink{a00045_ab4993084ae32855a5b1d8436b5f90721}{QCPLegend::setMarginLeft}(\textcolor{keywordtype}{int} margin)
02809 \{
02810   \hyperlink{a00045_abc32b5c03a201ff2a4225503c0f5c8e0}{mMarginLeft} = margin;
02811 \}
02812 
\hypertarget{a00115_source_l02817}{}\hyperlink{a00045_a6da7cc21b66f427b7cebe2c180541f4b}{02817} \textcolor{keywordtype}{void} \hyperlink{a00045_a6da7cc21b66f427b7cebe2c180541f4b}{QCPLegend::setMarginRight}(\textcolor{keywordtype}{int} margin)
02818 \{
02819   \hyperlink{a00045_ab2c36e6f547421ca9800b8025db745ce}{mMarginRight} = margin;
02820 \}
02821 
\hypertarget{a00115_source_l02826}{}\hyperlink{a00045_a264f28f7983dbc9e3a063001eebfff2d}{02826} \textcolor{keywordtype}{void} \hyperlink{a00045_a264f28f7983dbc9e3a063001eebfff2d}{QCPLegend::setMarginTop}(\textcolor{keywordtype}{int} margin)
02827 \{
02828   \hyperlink{a00045_a1eb13f7b277274a6de2d739a2498d2d5}{mMarginTop} = margin;
02829 \}
02830 
\hypertarget{a00115_source_l02835}{}\hyperlink{a00045_a1b8f2a9d47982cd8d7a126be026b831a}{02835} \textcolor{keywordtype}{void} \hyperlink{a00045_a1b8f2a9d47982cd8d7a126be026b831a}{QCPLegend::setMarginBottom}(\textcolor{keywordtype}{int} margin)
02836 \{
02837   \hyperlink{a00045_a3df9b3c2d4af5f8b484cc7c4b64b20c8}{mMarginBottom} = margin;
02838 \}
02839 
\hypertarget{a00115_source_l02844}{}\hyperlink{a00045_afa9e9681dbe3fa05302353a78cb34588}{02844} \textcolor{keywordtype}{void} \hyperlink{a00045_afa9e9681dbe3fa05302353a78cb34588}{QCPLegend::setMargin}(\textcolor{keywordtype}{int} left, \textcolor{keywordtype}{int} right, \textcolor{keywordtype}{int} top, \textcolor{keywordtype}{int} bottom)
02845 \{
02846   \hyperlink{a00045_abc32b5c03a201ff2a4225503c0f5c8e0}{mMarginLeft} = left;
02847   \hyperlink{a00045_ab2c36e6f547421ca9800b8025db745ce}{mMarginRight} = right;
02848   \hyperlink{a00045_a1eb13f7b277274a6de2d739a2498d2d5}{mMarginTop} = top;
02849   \hyperlink{a00045_a3df9b3c2d4af5f8b484cc7c4b64b20c8}{mMarginBottom} = bottom;
02850 \}
02851 
\hypertarget{a00115_source_l02857}{}\hyperlink{a00045_a1bb966ee2b5f05b9d7e4866d2b1114c0}{02857} \textcolor{keywordtype}{void} \hyperlink{a00045_a1bb966ee2b5f05b9d7e4866d2b1114c0}{QCPLegend::setItemSpacing}(\textcolor{keywordtype}{int} spacing)
02858 \{
02859   \hyperlink{a00045_acb16d1d1f6289185e8a5be2ea7f7d635}{mItemSpacing} = spacing;
02860 \}
02861 
\hypertarget{a00115_source_l02866}{}\hyperlink{a00045_a8b0740cce488bf7010da6beda6898984}{02866} \textcolor{keywordtype}{void} \hyperlink{a00045_a8b0740cce488bf7010da6beda6898984}{QCPLegend::setIconSize}(\textcolor{keyword}{const} QSize &size)
02867 \{
02868   \hyperlink{a00045_a39b972aae6c6a3fa5aa73313ab7a5765}{mIconSize} = \hyperlink{a00045_a0b03b2516ddb99965125e20ba1674e78}{size};
02869 \}
02870 
\hypertarget{a00115_source_l02873}{}\hyperlink{a00045_a96b1a37fd4ee6a9778e6e54fe56ab6c2}{02873} \textcolor{keywordtype}{void} \hyperlink{a00045_a8b0740cce488bf7010da6beda6898984}{QCPLegend::setIconSize}(\textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height)
02874 \{
02875   \hyperlink{a00045_a39b972aae6c6a3fa5aa73313ab7a5765}{mIconSize}.setWidth(width);
02876   \hyperlink{a00045_a39b972aae6c6a3fa5aa73313ab7a5765}{mIconSize}.setHeight(height);
02877 \}
02878 
\hypertarget{a00115_source_l02886}{}\hyperlink{a00045_a62973bd69d5155e8ea3141366e8968f6}{02886} \textcolor{keywordtype}{void} \hyperlink{a00045_a62973bd69d5155e8ea3141366e8968f6}{QCPLegend::setIconTextPadding}(\textcolor{keywordtype}{int} padding)
02887 \{
02888   \hyperlink{a00045_a8abf8843864ee9afc3f54f906c062240}{mIconTextPadding} = padding;
02889 \}
02890 
\hypertarget{a00115_source_l02897}{}\hyperlink{a00045_a2f2c93d18a651f4ff294bb3f026f49b8}{02897} \textcolor{keywordtype}{void} \hyperlink{a00045_a2f2c93d18a651f4ff294bb3f026f49b8}{QCPLegend::setIconBorderPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
02898 \{
02899   \hyperlink{a00045_a773ae518c3149fcabff4a2906fdacbc4}{mIconBorderPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
02900 \}
02901 
\hypertarget{a00115_source_l02912}{}\hyperlink{a00045_aae042f6211e39305d13f7b18c1c301d9}{02912} \textcolor{keywordtype}{void} \hyperlink{a00045_aae042f6211e39305d13f7b18c1c301d9}{QCPLegend::setSelectable}(\textcolor{keyword}{const} SelectableParts &selectable)
02913 \{
02914   \hyperlink{a00045_ad8d87239c5522b661b788d00b6f8c7ce}{mSelectable} = \hyperlink{a00045_a459f39581d1eba9ee80557837601e21c}{selectable};
02915 \}
02916 
\hypertarget{a00115_source_l02938}{}\hyperlink{a00045_a752c48b30f8ba870b55e79659385f107}{02938} \textcolor{keywordtype}{void} \hyperlink{a00045_a752c48b30f8ba870b55e79659385f107}{QCPLegend::setSelected}(\textcolor{keyword}{const} SelectableParts &selected)
02939 \{
02940   \textcolor{keywordflow}{if} (\hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected} != selected)
02941   \{
02942     \textcolor{keywordflow}{if} (!selected.testFlag(spItems) && \hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected}.testFlag(spItems)) \textcolor{comment}{// some items are selected,
       but new selection state doesn't contain spItems, so deselect them}
02943     \{
02944       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
02945         \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->setSelected(\textcolor{keyword}{false});
02946       \hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected} = \hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected};
02947       \textcolor{comment}{// not necessary to emit selectionChanged here because this will have happened for the last
       setSelected(false) on mItems already, via updateSelectionState()}
02948     \} \textcolor{keywordflow}{else}
02949     \{
02950       \hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected} = \hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected};
02951       emit \hyperlink{a00045_a286149b644d5f5c884a0140219d979f6}{selectionChanged}(\hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected});
02952     \}
02953   \}
02954 \}
02955 
\hypertarget{a00115_source_l02962}{}\hyperlink{a00045_a2c35d262953a25d96b6112653fbefc88}{02962} \textcolor{keywordtype}{void} \hyperlink{a00045_a2c35d262953a25d96b6112653fbefc88}{QCPLegend::setSelectedBorderPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
02963 \{
02964   \hyperlink{a00045_a62906c996906ae23e9f724b6ac1f7334}{mSelectedBorderPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
02965 \}
02966 
\hypertarget{a00115_source_l02972}{}\hyperlink{a00045_ade93aabe9bcccaf9cf46cec22c658027}{02972} \textcolor{keywordtype}{void} \hyperlink{a00045_ade93aabe9bcccaf9cf46cec22c658027}{QCPLegend::setSelectedIconBorderPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
02973 \{
02974   \hyperlink{a00045_a7429ac0e64c7b90b649b4d8f4cc5fa55}{mSelectedIconBorderPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
02975 \}
02976 
\hypertarget{a00115_source_l02983}{}\hyperlink{a00045_a875227f3219c9799464631dec5e8f1bd}{02983} \textcolor{keywordtype}{void} \hyperlink{a00045_a875227f3219c9799464631dec5e8f1bd}{QCPLegend::setSelectedBrush}(\textcolor{keyword}{const} QBrush &brush)
02984 \{
02985   \hyperlink{a00045_ab3c7567c86d4784b1e48f76a84b3a1e2}{mSelectedBrush} = \hyperlink{a00045_a7e5d2766e7d724f399022be8a4e8a2cb}{brush};
02986 \}
02987 
\hypertarget{a00115_source_l02995}{}\hyperlink{a00045_ab580a01c3c0a239374ed66c29edf5ad2}{02995} \textcolor{keywordtype}{void} \hyperlink{a00045_ab580a01c3c0a239374ed66c29edf5ad2}{QCPLegend::setSelectedFont}(\textcolor{keyword}{const} QFont &font)
02996 \{
02997   \hyperlink{a00045_a86ce8f6c20a2f51a48eaf3c24ce16805}{mSelectedFont} = \hyperlink{a00045_a5cf8b840bc02f7bf4edb8dde400d0f41}{font};
02998   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
02999     \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->setSelectedFont(font);
03000 \}
03001 
\hypertarget{a00115_source_l03009}{}\hyperlink{a00045_a7674dfc7a1f30e1abd1018c0ed45e0bc}{03009} \textcolor{keywordtype}{void} \hyperlink{a00045_a7674dfc7a1f30e1abd1018c0ed45e0bc}{QCPLegend::setSelectedTextColor}(\textcolor{keyword}{const} QColor &
      \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
03010 \{
03011   \hyperlink{a00045_a6c25c8796c6e73e983aae6024965f2be}{mSelectedTextColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
03012   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
03013     \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->setSelectedTextColor(color);
03014 \}
03015 
\hypertarget{a00115_source_l03021}{}\hyperlink{a00045_a454272d7094437beb3278a2294006da5}{03021} \hyperlink{a00023}{QCPAbstractLegendItem} *\hyperlink{a00045_a454272d7094437beb3278a2294006da5}{QCPLegend::item}(\textcolor{keywordtype}{int} index)\textcolor{keyword}{ const}
03022 \textcolor{keyword}{}\{
03023   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size())
03024     \textcolor{keywordflow}{return} \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}[index];
03025   \textcolor{keywordflow}{else}
03026     \textcolor{keywordflow}{return} 0;
03027 \}
03028 
\hypertarget{a00115_source_l03035}{}\hyperlink{a00045_a5ee80cf83f65e3b6dd386942ee3cc1ee}{03035} \hyperlink{a00048}{QCPPlottableLegendItem} *\hyperlink{a00045_a5ee80cf83f65e3b6dd386942ee3cc1ee}{QCPLegend::itemWithPlottable}(\textcolor{keyword}{
      const} \hyperlink{a00024}{QCPAbstractPlottable} *\hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable})\textcolor{keyword}{ const}
03036 \textcolor{keyword}{}\{
03037   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
03038   \{
03039     \textcolor{keywordflow}{if} (\hyperlink{a00048}{QCPPlottableLegendItem} *pli = qobject\_cast<QCPPlottableLegendItem*>(
      \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)))
03040     \{
03041       \textcolor{keywordflow}{if} (pli->plottable() == \hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable})
03042         \textcolor{keywordflow}{return} pli;
03043     \}
03044   \}
03045   \textcolor{keywordflow}{return} 0;
03046 \}
03047 
\hypertarget{a00115_source_l03052}{}\hyperlink{a00045_a198228e9cdc78d3a3c306fa6763d0404}{03052} \textcolor{keywordtype}{int} \hyperlink{a00045_a198228e9cdc78d3a3c306fa6763d0404}{QCPLegend::itemCount}()\textcolor{keyword}{ const}
03053 \textcolor{keyword}{}\{
03054   \textcolor{keywordflow}{return} \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size();
03055 \}
03056 
\hypertarget{a00115_source_l03060}{}\hyperlink{a00045_a380dd19eb631592e1ebb9b24cc5b398a}{03060} \textcolor{keywordtype}{bool} \hyperlink{a00045_a380dd19eb631592e1ebb9b24cc5b398a}{QCPLegend::hasItem}(\hyperlink{a00023}{QCPAbstractLegendItem} *
      \hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{item})\textcolor{keyword}{ const}
03061 \textcolor{keyword}{}\{
03062   \textcolor{keywordflow}{return} \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.contains(item);
03063 \}
03064 
\hypertarget{a00115_source_l03071}{}\hyperlink{a00045_a2eb1d24bdf5658e64962a656303fd61a}{03071} \textcolor{keywordtype}{bool} \hyperlink{a00045_a2eb1d24bdf5658e64962a656303fd61a}{QCPLegend::hasItemWithPlottable}(\textcolor{keyword}{const} 
      \hyperlink{a00024}{QCPAbstractPlottable} *\hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable})\textcolor{keyword}{ const}
03072 \textcolor{keyword}{}\{
03073   \textcolor{keywordflow}{return} \hyperlink{a00045_a5ee80cf83f65e3b6dd386942ee3cc1ee}{itemWithPlottable}(plottable);
03074 \}
03075 
\hypertarget{a00115_source_l03083}{}\hyperlink{a00045_a3ab274de52d2951faea45a6d975e6b3f}{03083} \textcolor{keywordtype}{bool} \hyperlink{a00045_a3ab274de52d2951faea45a6d975e6b3f}{QCPLegend::addItem}(\hyperlink{a00023}{QCPAbstractLegendItem} *
      \hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{item})
03084 \{
03085   \textcolor{keywordflow}{if} (!\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.contains(item))
03086   \{
03087     \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.append(item);
03088     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
03089   \} \textcolor{keywordflow}{else}
03090     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
03091 \}
03092 
\hypertarget{a00115_source_l03100}{}\hyperlink{a00045_ac91595c3eaa746fe6321d2eb952c63bb}{03100} \textcolor{keywordtype}{bool} \hyperlink{a00045_ac91595c3eaa746fe6321d2eb952c63bb}{QCPLegend::removeItem}(\textcolor{keywordtype}{int} index)
03101 \{
03102   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size())
03103   \{
03104     \hyperlink{a00045_ae3cf93cee4fa6e7b1966e3c5597004c3}{mItemBoundingBoxes}.remove(\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(index));
03105     \textcolor{keyword}{delete} \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(index);
03106     \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.removeAt(index);
03107     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
03108   \} \textcolor{keywordflow}{else}
03109     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
03110 \}
03111 
\hypertarget{a00115_source_l03120}{}\hyperlink{a00045_a2aea4ec6da2d454dd0b241a254d65082}{03120} \textcolor{keywordtype}{bool} \hyperlink{a00045_ac91595c3eaa746fe6321d2eb952c63bb}{QCPLegend::removeItem}(\hyperlink{a00023}{QCPAbstractLegendItem} *
      \hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{item})
03121 \{
03122   \textcolor{keywordflow}{return} \hyperlink{a00045_ac91595c3eaa746fe6321d2eb952c63bb}{removeItem}(\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.indexOf(item));
03123 \}
03124 
\hypertarget{a00115_source_l03128}{}\hyperlink{a00045_a24795c7250eb5214fcea16b7217b4dfb}{03128} \textcolor{keywordtype}{void} \hyperlink{a00045_a24795c7250eb5214fcea16b7217b4dfb}{QCPLegend::clearItems}()
03129 \{
03130   qDeleteAll(\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems});
03131   \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.clear();
03132   \hyperlink{a00045_ae3cf93cee4fa6e7b1966e3c5597004c3}{mItemBoundingBoxes}.clear();
03133 \}
03134 
03135 
\hypertarget{a00115_source_l03142}{}\hyperlink{a00045_ac93eaf236e911d67aa8b88942ef45c5e}{03142} QList<QCPAbstractLegendItem *> \hyperlink{a00045_ac93eaf236e911d67aa8b88942ef45c5e}{QCPLegend::selectedItems}()\textcolor{keyword}{ const}
03143 \textcolor{keyword}{}\{
03144   QList<QCPAbstractLegendItem*> result;
03145   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
03146   \{
03147     \textcolor{keywordflow}{if} (\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->selected())
03148       result.append(\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i));
03149   \}
03150   \textcolor{keywordflow}{return} result;
03151 \}
03152 
\hypertarget{a00115_source_l03158}{}\hyperlink{a00045_ad7fd50e5478b0da477d9cc74b7204caf}{03158} \textcolor{keywordtype}{void}  \hyperlink{a00045_ad7fd50e5478b0da477d9cc74b7204caf}{QCPLegend::reArrange}()
03159 \{
03160   \textcolor{keywordflow}{if} (\hyperlink{a00045_af4667ced12f959e20da2eb34d4383008}{mAutoSize})
03161   \{
03162     \hyperlink{a00045_aefb91ff99ea360dede1a96b91e14fcd2}{calculateAutoSize}();
03163   \}
03164   \hyperlink{a00045_a1e81744daf2b51ed7025e7357d6f88a1}{calculateAutoPosition}();
03165 \}
03166 
\hypertarget{a00115_source_l03172}{}\hyperlink{a00045_a6388446e0906b21ebf3a92310570e73e}{03172} \textcolor{keywordtype}{bool} \hyperlink{a00045_a6388446e0906b21ebf3a92310570e73e}{QCPLegend::selectTestLegend}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
03173 \textcolor{keyword}{}\{
03174   \textcolor{keywordflow}{return} QRect(\hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition}, \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}).contains(pos.toPoint());
03175 \}
03176 
\hypertarget{a00115_source_l03183}{}\hyperlink{a00045_a8bbb0b003cc93f07dff1d69416b606f0}{03183} \hyperlink{a00023}{QCPAbstractLegendItem} *\hyperlink{a00045_a8bbb0b003cc93f07dff1d69416b606f0}{QCPLegend::selectTestItem}(\textcolor{keyword}{const} QPoint
       pos)\textcolor{keyword}{ const}
03184 \textcolor{keyword}{}\{
03185   QMap<QCPAbstractLegendItem*, QRect>::const\_iterator it;
03186   \textcolor{keywordflow}{for} (it = \hyperlink{a00045_ae3cf93cee4fa6e7b1966e3c5597004c3}{mItemBoundingBoxes}.constBegin(); it != 
      \hyperlink{a00045_ae3cf93cee4fa6e7b1966e3c5597004c3}{mItemBoundingBoxes}.constEnd(); ++it)
03187   \{
03188     \textcolor{keywordflow}{if} (it.value().contains(pos) && \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.contains(it.key()))
03189       \textcolor{keywordflow}{return} it.key();
03190   \}
03191   \textcolor{keywordflow}{return} 0;
03192 \}
03193 
\hypertarget{a00115_source_l03206}{}\hyperlink{a00045_ac214f7503cf46225f08f91003f554bdd}{03206} \textcolor{keywordtype}{void} \hyperlink{a00045_ac214f7503cf46225f08f91003f554bdd}{QCPLegend::updateSelectionState}()
03207 \{
03208   \textcolor{keywordtype}{bool} hasSelections = \textcolor{keyword}{false};
03209   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
03210   \{
03211     \textcolor{keywordflow}{if} (\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->selected())
03212     \{
03213       hasSelections = \textcolor{keyword}{true};
03214       \textcolor{keywordflow}{break};
03215     \}
03216   \}
03217   
03218   \textcolor{comment}{// in the following we don't use setSelected because it would cause unnecessary}
03219   \textcolor{comment}{// logic looping through items if spItems isn't set in the new state. (look at setSelected and you'll
       understand)}
03220   \textcolor{keywordflow}{if} (hasSelections && !\hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected}.testFlag(spItems))
03221   \{
03222     \hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected} |= spItems;
03223     emit \hyperlink{a00045_a286149b644d5f5c884a0140219d979f6}{selectionChanged}(\hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected});
03224   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!hasSelections && \hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected}.testFlag(spItems))
03225   \{
03226     \hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected} &= ~spItems;
03227     emit \hyperlink{a00045_a286149b644d5f5c884a0140219d979f6}{selectionChanged}(\hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected});
03228   \}
03229 \}
03230 
\hypertarget{a00115_source_l03244}{}\hyperlink{a00045_a44cdc6af6cd6e62a2bd827c3236c7261}{03244} \textcolor{keywordtype}{bool} \hyperlink{a00045_a44cdc6af6cd6e62a2bd827c3236c7261}{QCPLegend::handleLegendSelection}(QMouseEvent *event, \textcolor{keywordtype}{bool} 
      additiveSelection, \textcolor{keywordtype}{bool} &modified)
03245 \{
03246   modified = \textcolor{keyword}{false};
03247   \textcolor{keywordtype}{bool} selectionFound = \textcolor{keyword}{false};
03248   
03249   \textcolor{keywordflow}{if} (event && \hyperlink{a00045_a6388446e0906b21ebf3a92310570e73e}{selectTestLegend}(event->pos())) \textcolor{comment}{// clicked inside legend somewhere}
03250   \{
03251     \hyperlink{a00023}{QCPAbstractLegendItem} *ali = \hyperlink{a00045_a8bbb0b003cc93f07dff1d69416b606f0}{selectTestItem}(event->pos());
03252     \textcolor{keywordflow}{if} (\hyperlink{a00045_a459f39581d1eba9ee80557837601e21c}{selectable}().testFlag(QCPLegend::spItems) && ali && ali->
      \hyperlink{a00023_a0a0205f33f37edae50826c24cb8f1983}{selectable}()) \textcolor{comment}{// items shall be selectable and item ali was clicked }
03253     \{
03254       selectionFound = \textcolor{keyword}{true};
03255       \textcolor{comment}{// deselect legend box:}
03256       \textcolor{keywordflow}{if} (!additiveSelection && \hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}().testFlag(QCPLegend::spLegendBox) && 
      \hyperlink{a00045_a459f39581d1eba9ee80557837601e21c}{selectable}().testFlag(QCPLegend::spLegendBox))
03257         \hyperlink{a00045_a752c48b30f8ba870b55e79659385f107}{setSelected}(\hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}() & ~\hyperlink{a00045}{QCPLegend}::spLegendBox);
03258       \textcolor{comment}{// first select clicked item:}
03259       \textcolor{keywordflow}{if} (!ali->\hyperlink{a00023_ac776e68e3367704452131c6aa9908bb9}{selected}() || additiveSelection) \textcolor{comment}{// if additive selection, we toggle selection on
       and off per click}
03260       \{
03261         modified = \textcolor{keyword}{true};
03262         ali->\hyperlink{a00023_a6eed93b0ab99cb3eabb043fb08179c2b}{setSelected}(!ali->\hyperlink{a00023_ac776e68e3367704452131c6aa9908bb9}{selected}());
03263       \}
03264       \textcolor{comment}{// finally, deselect all other items (if we had deselected all first, the selectionChanged signal of
       QCPLegend might have been emitted twice):}
03265       \textcolor{keywordflow}{if} (!additiveSelection)
03266       \{
03267         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a198228e9cdc78d3a3c306fa6763d0404}{itemCount}(); ++i)
03268         \{
03269           \textcolor{keywordflow}{if} (\hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i) != ali && \hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i)->\hyperlink{a00023_ac776e68e3367704452131c6aa9908bb9}{selected}() && \hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i)->
      \hyperlink{a00023_a0a0205f33f37edae50826c24cb8f1983}{selectable}())
03270           \{
03271             modified = \textcolor{keyword}{true};
03272             \hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i)->\hyperlink{a00023_a6eed93b0ab99cb3eabb043fb08179c2b}{setSelected}(\textcolor{keyword}{false});
03273           \}
03274         \}
03275       \}
03276     \} \textcolor{keywordflow}{else} \textcolor{comment}{// no specific item clicked or items not selectable}
03277     \{
03278       \textcolor{comment}{// if items actually were selectable, this means none were clicked, deselect them:}
03279       \textcolor{keywordflow}{if} (\hyperlink{a00045_a459f39581d1eba9ee80557837601e21c}{selectable}().testFlag(QCPLegend::spItems) && \hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}().testFlag(
      QCPLegend::spItems) && !additiveSelection)
03280       \{
03281         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a198228e9cdc78d3a3c306fa6763d0404}{itemCount}(); ++i)
03282         \{
03283           \textcolor{keywordflow}{if} (\hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i)->\hyperlink{a00023_a0a0205f33f37edae50826c24cb8f1983}{selectable}())
03284             \hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i)->\hyperlink{a00023_a6eed93b0ab99cb3eabb043fb08179c2b}{setSelected}(\textcolor{keyword}{false});
03285         \}
03286         modified = \textcolor{keyword}{true};
03287       \}
03288       \textcolor{comment}{// if legend box is selectable, select it:}
03289       \textcolor{keywordflow}{if} (\hyperlink{a00045_a459f39581d1eba9ee80557837601e21c}{selectable}().testFlag(QCPLegend::spLegendBox))
03290       \{
03291         \textcolor{keywordflow}{if} (!\hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}().testFlag(QCPLegend::spLegendBox) || additiveSelection)
03292         \{
03293           selectionFound = \textcolor{keyword}{true};
03294           \hyperlink{a00045_a752c48b30f8ba870b55e79659385f107}{setSelected}(\hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}() ^ QCPLegend::spLegendBox); \textcolor{comment}{// xor because we always
       toggle}
03295           modified = \textcolor{keyword}{true};
03296         \}
03297       \}
03298     \}
03299   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}() != QCPLegend::spNone && \hyperlink{a00045_a459f39581d1eba9ee80557837601e21c}{selectable}() != QCPLegend::spNone && !
      additiveSelection) \textcolor{comment}{// legend not clicked, deselect it if selectable allows that (and all child items)}
03300   \{
03301     \textcolor{comment}{// only deselect parts that are allowed to be changed by user according to selectable()}
03302     \textcolor{comment}{// deselect child items (and automatically removes spItems from selected state of legend, if last item
       gets deselected):}
03303     \textcolor{keywordflow}{if} (\hyperlink{a00045_a459f39581d1eba9ee80557837601e21c}{selectable}().testFlag(spItems)) 
03304     \{
03305       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a198228e9cdc78d3a3c306fa6763d0404}{itemCount}(); ++i)
03306       \{
03307         \textcolor{keywordflow}{if} (\hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i)->\hyperlink{a00023_ac776e68e3367704452131c6aa9908bb9}{selected}() && \hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i)->\hyperlink{a00023_a0a0205f33f37edae50826c24cb8f1983}{selectable}())
03308         \{
03309           \hyperlink{a00045_a454272d7094437beb3278a2294006da5}{item}(i)->\hyperlink{a00023_a6eed93b0ab99cb3eabb043fb08179c2b}{setSelected}(\textcolor{keyword}{false});
03310           modified = \textcolor{keyword}{true};
03311         \}
03312       \}
03313     \}
03314     \textcolor{comment}{// only deselect parts that are allowed to be changed (are selectable). Don't forcibly remove}
03315     \textcolor{comment}{// spItems, because some selected items might not be selectable, i.e. allowed to be deselected}
03316     \textcolor{comment}{// by user interaction. If that's not the case, spItems will have been removed from selected()}
03317     \textcolor{comment}{// state in previous loop by individual setSelected(false) calls on the items anyway.}
03318     QCPLegend::SelectableParts newState = \hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}() & ~(\hyperlink{a00045_a459f39581d1eba9ee80557837601e21c}{selectable}()&~spItems);
03319     \textcolor{keywordflow}{if} (newState != \hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}())
03320     \{
03321       \hyperlink{a00045_a752c48b30f8ba870b55e79659385f107}{setSelected}(newState);
03322       modified = \textcolor{keyword}{true};
03323     \}
03324   \}
03325   
03326   \textcolor{keywordflow}{return} selectionFound;
03327 \}
03328 
\hypertarget{a00115_source_l03341}{}\hyperlink{a00045_a26307f532c3458b379663b7d517a5f47}{03341} \textcolor{keywordtype}{void} \hyperlink{a00045_a26307f532c3458b379663b7d517a5f47}{QCPLegend::applyDefaultAntialiasingHint}(
      \hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
03342 \textcolor{keyword}{}\{
03343   \hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{applyAntialiasingHint}(painter, \hyperlink{a00044_a3ab45a4c76a3333ce42eb217a81733ec}{mAntialiased}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca9e0127a6361b5d0596b031a482c5cf97}{QCP::aeLegend});
03344 \}
03345 
\hypertarget{a00115_source_l03351}{}\hyperlink{a00045_a60172c9d2212584f38f5d0c1e50970c7}{03351} QPen \hyperlink{a00045_a60172c9d2212584f38f5d0c1e50970c7}{QCPLegend::getBorderPen}()\textcolor{keyword}{ const}
03352 \textcolor{keyword}{}\{
03353   \textcolor{keywordflow}{return} \hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected}.testFlag(spLegendBox) ? \hyperlink{a00045_a62906c996906ae23e9f724b6ac1f7334}{mSelectedBorderPen} : 
      \hyperlink{a00045_a52ab8342a382456131d567f962d7f9d0}{mBorderPen};
03354 \}
03355 
\hypertarget{a00115_source_l03361}{}\hyperlink{a00045_a236fe4cd617c9f88620fd9de74417f20}{03361} QBrush \hyperlink{a00045_a236fe4cd617c9f88620fd9de74417f20}{QCPLegend::getBrush}()\textcolor{keyword}{ const}
03362 \textcolor{keyword}{}\{
03363   \textcolor{keywordflow}{return} \hyperlink{a00045_a735cbf24a0cd72b712bb01dfa7d909b2}{mSelected}.testFlag(spLegendBox) ? \hyperlink{a00045_ab3c7567c86d4784b1e48f76a84b3a1e2}{mSelectedBrush} : 
      \hyperlink{a00045_a9bd7cd05a9a485e06eda513a348baf80}{mBrush};
03364 \}
03365 
\hypertarget{a00115_source_l03370}{}\hyperlink{a00045_a4462151bf875ca85fa3815457c683fdc}{03370} \textcolor{keywordtype}{void} \hyperlink{a00045_a4462151bf875ca85fa3815457c683fdc}{QCPLegend::draw}(\hyperlink{a00047}{QCPPainter} *painter)
03371 \{
03372   painter->setBrush(\hyperlink{a00045_a236fe4cd617c9f88620fd9de74417f20}{getBrush}());
03373   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00045_a60172c9d2212584f38f5d0c1e50970c7}{getBorderPen}());
03374   \textcolor{comment}{// draw background rect:}
03375   painter->drawRect(QRect(\hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition}, \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}));
03376   \textcolor{comment}{// draw legend items:}
03377   painter->setClipRect(QRect(\hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition}, \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}).adjusted(1, 1, 0, 0));
03378   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(QPen());
03379   painter->setBrush(Qt::NoBrush);
03380   \textcolor{keywordtype}{int} currentTop = \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition}.y()+\hyperlink{a00045_aea0340bde711162822811bcc4ebc3c74}{mPaddingTop};
03381   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
03382   \{
03383     QSize itemSize = \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->size(QSize(\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.width(), 0));
03384     QRect itemRect = QRect(QPoint(\hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition}.x()+\hyperlink{a00045_ab7b535988eb6f9d0e4ae6c33ca0e5b03}{mPaddingLeft}, currentTop), itemSize);
03385     \hyperlink{a00045_ae3cf93cee4fa6e7b1966e3c5597004c3}{mItemBoundingBoxes}.insert(\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i), itemRect);
03386     painter->\hyperlink{a00047_a8fd6821ee6fecbfa04444c9062912abd}{save}();
03387     \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->applyAntialiasingHint(painter);
03388     \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->draw(painter, itemRect);
03389     painter->\hyperlink{a00047_a64908e6298d5bbd83457dc987cc3a022}{restore}();
03390     currentTop += itemSize.height()+\hyperlink{a00045_acb16d1d1f6289185e8a5be2ea7f7d635}{mItemSpacing};
03391   \}
03392 \}
03393 
\hypertarget{a00115_source_l03400}{}\hyperlink{a00045_aefb91ff99ea360dede1a96b91e14fcd2}{03400} \textcolor{keywordtype}{void} \hyperlink{a00045_aefb91ff99ea360dede1a96b91e14fcd2}{QCPLegend::calculateAutoSize}()
03401 \{
03402   \textcolor{keywordtype}{int} width = \hyperlink{a00045_a52f5ad2b7fe948e98286447165953c40}{mMinimumSize}.width()-\hyperlink{a00045_ab7b535988eb6f9d0e4ae6c33ca0e5b03}{mPaddingLeft}-
      \hyperlink{a00045_a99eb704ee554eece4dac0833cbc5ee91}{mPaddingRight}; \textcolor{comment}{// start with minimum width and only expand from there}
03403   \textcolor{keywordtype}{int} currentTop;
03404   \textcolor{keywordtype}{bool} repeat = \textcolor{keyword}{true};
03405   \textcolor{keywordtype}{int} repeatCount = 0;
03406   \textcolor{keywordflow}{while} (repeat && repeatCount < 3) \textcolor{comment}{// repeat until we find self-consistent width (usually 2 runs)}
03407   \{
03408     repeat = \textcolor{keyword}{false};
03409     currentTop = \hyperlink{a00045_aea0340bde711162822811bcc4ebc3c74}{mPaddingTop};
03410     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size(); ++i)
03411     \{
03412       QSize s = \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.at(i)->size(QSize(width, 0));
03413       currentTop += s.height();
03414       \textcolor{keywordflow}{if} (i < \hyperlink{a00045_a9ae61eaf9434d9f315696bf03c8e4455}{mItems}.size()-1) \textcolor{comment}{// vertical spacer for all but last item}
03415         currentTop += \hyperlink{a00045_acb16d1d1f6289185e8a5be2ea7f7d635}{mItemSpacing};
03416       \textcolor{keywordflow}{if} (width < s.width())
03417       \{
03418         width = s.width();
03419         repeat = \textcolor{keyword}{true}; \textcolor{comment}{// changed width, so need a new run with new width to let other items adapt their
       height to that new width}
03420       \}
03421     \}
03422     repeatCount++;
03423   \}
03424   \textcolor{keywordflow}{if} (repeat)
03425     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"hit repeat limit for iterative width calculation"};
03426   currentTop += \hyperlink{a00045_a49f6b31aeee68cfce9fe57aaf0cc6ce1}{mPaddingBottom};
03427   width += \hyperlink{a00045_ab7b535988eb6f9d0e4ae6c33ca0e5b03}{mPaddingLeft}+\hyperlink{a00045_a99eb704ee554eece4dac0833cbc5ee91}{mPaddingRight};
03428   
03429   \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.setWidth(width);
03430   \textcolor{keywordflow}{if} (currentTop > \hyperlink{a00045_a52f5ad2b7fe948e98286447165953c40}{mMinimumSize}.height())
03431     \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.setHeight(currentTop);
03432   \textcolor{keywordflow}{else}
03433     \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.setHeight(\hyperlink{a00045_a52f5ad2b7fe948e98286447165953c40}{mMinimumSize}.height());
03434 \}
03435 
\hypertarget{a00115_source_l03440}{}\hyperlink{a00045_a1e81744daf2b51ed7025e7357d6f88a1}{03440} \textcolor{keywordtype}{void} \hyperlink{a00045_a1e81744daf2b51ed7025e7357d6f88a1}{QCPLegend::calculateAutoPosition}()
03441 \{
03442   \textcolor{keywordflow}{switch} (\hyperlink{a00045_abd6cf2517b85e73c98b8f00c3a4104c0}{mPositionStyle})
03443   \{
03444     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fa1f5bb82f19be99ee3722a540b76c3c85}{psTopLeft}:
03445       \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.topLeft() + QPoint(
      \hyperlink{a00045_abc32b5c03a201ff2a4225503c0f5c8e0}{mMarginLeft}, \hyperlink{a00045_a1eb13f7b277274a6de2d739a2498d2d5}{mMarginTop}); \textcolor{keywordflow}{break};
03446     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fa7ca820289c7938092f497fbd4d706f5d}{psTop}:
03447       \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.topLeft() + QPoint(
      \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.width()/2.0-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.width()/2.0, \hyperlink{a00045_a1eb13f7b277274a6de2d739a2498d2d5}{mMarginTop}); \textcolor{keywordflow}{break};
03448     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fadc969b13706ba4fd802bbc27e0abb18a}{psTopRight}:
03449       \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.topRight() + QPoint(-
      \hyperlink{a00045_ab2c36e6f547421ca9800b8025db745ce}{mMarginRight}-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.width(), \hyperlink{a00045_a1eb13f7b277274a6de2d739a2498d2d5}{mMarginTop}); \textcolor{keywordflow}{break};
03450     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fa71969c414ec15afabe2761131ad85766}{psRight}:
03451       \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.topRight() + QPoint(-
      \hyperlink{a00045_ab2c36e6f547421ca9800b8025db745ce}{mMarginRight}-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.width(), \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.height()/2.0-
      \hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.height()/2.0); \textcolor{keywordflow}{break};
03452     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049faf4120842dbc223cf8523188f15146d31}{psBottomRight}:
03453       \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.bottomRight() + QPoint(-
      \hyperlink{a00045_ab2c36e6f547421ca9800b8025db745ce}{mMarginRight}-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.width(), -\hyperlink{a00045_a3df9b3c2d4af5f8b484cc7c4b64b20c8}{mMarginBottom}-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.height()); \textcolor{keywordflow}{break};
03454     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fac32970f4bf28ef780f15365abcc9fbd3}{psBottom}:
03455       \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.bottomLeft() + QPoint(
      \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.width()/2.0-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.width()/2.0, -
      \hyperlink{a00045_a3df9b3c2d4af5f8b484cc7c4b64b20c8}{mMarginBottom}-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.height()); \textcolor{keywordflow}{break};
03456     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fa36e2c1900a0d39596ee26074c7815ee9}{psBottomLeft}:
03457       \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.bottomLeft() + QPoint(
      \hyperlink{a00045_abc32b5c03a201ff2a4225503c0f5c8e0}{mMarginLeft}, -\hyperlink{a00045_a3df9b3c2d4af5f8b484cc7c4b64b20c8}{mMarginBottom}-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.height()); \textcolor{keywordflow}{break};
03458     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fac9c7c1c0f8d1894792fbb71854002ebe}{psLeft}:
03459       \hyperlink{a00045_a1a1033e581aba17a234a320b7fffc739}{mPosition} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.topLeft() + QPoint(
      \hyperlink{a00045_abc32b5c03a201ff2a4225503c0f5c8e0}{mMarginLeft}, \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mAxisRect.height()/2.0-\hyperlink{a00045_aa55b33bf64e26c76e6475fd3140af8a2}{mSize}.height()/2.0); \textcolor{keywordflow}{break};
03460     \textcolor{keywordflow}{case} \hyperlink{a00045_aa61c3d82a6c7942dddefbf1ed1f7049fadfd57c395cae91cd95231c926c0a38ca}{psManual}: \textcolor{keywordflow}{break};
03461   \}
03462 \}
03463 
03464 
03465 \textcolor{comment}{// ================================================================================}
03466 \textcolor{comment}{// =================== QCPAxis}
03467 \textcolor{comment}{// ================================================================================}
03468 
03477 \textcolor{comment}{/* start of documentation of inline functions */}
03478 
03485 \textcolor{comment}{/* end of documentation of inline functions */}
03486 \textcolor{comment}{/* start of documentation of signals */}
03487 
03516 \textcolor{comment}{/* end of documentation of signals */}
03517 
\hypertarget{a00115_source_l03521}{}\hyperlink{a00025_a5a34dafa051be08d03e89c163c507f90}{03521} \hyperlink{a00025_a5a34dafa051be08d03e89c163c507f90}{QCPAxis::QCPAxis}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot, \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18a}{AxisType} type) :
03522   \hyperlink{a00044}{QCPLayerable}(parentPlot)
03523 \{
03524   \hyperlink{a00025_aebb24ba8734b7e054efc6e1ecc5414c7}{mLowestVisibleTick} = 0;
03525   \hyperlink{a00025_abb3b3ccce7e9779fef2be91ce1a46ef0}{mHighestVisibleTick} = -1;
03526   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid} = \textcolor{keyword}{new} \hyperlink{a00025_a061e177f585549fc31f780852e2bd6fe}{QCPGrid}(\textcolor{keyword}{this});
03527   \hyperlink{a00025_a3976dba7137c71a2a1a34737ff9baff9}{setAxisType}(type);
03528   \hyperlink{a00025_a0188c6248366fc9f9ff816dceee986e0}{setAxisRect}(parentPlot->axisRect()); 
03529   \hyperlink{a00025_adb6c5c45bdf899ea221881dd3b43b406}{setScaleType}(stLinear);
03530   \hyperlink{a00025_a726186054be90487885a748aa1b42188}{setScaleLogBase}(10);
03531   
03532   \hyperlink{a00044_a4fd43e89be4a553ead41652565ff0581}{setAntialiased}(\textcolor{keyword}{false});
03533   \hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(0, 5);
03534   \hyperlink{a00025_a2172fdb196b1a0dc3f40992fcad8e9e1}{setRangeReversed}(\textcolor{keyword}{false});
03535   
03536   \hyperlink{a00025_ac891409315bc379e3b1abdb162c1a011}{setTicks}(\textcolor{keyword}{true});
03537   \hyperlink{a00025_af727db0acc6492c4c774c0700e738205}{setTickStep}(1);
03538   \hyperlink{a00025_a7c7111cbeac9ec5fcb40f93a1ef51a0b}{setAutoTickCount}(6);
03539   \hyperlink{a00025_ae867c23d3a6a7bd4d09cc66c5d018f63}{setAutoTicks}(\textcolor{keyword}{true});
03540   \hyperlink{a00025_aaa47e3a6bac0c20d4beb9028f01bc1a1}{setAutoTickLabels}(\textcolor{keyword}{true});
03541   \hyperlink{a00025_a99fe77b034e06f5b723995beab96e741}{setAutoTickStep}(\textcolor{keyword}{true});
03542   \hyperlink{a00025_a2b8690c4e8dbc39d9185d2b398ce7a6c}{setTickLabelFont}(parentPlot->font());
03543   \hyperlink{a00025_a395e445c3fe496b935bee7b911ecfd1c}{setTickLabelColor}(Qt::black);
03544   \hyperlink{a00025_a62ec40bebe3540e9c1479a8fd2be3b0d}{setTickLength}(5);
03545   \hyperlink{a00025_ad80923bcc1c5da4c4db602c5325e797e}{setTickPen}(QPen(Qt::black, 0, Qt::SolidLine, Qt::SquareCap));
03546   \hyperlink{a00025_a04ba16e1f6f78d70f938519576ed32c8}{setTickLabels}(\textcolor{keyword}{true});
03547   \hyperlink{a00025_a54f24f5ce8feea25209388a863d7e448}{setTickLabelType}(ltNumber);
03548   \hyperlink{a00025_a1bddd4413df8a576b7ad4b067fb33375}{setTickLabelRotation}(0);
03549   \hyperlink{a00025_a2ee0191daa03524a682113e63e05f7a7}{setDateTimeFormat}(\textcolor{stringliteral}{"hh:mm:ss\(\backslash\)ndd.MM.yy"});
03550   \hyperlink{a00025_ae585a54dc2aac662e90a2ca82f002590}{setNumberFormat}(\textcolor{stringliteral}{"gbd"});
03551   \hyperlink{a00025_a21dc8023ad7500382ad9574b48137e63}{setNumberPrecision}(6);
03552   \hyperlink{a00025_a33bcc382c111c9f31bb0687352a2dea4}{setLabel}(\textcolor{stringliteral}{""});
03553   \hyperlink{a00025_a71ac1a47f7547e490a8c4311d1433cf3}{setLabelFont}(parentPlot->font());
03554   \hyperlink{a00025_a6c906fe56d75f0122335b9f79b999608}{setLabelColor}(Qt::black);
03555   
03556   \hyperlink{a00025_adcbdec7a60054b88571e89599f4a45bf}{setAutoSubTicks}(\textcolor{keyword}{true});
03557   \hyperlink{a00025_a4b1554ead9d7f9799650d51383e326dd}{setSubTickCount}(4);
03558   \hyperlink{a00025_ab702d6fd42fc620607435339a1c2a2e1}{setSubTickLength}(2);
03559   \hyperlink{a00025_aede4028ae7516bd51a60618a8233f9cf}{setSubTickPen}(QPen(Qt::black, 0, Qt::SolidLine, Qt::SquareCap));
03560   \hyperlink{a00025_a778d45fb71b3c7ab3bb7079e18b058e4}{setBasePen}(QPen(Qt::black, 0, Qt::SolidLine, Qt::SquareCap));
03561   
03562   \hyperlink{a00025_a24c13908da2f8d629b1bbbe9cbd63e39}{setSelected}(spNone);
03563   \hyperlink{a00025_afa988209bf6519f63d6ef2e615dbe1ea}{setSelectable}(spAxis | spTickLabels | spAxisLabel);
03564   QFont selTickLabelFont = \hyperlink{a00025_af6d7ad17f3398b114a413f7a3dc5ef9d}{tickLabelFont}();
03565   selTickLabelFont.setBold(\textcolor{keyword}{true});
03566   \hyperlink{a00025_a845ccb560b7bc5281098a5be494145f6}{setSelectedTickLabelFont}(selTickLabelFont);
03567   QFont selLabelFont = \hyperlink{a00025_ae8029ae0b32e9d4d73dddcdd0a08c838}{labelFont}();
03568   selLabelFont.setBold(\textcolor{keyword}{true});
03569   \hyperlink{a00025_a02ec2a75d4d8401eaab834fbc6803d30}{setSelectedLabelFont}(selLabelFont);
03570   \hyperlink{a00025_a9bdbf5e63ab15187f3a1de9440129227}{setSelectedTickLabelColor}(Qt::blue);
03571   \hyperlink{a00025_a5d502dec597c634f491fdd73d151c72d}{setSelectedLabelColor}(Qt::blue);
03572   QPen blueThickPen(Qt::blue, 2);
03573   \hyperlink{a00025_aeb917a909215605b95ef2be843de1ee8}{setSelectedBasePen}(blueThickPen);
03574   \hyperlink{a00025_a8360502685eb782edbf04019c9345cdc}{setSelectedTickPen}(blueThickPen);
03575   \hyperlink{a00025_a2a00a7166600155eac26843132eb9576}{setSelectedSubTickPen}(blueThickPen);
03576   
03577   \hyperlink{a00025_a5691441cb3de9e9844855d339c0db279}{setPadding}(0);
03578   \textcolor{keywordflow}{if} (type == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{atTop})
03579   \{
03580     \hyperlink{a00025_af302c479af9dbc2e9f0e44e07c0012ee}{setTickLabelPadding}(3);
03581     \hyperlink{a00025_a4391192a766e5d20cfe5cbc17607a7a2}{setLabelPadding}(6);
03582   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{atRight})
03583   \{
03584     \hyperlink{a00025_af302c479af9dbc2e9f0e44e07c0012ee}{setTickLabelPadding}(7);
03585     \hyperlink{a00025_a4391192a766e5d20cfe5cbc17607a7a2}{setLabelPadding}(12);
03586   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{atBottom})
03587   \{
03588     \hyperlink{a00025_af302c479af9dbc2e9f0e44e07c0012ee}{setTickLabelPadding}(3);
03589     \hyperlink{a00025_a4391192a766e5d20cfe5cbc17607a7a2}{setLabelPadding}(3);
03590   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730}{atLeft})
03591   \{
03592     \hyperlink{a00025_af302c479af9dbc2e9f0e44e07c0012ee}{setTickLabelPadding}(5);
03593     \hyperlink{a00025_a4391192a766e5d20cfe5cbc17607a7a2}{setLabelPadding}(10);
03594   \}
03595 \}
03596 
\hypertarget{a00115_source_l03597}{}\hyperlink{a00025_a7cfa27ea9da0bb1fe0ae995572c0b85d}{03597} \hyperlink{a00025_a7cfa27ea9da0bb1fe0ae995572c0b85d}{QCPAxis::~QCPAxis}()
03598 \{
03599   \textcolor{keyword}{delete} \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid};
03600 \}
03601 
03602 \textcolor{comment}{/* No documentation as it is a property getter */}
\hypertarget{a00115_source_l03603}{}\hyperlink{a00025_ae6729b40845b29ffa5a440aa53cec215}{03603} QString \hyperlink{a00025_ae6729b40845b29ffa5a440aa53cec215}{QCPAxis::numberFormat}()\textcolor{keyword}{ const}
03604 \textcolor{keyword}{}\{
03605   QString result;
03606   result.append(\hyperlink{a00025_a600d56365316ea783927f7d595f1ed54}{mNumberFormatChar});
03607   \textcolor{keywordflow}{if} (\hyperlink{a00025_af03809bee3f3e35fcc38d25b6dd5003b}{mNumberBeautifulPowers})
03608   \{
03609     result.append(\textcolor{stringliteral}{"b"});
03610     \textcolor{keywordflow}{if} (\hyperlink{a00025_aebf0367d8645d2e05b93a0952b7e805b}{mNumberMultiplyCross})
03611       result.append(\textcolor{stringliteral}{"c"});
03612   \}
03613   \textcolor{keywordflow}{return} result;
03614 \}
03615 
\hypertarget{a00115_source_l03622}{}\hyperlink{a00025_a3976dba7137c71a2a1a34737ff9baff9}{03622} \textcolor{keywordtype}{void} \hyperlink{a00025_a3976dba7137c71a2a1a34737ff9baff9}{QCPAxis::setAxisType}(\hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18a}{AxisType} type)
03623 \{
03624   \hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} = type;
03625   \hyperlink{a00025_a048e1792fa86f4f86df55200b3f0be36}{mOrientation} = (type == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{atBottom} || type == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{atTop}) ? Qt::Horizontal : 
      Qt::Vertical;
03626 \}
03627 
\hypertarget{a00115_source_l03635}{}\hyperlink{a00025_a0188c6248366fc9f9ff816dceee986e0}{03635} \textcolor{keywordtype}{void} \hyperlink{a00025_a0188c6248366fc9f9ff816dceee986e0}{QCPAxis::setAxisRect}(\textcolor{keyword}{const} QRect &rect)
03636 \{
03637   \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect} = rect;
03638 \}
03639 
\hypertarget{a00115_source_l03653}{}\hyperlink{a00025_adb6c5c45bdf899ea221881dd3b43b406}{03653} \textcolor{keywordtype}{void} \hyperlink{a00025_adb6c5c45bdf899ea221881dd3b43b406}{QCPAxis::setScaleType}(ScaleType type)
03654 \{
03655   \hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} = type;
03656   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLogarithmic)
03657     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aaf6a9046e78d91eeb8e89584fe46b034}{sanitizedForLogScale}();
03658 \}
03659 
\hypertarget{a00115_source_l03667}{}\hyperlink{a00025_a726186054be90487885a748aa1b42188}{03667} \textcolor{keywordtype}{void} \hyperlink{a00025_a726186054be90487885a748aa1b42188}{QCPAxis::setScaleLogBase}(\textcolor{keywordtype}{double} base)
03668 \{
03669   \textcolor{keywordflow}{if} (base > 1)
03670   \{
03671     \hyperlink{a00025_abc727ddb4af745151755d1b5e60d03c3}{mScaleLogBase} = base;
03672     \hyperlink{a00025_a93e068984b475467929e7f6768754227}{mScaleLogBaseLogInv} = 1.0/qLn(\hyperlink{a00025_abc727ddb4af745151755d1b5e60d03c3}{mScaleLogBase}); \textcolor{comment}{// buffer for faster
       baseLog() calculation}
03673   \} \textcolor{keywordflow}{else}
03674     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Invalid logarithmic scale base (must be greater 1):"} << base;
03675 \}
03676 
\hypertarget{a00115_source_l03685}{}\hyperlink{a00025_aebdfea5d44c3a0ad2b4700cd4d25b641}{03685} \textcolor{keywordtype}{void} \hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{QCPAxis::setRange}(\textcolor{keyword}{const} \hyperlink{a00049}{QCPRange} &range)
03686 \{
03687   \textcolor{keywordflow}{if} (range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} == \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} && range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} == \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.
      \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
03688     \textcolor{keywordflow}{return};
03689   
03690   \textcolor{keywordflow}{if} (!\hyperlink{a00049_ab38bd4841c77c7bb86c9eea0f142dcc0}{QCPRange::validRange}(range)) \textcolor{keywordflow}{return};
03691   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLogarithmic)
03692   \{
03693     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = range.\hyperlink{a00049_aaf6a9046e78d91eeb8e89584fe46b034}{sanitizedForLogScale}();
03694   \} \textcolor{keywordflow}{else}
03695   \{
03696     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = range.\hyperlink{a00049_a1ff029704c29a75adbc1dc36cecaf44c}{sanitizedForLinScale}();
03697   \}
03698   emit \hyperlink{a00025_a0894084e4c16a1736534c4095746f910}{rangeChanged}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange});
03699 \}
03700 
\hypertarget{a00115_source_l03711}{}\hyperlink{a00025_afa988209bf6519f63d6ef2e615dbe1ea}{03711} \textcolor{keywordtype}{void} \hyperlink{a00025_afa988209bf6519f63d6ef2e615dbe1ea}{QCPAxis::setSelectable}(\textcolor{keyword}{const} SelectableParts &selectable)
03712 \{
03713   \hyperlink{a00025_a36b9786f4fce4edc74ee5ca293ee41d3}{mSelectable} = \hyperlink{a00025_a4e83e383fb5fbd9cf3759fab68f79aa6}{selectable};
03714 \}
03715 
\hypertarget{a00115_source_l03732}{}\hyperlink{a00025_a24c13908da2f8d629b1bbbe9cbd63e39}{03732} \textcolor{keywordtype}{void} \hyperlink{a00025_a24c13908da2f8d629b1bbbe9cbd63e39}{QCPAxis::setSelected}(\textcolor{keyword}{const} SelectableParts &selected)
03733 \{
03734   \textcolor{keywordflow}{if} (\hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected} != selected)
03735   \{
03736     \hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected} = \hyperlink{a00025_a534509949b91a6aa08e38cca48b62c9e}{selected};
03737     emit \hyperlink{a00025_aece2d803d07dba9dc2ea96fcad186e34}{selectionChanged}(\hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected});
03738   \}
03739 \}
03740 
\hypertarget{a00115_source_l03749}{}\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{03749} \textcolor{keywordtype}{void} \hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{QCPAxis::setRange}(\textcolor{keywordtype}{double} lower, \textcolor{keywordtype}{double} upper)
03750 \{
03751   \textcolor{keywordflow}{if} (lower == \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} && upper == \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
03752     \textcolor{keywordflow}{return};
03753   
03754   \textcolor{keywordflow}{if} (!\hyperlink{a00049_ab38bd4841c77c7bb86c9eea0f142dcc0}{QCPRange::validRange}(lower, upper)) \textcolor{keywordflow}{return};
03755   \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = lower;
03756   \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = upper;
03757   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLogarithmic)
03758   \{
03759     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aaf6a9046e78d91eeb8e89584fe46b034}{sanitizedForLogScale}();
03760   \} \textcolor{keywordflow}{else}
03761   \{
03762     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_a1ff029704c29a75adbc1dc36cecaf44c}{sanitizedForLinScale}();
03763   \}
03764   emit \hyperlink{a00025_a0894084e4c16a1736534c4095746f910}{rangeChanged}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange});
03765 \}
03766 
\hypertarget{a00115_source_l03780}{}\hyperlink{a00025_acf60e5b2d631fbc8c4548c3d579cb6d0}{03780} \textcolor{keywordtype}{void} \hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{QCPAxis::setRange}(\textcolor{keywordtype}{double} position, \textcolor{keywordtype}{double} size, Qt::AlignmentFlag alignment)
03781 \{
03782   \textcolor{keywordflow}{if} (alignment == Qt::AlignLeft)
03783     \hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(position, position+size);
03784   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (alignment == Qt::AlignRight)
03785     \hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(position-size, position);
03786   \textcolor{keywordflow}{else} \textcolor{comment}{// alignment == Qt::AlignCenter}
03787     \hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(position-size/2.0, position+size/2.0);
03788 \}
03789 
\hypertarget{a00115_source_l03794}{}\hyperlink{a00025_afcf51227d337db28d1a9ce9a4d1bc91a}{03794} \textcolor{keywordtype}{void} \hyperlink{a00025_afcf51227d337db28d1a9ce9a4d1bc91a}{QCPAxis::setRangeLower}(\textcolor{keywordtype}{double} lower)
03795 \{
03796   \textcolor{keywordflow}{if} (\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} == lower)
03797     \textcolor{keywordflow}{return};
03798   
03799   \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = lower;
03800   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLogarithmic)
03801   \{
03802     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aaf6a9046e78d91eeb8e89584fe46b034}{sanitizedForLogScale}();
03803   \} \textcolor{keywordflow}{else}
03804   \{
03805     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_a1ff029704c29a75adbc1dc36cecaf44c}{sanitizedForLinScale}();
03806   \}
03807   emit \hyperlink{a00025_a0894084e4c16a1736534c4095746f910}{rangeChanged}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange});
03808 \}
03809 
\hypertarget{a00115_source_l03814}{}\hyperlink{a00025_acd3ca1247aa867b540cd5ec30ccd3bef}{03814} \textcolor{keywordtype}{void} \hyperlink{a00025_acd3ca1247aa867b540cd5ec30ccd3bef}{QCPAxis::setRangeUpper}(\textcolor{keywordtype}{double} upper)
03815 \{
03816   \textcolor{keywordflow}{if} (\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} == upper)
03817     \textcolor{keywordflow}{return};
03818   
03819   \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = upper;
03820   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLogarithmic)
03821   \{
03822     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aaf6a9046e78d91eeb8e89584fe46b034}{sanitizedForLogScale}();
03823   \} \textcolor{keywordflow}{else}
03824   \{
03825     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_a1ff029704c29a75adbc1dc36cecaf44c}{sanitizedForLinScale}();
03826   \}
03827   emit \hyperlink{a00025_a0894084e4c16a1736534c4095746f910}{rangeChanged}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange});
03828 \}
03829 
\hypertarget{a00115_source_l03837}{}\hyperlink{a00025_a2172fdb196b1a0dc3f40992fcad8e9e1}{03837} \textcolor{keywordtype}{void} \hyperlink{a00025_a2172fdb196b1a0dc3f40992fcad8e9e1}{QCPAxis::setRangeReversed}(\textcolor{keywordtype}{bool} reversed)
03838 \{
03839   \hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed} = reversed;
03840 \}
03841 
\hypertarget{a00115_source_l03848}{}\hyperlink{a00025_a874fbc9e4586d60c1d095e3a89dea949}{03848} \textcolor{keywordtype}{void} \hyperlink{a00025_a874fbc9e4586d60c1d095e3a89dea949}{QCPAxis::setAntialiasedGrid}(\textcolor{keywordtype}{bool} enabled)
03849 \{
03850   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setAntialiased(enabled);
03851 \}
03852 
\hypertarget{a00115_source_l03859}{}\hyperlink{a00025_abaabf77feec4457ba045f6f5aaa002d5}{03859} \textcolor{keywordtype}{void} \hyperlink{a00025_abaabf77feec4457ba045f6f5aaa002d5}{QCPAxis::setAntialiasedSubGrid}(\textcolor{keywordtype}{bool} enabled)
03860 \{
03861   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setAntialiasedSubGrid(enabled);
03862 \}
03863 
\hypertarget{a00115_source_l03870}{}\hyperlink{a00025_a73f4801569aaccb65d545530d77f5e8f}{03870} \textcolor{keywordtype}{void} \hyperlink{a00025_a73f4801569aaccb65d545530d77f5e8f}{QCPAxis::setAntialiasedZeroLine}(\textcolor{keywordtype}{bool} enabled)
03871 \{
03872   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setAntialiasedZeroLine(enabled);
03873 \}
03874 
\hypertarget{a00115_source_l03879}{}\hyperlink{a00025_a8d6d2bec40205fd3ca07cb1394663521}{03879} \textcolor{keywordtype}{void} \hyperlink{a00025_a8d6d2bec40205fd3ca07cb1394663521}{QCPAxis::setGrid}(\textcolor{keywordtype}{bool} show)
03880 \{
03881   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setVisible(show);
03882 \}
03883 
\hypertarget{a00115_source_l03888}{}\hyperlink{a00025_a7e5a64eaf71c64cadb790c5ce58d4729}{03888} \textcolor{keywordtype}{void} \hyperlink{a00025_a7e5a64eaf71c64cadb790c5ce58d4729}{QCPAxis::setSubGrid}(\textcolor{keywordtype}{bool} show)
03889 \{
03890   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setSubGridVisible(show);
03891 \}
03892 
\hypertarget{a00115_source_l03905}{}\hyperlink{a00025_ae867c23d3a6a7bd4d09cc66c5d018f63}{03905} \textcolor{keywordtype}{void} \hyperlink{a00025_ae867c23d3a6a7bd4d09cc66c5d018f63}{QCPAxis::setAutoTicks}(\textcolor{keywordtype}{bool} on)
03906 \{
03907   \hyperlink{a00025_aac23adcbae246bf165d4539ad65ac9f9}{mAutoTicks} = on;
03908 \}
03909 
\hypertarget{a00115_source_l03914}{}\hyperlink{a00025_a7c7111cbeac9ec5fcb40f93a1ef51a0b}{03914} \textcolor{keywordtype}{void} \hyperlink{a00025_a7c7111cbeac9ec5fcb40f93a1ef51a0b}{QCPAxis::setAutoTickCount}(\textcolor{keywordtype}{int} approximateCount)
03915 \{
03916   \hyperlink{a00025_a499fbb67111e4b204738f6c1aa28d842}{mAutoTickCount} = approximateCount;
03917 \}
03918 
\hypertarget{a00115_source_l03931}{}\hyperlink{a00025_aaa47e3a6bac0c20d4beb9028f01bc1a1}{03931} \textcolor{keywordtype}{void} \hyperlink{a00025_aaa47e3a6bac0c20d4beb9028f01bc1a1}{QCPAxis::setAutoTickLabels}(\textcolor{keywordtype}{bool} on)
03932 \{
03933   \hyperlink{a00025_a721e496b342f272078c5ff84564e472f}{mAutoTickLabels} = on;
03934 \}
03935 
\hypertarget{a00115_source_l03946}{}\hyperlink{a00025_a99fe77b034e06f5b723995beab96e741}{03946} \textcolor{keywordtype}{void} \hyperlink{a00025_a99fe77b034e06f5b723995beab96e741}{QCPAxis::setAutoTickStep}(\textcolor{keywordtype}{bool} on)
03947 \{
03948   \hyperlink{a00025_aada8934a5c44978653031782aa37d101}{mAutoTickStep} = on;
03949 \}
03950 
\hypertarget{a00115_source_l03957}{}\hyperlink{a00025_adcbdec7a60054b88571e89599f4a45bf}{03957} \textcolor{keywordtype}{void} \hyperlink{a00025_adcbdec7a60054b88571e89599f4a45bf}{QCPAxis::setAutoSubTicks}(\textcolor{keywordtype}{bool} on)
03958 \{
03959   \hyperlink{a00025_aaae980b0d193d959674e314dbb6c2c3b}{mAutoSubTicks} = on;
03960 \}
03961 
\hypertarget{a00115_source_l03966}{}\hyperlink{a00025_ac891409315bc379e3b1abdb162c1a011}{03966} \textcolor{keywordtype}{void} \hyperlink{a00025_ac891409315bc379e3b1abdb162c1a011}{QCPAxis::setTicks}(\textcolor{keywordtype}{bool} show)
03967 \{
03968   \hyperlink{a00025_ab111e74bba22e06848897c932fc549fe}{mTicks} = show;
03969 \}
03970 
\hypertarget{a00115_source_l03974}{}\hyperlink{a00025_a04ba16e1f6f78d70f938519576ed32c8}{03974} \textcolor{keywordtype}{void} \hyperlink{a00025_a04ba16e1f6f78d70f938519576ed32c8}{QCPAxis::setTickLabels}(\textcolor{keywordtype}{bool} show)
03975 \{
03976   \hyperlink{a00025_a3e4315be072026644e69009557a2fa11}{mTickLabels} = show;
03977 \}
03978 
\hypertarget{a00115_source_l03983}{}\hyperlink{a00025_af302c479af9dbc2e9f0e44e07c0012ee}{03983} \textcolor{keywordtype}{void} \hyperlink{a00025_af302c479af9dbc2e9f0e44e07c0012ee}{QCPAxis::setTickLabelPadding}(\textcolor{keywordtype}{int} padding)
03984 \{
03985   \hyperlink{a00025_ab3f2f5d923c83d952922149d0d1e2eb1}{mTickLabelPadding} = \hyperlink{a00025_abb85015a9467ec176e70698307ec833a}{padding};
03986 \}
03987 
\hypertarget{a00115_source_l03998}{}\hyperlink{a00025_a54f24f5ce8feea25209388a863d7e448}{03998} \textcolor{keywordtype}{void} \hyperlink{a00025_a54f24f5ce8feea25209388a863d7e448}{QCPAxis::setTickLabelType}(LabelType type)
03999 \{
04000   \hyperlink{a00025_a6e056c1cb1aab0eddebfebbcb78c8f90}{mTickLabelType} = type;
04001 \}
04002 
\hypertarget{a00115_source_l04008}{}\hyperlink{a00025_a2b8690c4e8dbc39d9185d2b398ce7a6c}{04008} \textcolor{keywordtype}{void} \hyperlink{a00025_a2b8690c4e8dbc39d9185d2b398ce7a6c}{QCPAxis::setTickLabelFont}(\textcolor{keyword}{const} QFont &font)
04009 \{
04010   \hyperlink{a00025_add79d1e39c4ed65869a1e9cc79043f3f}{mTickLabelFont} = font;
04011 \}
04012 
\hypertarget{a00115_source_l04018}{}\hyperlink{a00025_a395e445c3fe496b935bee7b911ecfd1c}{04018} \textcolor{keywordtype}{void} \hyperlink{a00025_a395e445c3fe496b935bee7b911ecfd1c}{QCPAxis::setTickLabelColor}(\textcolor{keyword}{const} QColor &\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
04019 \{
04020   \hyperlink{a00025_a6384a749b3b56a97df081d8082321ab4}{mTickLabelColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
04021 \}
04022 
\hypertarget{a00115_source_l04028}{}\hyperlink{a00025_a1bddd4413df8a576b7ad4b067fb33375}{04028} \textcolor{keywordtype}{void} \hyperlink{a00025_a1bddd4413df8a576b7ad4b067fb33375}{QCPAxis::setTickLabelRotation}(\textcolor{keywordtype}{double} degrees)
04029 \{
04030   \hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation} = qBound(-90.0, degrees, 90.0);
04031 \}
04032 
\hypertarget{a00115_source_l04038}{}\hyperlink{a00025_a2ee0191daa03524a682113e63e05f7a7}{04038} \textcolor{keywordtype}{void} \hyperlink{a00025_a2ee0191daa03524a682113e63e05f7a7}{QCPAxis::setDateTimeFormat}(\textcolor{keyword}{const} QString &format)
04039 \{
04040   \hyperlink{a00025_a0b7ad83550d71daab4cfee2918e168e0}{mDateTimeFormat} = format;
04041 \}
04042 
\hypertarget{a00115_source_l04079}{}\hyperlink{a00025_ae585a54dc2aac662e90a2ca82f002590}{04079} \textcolor{keywordtype}{void} \hyperlink{a00025_ae585a54dc2aac662e90a2ca82f002590}{QCPAxis::setNumberFormat}(\textcolor{keyword}{const} QString &formatCode)
04080 \{
04081   \textcolor{keywordflow}{if} (formatCode.length() < 1) \textcolor{keywordflow}{return};
04082   
04083   \textcolor{comment}{// interpret first char as number format char:}
04084   QString allowedFormatChars = \textcolor{stringliteral}{"eEfgG"};
04085   \textcolor{keywordflow}{if} (allowedFormatChars.contains(formatCode.at(0)))
04086   \{
04087   \textcolor{comment}{// mNumberFormatChar = formatCode.at(0).toAscii();}
04088     \hyperlink{a00025_a600d56365316ea783927f7d595f1ed54}{mNumberFormatChar} = formatCode.at(0).toLatin1();
04089   \} \textcolor{keywordflow}{else}
04090   \{
04091     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Invalid number format code (first char not in 'eEfgG'):"} << formatCode;
04092     \textcolor{keywordflow}{return};
04093   \}
04094   \textcolor{keywordflow}{if} (formatCode.length() < 2)
04095   \{
04096     \hyperlink{a00025_af03809bee3f3e35fcc38d25b6dd5003b}{mNumberBeautifulPowers} = \textcolor{keyword}{false};
04097     \hyperlink{a00025_aebf0367d8645d2e05b93a0952b7e805b}{mNumberMultiplyCross} = \textcolor{keyword}{false};
04098     \textcolor{keywordflow}{return};
04099   \}
04100   
04101   \textcolor{comment}{// interpret second char as indicator for beautiful decimal powers:}
04102   \textcolor{keywordflow}{if} (formatCode.at(1) == \textcolor{charliteral}{'b'} && (\hyperlink{a00025_a600d56365316ea783927f7d595f1ed54}{mNumberFormatChar} == \textcolor{charliteral}{'e'} || 
      \hyperlink{a00025_a600d56365316ea783927f7d595f1ed54}{mNumberFormatChar} == \textcolor{charliteral}{'g'}))
04103   \{
04104     \hyperlink{a00025_af03809bee3f3e35fcc38d25b6dd5003b}{mNumberBeautifulPowers} = \textcolor{keyword}{true};
04105   \} \textcolor{keywordflow}{else}
04106   \{
04107     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Invalid number format code (second char not 'b' or first char neither 'e'
       nor 'g'):"} << formatCode;
04108     \textcolor{keywordflow}{return};
04109   \}
04110   \textcolor{keywordflow}{if} (formatCode.length() < 3)
04111   \{
04112     \hyperlink{a00025_aebf0367d8645d2e05b93a0952b7e805b}{mNumberMultiplyCross} = \textcolor{keyword}{false};
04113     \textcolor{keywordflow}{return};
04114   \}
04115   
04116   \textcolor{comment}{// interpret third char as indicator for dot or cross multiplication symbol:}
04117   \textcolor{keywordflow}{if} (formatCode.at(2) == \textcolor{charliteral}{'c'})
04118   \{
04119     \hyperlink{a00025_aebf0367d8645d2e05b93a0952b7e805b}{mNumberMultiplyCross} = \textcolor{keyword}{true};
04120   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (formatCode.at(2) == \textcolor{charliteral}{'d'})
04121   \{
04122     \hyperlink{a00025_aebf0367d8645d2e05b93a0952b7e805b}{mNumberMultiplyCross} = \textcolor{keyword}{false};
04123   \} \textcolor{keywordflow}{else}
04124   \{
04125     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Invalid number format code (third char neither 'c' nor 'd'):"} << formatCode
      ;
04126     \textcolor{keywordflow}{return};
04127   \}
04128 \}
04129 
\hypertarget{a00115_source_l04141}{}\hyperlink{a00025_a21dc8023ad7500382ad9574b48137e63}{04141} \textcolor{keywordtype}{void} \hyperlink{a00025_a21dc8023ad7500382ad9574b48137e63}{QCPAxis::setNumberPrecision}(\textcolor{keywordtype}{int} precision)
04142 \{
04143   \hyperlink{a00025_acd76e8c783384d99ccc4a13797eec188}{mNumberPrecision} = precision;
04144 \}
04145 
\hypertarget{a00115_source_l04151}{}\hyperlink{a00025_af727db0acc6492c4c774c0700e738205}{04151} \textcolor{keywordtype}{void} \hyperlink{a00025_af727db0acc6492c4c774c0700e738205}{QCPAxis::setTickStep}(\textcolor{keywordtype}{double} step)
04152 \{
04153   \hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep} = step;
04154 \}
04155 
\hypertarget{a00115_source_l04168}{}\hyperlink{a00025_a871db94c5d796c80fcbe1a9d4506e27e}{04168} \textcolor{keywordtype}{void} \hyperlink{a00025_a871db94c5d796c80fcbe1a9d4506e27e}{QCPAxis::setTickVector}(\textcolor{keyword}{const} QVector<double> &vec)
04169 \{
04170   \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector} = vec;
04171 \}
04172 
\hypertarget{a00115_source_l04183}{}\hyperlink{a00025_a921d3ba3853ca3bd2cce3459f7a243ed}{04183} \textcolor{keywordtype}{void} \hyperlink{a00025_a921d3ba3853ca3bd2cce3459f7a243ed}{QCPAxis::setTickVectorLabels}(\textcolor{keyword}{const} QVector<QString> &vec)
04184 \{
04185   \hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels} = vec;
04186 \}
04187 
\hypertarget{a00115_source_l04195}{}\hyperlink{a00025_a62ec40bebe3540e9c1479a8fd2be3b0d}{04195} \textcolor{keywordtype}{void} \hyperlink{a00025_a62ec40bebe3540e9c1479a8fd2be3b0d}{QCPAxis::setTickLength}(\textcolor{keywordtype}{int} inside, \textcolor{keywordtype}{int} outside)
04196 \{
04197   \hyperlink{a00025_aea36f29c70d611b4486ebb3a8897c7cd}{mTickLengthIn} = inside;
04198   \hyperlink{a00025_a2951f26d8a504d330157e05063513809}{mTickLengthOut} = outside;
04199 \}
04200 
\hypertarget{a00115_source_l04210}{}\hyperlink{a00025_a4b1554ead9d7f9799650d51383e326dd}{04210} \textcolor{keywordtype}{void} \hyperlink{a00025_a4b1554ead9d7f9799650d51383e326dd}{QCPAxis::setSubTickCount}(\textcolor{keywordtype}{int} count)
04211 \{
04212   \hyperlink{a00025_ad70198e6ae2801fc409bc3caec707da9}{mSubTickCount} = count;
04213 \}
04214 
\hypertarget{a00115_source_l04222}{}\hyperlink{a00025_ab702d6fd42fc620607435339a1c2a2e1}{04222} \textcolor{keywordtype}{void} \hyperlink{a00025_ab702d6fd42fc620607435339a1c2a2e1}{QCPAxis::setSubTickLength}(\textcolor{keywordtype}{int} inside, \textcolor{keywordtype}{int} outside)
04223 \{
04224   \hyperlink{a00025_a6c1400cfa6fb129a6686797fb5ca0307}{mSubTickLengthIn} = inside;
04225   \hyperlink{a00025_ae0342609ad543c2667673d75b43d9dbb}{mSubTickLengthOut} = outside;
04226 \}
04227 
\hypertarget{a00115_source_l04233}{}\hyperlink{a00025_a778d45fb71b3c7ab3bb7079e18b058e4}{04233} \textcolor{keywordtype}{void} \hyperlink{a00025_a778d45fb71b3c7ab3bb7079e18b058e4}{QCPAxis::setBasePen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04234 \{
04235   \hyperlink{a00025_ad6b4a0aee9558fb35529e960b8fef72d}{mBasePen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
04236 \}
04237 
\hypertarget{a00115_source_l04242}{}\hyperlink{a00025_a70ca642125280be510dc3c2745560591}{04242} \textcolor{keywordtype}{void} \hyperlink{a00025_a70ca642125280be510dc3c2745560591}{QCPAxis::setGridPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04243 \{
04244   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setPen(pen);
04245 \}
04246 
\hypertarget{a00115_source_l04252}{}\hyperlink{a00025_ad773fa7071b129ef6fa50431ce47816e}{04252} \textcolor{keywordtype}{void} \hyperlink{a00025_ad773fa7071b129ef6fa50431ce47816e}{QCPAxis::setSubGridPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04253 \{
04254   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setSubGridPen(pen);
04255 \}
04256 
\hypertarget{a00115_source_l04264}{}\hyperlink{a00025_a533e5aa7fb4981ebc3db761d1e0e38d1}{04264} \textcolor{keywordtype}{void} \hyperlink{a00025_a533e5aa7fb4981ebc3db761d1e0e38d1}{QCPAxis::setZeroLinePen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04265 \{
04266   \hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setZeroLinePen(pen);
04267 \}
04268 
\hypertarget{a00115_source_l04273}{}\hyperlink{a00025_ad80923bcc1c5da4c4db602c5325e797e}{04273} \textcolor{keywordtype}{void} \hyperlink{a00025_ad80923bcc1c5da4c4db602c5325e797e}{QCPAxis::setTickPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04274 \{
04275   \hyperlink{a00025_a1d52c78c856d8bd1f331d4ec4e63d944}{mTickPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
04276 \}
04277 
\hypertarget{a00115_source_l04282}{}\hyperlink{a00025_aede4028ae7516bd51a60618a8233f9cf}{04282} \textcolor{keywordtype}{void} \hyperlink{a00025_aede4028ae7516bd51a60618a8233f9cf}{QCPAxis::setSubTickPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04283 \{
04284   \hyperlink{a00025_a32ef56d3a417866720eb12667d27dbd1}{mSubTickPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
04285 \}
04286 
\hypertarget{a00115_source_l04292}{}\hyperlink{a00025_a71ac1a47f7547e490a8c4311d1433cf3}{04292} \textcolor{keywordtype}{void} \hyperlink{a00025_a71ac1a47f7547e490a8c4311d1433cf3}{QCPAxis::setLabelFont}(\textcolor{keyword}{const} QFont &font)
04293 \{
04294   \hyperlink{a00025_a37442d470e30e19b81ecaf979a34d046}{mLabelFont} = font;
04295 \}
04296 
\hypertarget{a00115_source_l04302}{}\hyperlink{a00025_a6c906fe56d75f0122335b9f79b999608}{04302} \textcolor{keywordtype}{void} \hyperlink{a00025_a6c906fe56d75f0122335b9f79b999608}{QCPAxis::setLabelColor}(\textcolor{keyword}{const} QColor &\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
04303 \{
04304   \hyperlink{a00025_a457a003bb1c2b6ab73e5a173ba7558fd}{mLabelColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
04305 \}
04306 
\hypertarget{a00115_source_l04310}{}\hyperlink{a00025_a33bcc382c111c9f31bb0687352a2dea4}{04310} \textcolor{keywordtype}{void} \hyperlink{a00025_a33bcc382c111c9f31bb0687352a2dea4}{QCPAxis::setLabel}(\textcolor{keyword}{const} QString &str)
04311 \{
04312   \hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel} = str;
04313 \}
04314 
\hypertarget{a00115_source_l04319}{}\hyperlink{a00025_a4391192a766e5d20cfe5cbc17607a7a2}{04319} \textcolor{keywordtype}{void} \hyperlink{a00025_a4391192a766e5d20cfe5cbc17607a7a2}{QCPAxis::setLabelPadding}(\textcolor{keywordtype}{int} padding)
04320 \{
04321   \hyperlink{a00025_ae392a7c1a88a58765a7ed899642d248a}{mLabelPadding} = \hyperlink{a00025_abb85015a9467ec176e70698307ec833a}{padding};
04322 \}
04323 
\hypertarget{a00115_source_l04337}{}\hyperlink{a00025_a5691441cb3de9e9844855d339c0db279}{04337} \textcolor{keywordtype}{void} \hyperlink{a00025_a5691441cb3de9e9844855d339c0db279}{QCPAxis::setPadding}(\textcolor{keywordtype}{int} padding)
04338 \{
04339   \hyperlink{a00025_a52a805a4f03231210e0880db7f77e098}{mPadding} = \hyperlink{a00025_abb85015a9467ec176e70698307ec833a}{padding};
04340 \}
04341 
\hypertarget{a00115_source_l04347}{}\hyperlink{a00025_a845ccb560b7bc5281098a5be494145f6}{04347} \textcolor{keywordtype}{void} \hyperlink{a00025_a845ccb560b7bc5281098a5be494145f6}{QCPAxis::setSelectedTickLabelFont}(\textcolor{keyword}{const} QFont &font)
04348 \{
04349   \hyperlink{a00025_a4f2e4919da9615dac612662c249b1119}{mSelectedTickLabelFont} = font;
04350 \}
04351 
\hypertarget{a00115_source_l04357}{}\hyperlink{a00025_a02ec2a75d4d8401eaab834fbc6803d30}{04357} \textcolor{keywordtype}{void} \hyperlink{a00025_a02ec2a75d4d8401eaab834fbc6803d30}{QCPAxis::setSelectedLabelFont}(\textcolor{keyword}{const} QFont &font)
04358 \{
04359   \hyperlink{a00025_ae48fe3489afadc0b3cd003233e2bf19f}{mSelectedLabelFont} = font;
04360 \}
04361 
\hypertarget{a00115_source_l04367}{}\hyperlink{a00025_a9bdbf5e63ab15187f3a1de9440129227}{04367} \textcolor{keywordtype}{void} \hyperlink{a00025_a9bdbf5e63ab15187f3a1de9440129227}{QCPAxis::setSelectedTickLabelColor}(\textcolor{keyword}{const} QColor &
      \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
04368 \{
04369   \hyperlink{a00025_a3bcad40902f45dc4c991a2c3e4d31d70}{mSelectedTickLabelColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
04370 \}
04371 
\hypertarget{a00115_source_l04377}{}\hyperlink{a00025_a5d502dec597c634f491fdd73d151c72d}{04377} \textcolor{keywordtype}{void} \hyperlink{a00025_a5d502dec597c634f491fdd73d151c72d}{QCPAxis::setSelectedLabelColor}(\textcolor{keyword}{const} QColor &
      \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
04378 \{
04379   \hyperlink{a00025_a94f57de3ba024471ca206d83cf2258dd}{mSelectedLabelColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
04380 \}
04381 
\hypertarget{a00115_source_l04387}{}\hyperlink{a00025_aeb917a909215605b95ef2be843de1ee8}{04387} \textcolor{keywordtype}{void} \hyperlink{a00025_aeb917a909215605b95ef2be843de1ee8}{QCPAxis::setSelectedBasePen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04388 \{
04389   \hyperlink{a00025_a80baa4e3c16f9b6edf3eccacd2a50fde}{mSelectedBasePen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
04390 \}
04391 
\hypertarget{a00115_source_l04397}{}\hyperlink{a00025_a8360502685eb782edbf04019c9345cdc}{04397} \textcolor{keywordtype}{void} \hyperlink{a00025_a8360502685eb782edbf04019c9345cdc}{QCPAxis::setSelectedTickPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04398 \{
04399   \hyperlink{a00025_a9524593dbc75a5c5b29dbd1cb4b37df5}{mSelectedTickPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
04400 \}
04401 
\hypertarget{a00115_source_l04407}{}\hyperlink{a00025_a2a00a7166600155eac26843132eb9576}{04407} \textcolor{keywordtype}{void} \hyperlink{a00025_a2a00a7166600155eac26843132eb9576}{QCPAxis::setSelectedSubTickPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
04408 \{
04409   \hyperlink{a00025_aa5cc6afc5dc2a365f5abbd36eb04a1dc}{mSelectedSubTickPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
04410 \}
04411 
\hypertarget{a00115_source_l04419}{}\hyperlink{a00025_a18f3a68f2b691af1fd34b6593c886630}{04419} \textcolor{keywordtype}{void} \hyperlink{a00025_a18f3a68f2b691af1fd34b6593c886630}{QCPAxis::moveRange}(\textcolor{keywordtype}{double} diff)
04420 \{
04421   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLinear)
04422   \{
04423     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} += diff;
04424     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} += diff;
04425   \} \textcolor{keywordflow}{else} \textcolor{comment}{// mScaleType == stLogarithmic}
04426   \{
04427     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} *= diff;
04428     \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} *= diff;
04429   \}
04430   emit \hyperlink{a00025_a0894084e4c16a1736534c4095746f910}{rangeChanged}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange});
04431 \}
04432 
\hypertarget{a00115_source_l04439}{}\hyperlink{a00025_a7072ff96fe690148f1bbcdb4f773ea1c}{04439} \textcolor{keywordtype}{void} \hyperlink{a00025_a7072ff96fe690148f1bbcdb4f773ea1c}{QCPAxis::scaleRange}(\textcolor{keywordtype}{double} factor, \textcolor{keywordtype}{double} center)
04440 \{
04441   
04442   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLinear)
04443   \{
04444     \hyperlink{a00049}{QCPRange} newRange;
04445     newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = (\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}-center)*factor + center;
04446     newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = (\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}-center)*factor + center;
04447     \textcolor{keywordflow}{if} (\hyperlink{a00049_ab38bd4841c77c7bb86c9eea0f142dcc0}{QCPRange::validRange}(newRange))
04448       \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = newRange.\hyperlink{a00049_a1ff029704c29a75adbc1dc36cecaf44c}{sanitizedForLinScale}();
04449   \} \textcolor{keywordflow}{else} \textcolor{comment}{// mScaleType == stLogarithmic}
04450   \{
04451     \textcolor{keywordflow}{if} ((\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 && center < 0) || (\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0 && center > 0)) \textcolor{comment}{// make
       sure center has same sign as range}
04452     \{
04453       \hyperlink{a00049}{QCPRange} newRange;
04454       newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = pow(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}/center, factor)*center;
04455       newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = pow(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/center, factor)*center;
04456       \textcolor{keywordflow}{if} (\hyperlink{a00049_ab38bd4841c77c7bb86c9eea0f142dcc0}{QCPRange::validRange}(newRange))
04457         \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange} = newRange.\hyperlink{a00049_aaf6a9046e78d91eeb8e89584fe46b034}{sanitizedForLogScale}();
04458     \} \textcolor{keywordflow}{else}
04459       qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"center of scaling operation doesn't lie in same logarithmic sign domain
       as range:"} << center;
04460   \}
04461   emit \hyperlink{a00025_a0894084e4c16a1736534c4095746f910}{rangeChanged}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange});
04462 \}
04463 
\hypertarget{a00115_source_l04472}{}\hyperlink{a00025_af4bbd446dcaee5a83ac30ce9bcd6e125}{04472} \textcolor{keywordtype}{void} \hyperlink{a00025_af4bbd446dcaee5a83ac30ce9bcd6e125}{QCPAxis::setScaleRatio}(\textcolor{keyword}{const} \hyperlink{a00025}{QCPAxis} *otherAxis, \textcolor{keywordtype}{double} ratio)
04473 \{
04474   \textcolor{keywordtype}{int} otherPixelSize, ownPixelSize;
04475   
04476   \textcolor{keywordflow}{if} (otherAxis->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
04477     otherPixelSize = otherAxis->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width();
04478   \textcolor{keywordflow}{else}
04479     otherPixelSize = otherAxis->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height();
04480   
04481   \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
04482     ownPixelSize = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width();
04483   \textcolor{keywordflow}{else}
04484     ownPixelSize = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height();
04485   
04486   \textcolor{keywordtype}{double} newRangeSize = ratio*otherAxis->\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()*ownPixelSize/(double)otherPixelSize;
04487   \hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().center(), newRangeSize, Qt::AlignCenter);
04488 \}
04489 
\hypertarget{a00115_source_l04493}{}\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{04493} \textcolor{keywordtype}{double} \hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{QCPAxis::pixelToCoord}(\textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
04494 \textcolor{keyword}{}\{
04495   \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
04496   \{
04497     \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLinear)
04498     \{
04499       \textcolor{keywordflow}{if} (!\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed})
04500         \textcolor{keywordflow}{return} (value-\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left())/(\textcolor{keywordtype}{double})\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width()*
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()+\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
04501       \textcolor{keywordflow}{else}
04502         \textcolor{keywordflow}{return} -(value-\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left())/(\textcolor{keywordtype}{double})\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width()*
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()+\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
04503     \} \textcolor{keywordflow}{else} \textcolor{comment}{// mScaleType == stLogarithmic}
04504     \{
04505       \textcolor{keywordflow}{if} (!\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed})
04506         \textcolor{keywordflow}{return} pow(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}, (value-
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left())/(\textcolor{keywordtype}{double})\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width())*\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.
      \hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
04507       \textcolor{keywordflow}{else}
04508         \textcolor{keywordflow}{return} pow(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}, (\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})/(\textcolor{keywordtype}{double})\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width())*\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
04509     \}
04510   \} \textcolor{keywordflow}{else} \textcolor{comment}{// orientation() == Qt::Vertical}
04511   \{
04512     \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLinear)
04513     \{
04514       \textcolor{keywordflow}{if} (!\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed})
04515         \textcolor{keywordflow}{return} (\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()-\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})/(\textcolor{keywordtype}{double})\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height()*
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()+\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
04516       \textcolor{keywordflow}{else}
04517         \textcolor{keywordflow}{return} -(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()-\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})/(\textcolor{keywordtype}{double})\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height()*
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()+\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
04518     \} \textcolor{keywordflow}{else} \textcolor{comment}{// mScaleType == stLogarithmic}
04519     \{
04520       \textcolor{keywordflow}{if} (!\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed})
04521         \textcolor{keywordflow}{return} pow(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}, (\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()-
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})/(\textcolor{keywordtype}{double})\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height())*\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
04522       \textcolor{keywordflow}{else}
04523         \textcolor{keywordflow}{return} pow(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}, (value-
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom())/(\textcolor{keywordtype}{double})\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height())*\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.
      \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
04524     \}
04525   \}
04526 \}
04527 
\hypertarget{a00115_source_l04531}{}\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{04531} \textcolor{keywordtype}{double} \hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{QCPAxis::coordToPixel}(\textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
04532 \textcolor{keyword}{}\{
04533   \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
04534   \{
04535     \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLinear)
04536     \{
04537       \textcolor{keywordflow}{if} (!\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed})
04538         \textcolor{keywordflow}{return} (value-\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()*\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width()+
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left();
04539       \textcolor{keywordflow}{else}
04540         \textcolor{keywordflow}{return} (\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}-value)/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()*\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width()+
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left();
04541     \} \textcolor{keywordflow}{else} \textcolor{comment}{// mScaleType == stLogarithmic}
04542     \{
04543       \textcolor{keywordflow}{if} (value >= 0 && \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0) \textcolor{comment}{// invalid value for logarithmic scale, just draw it
       outside visible range}
04544         \textcolor{keywordflow}{return} !\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed} ? \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+200 : 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-200;
04545       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (value <= 0 && mRange.upper > 0) \textcolor{comment}{// invalid value for logarithmic scale, just draw it outside
       visible range}
04546         \textcolor{keywordflow}{return} !\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed} ? \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-200 : 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+200;
04547       \textcolor{keywordflow}{else}
04548       \{
04549         \textcolor{keywordflow}{if} (!\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed})
04550           \textcolor{keywordflow}{return} \hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(value/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})/\hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})*\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width()+
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left();
04551         \textcolor{keywordflow}{else}
04552           \textcolor{keywordflow}{return} \hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/value)/\hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})*\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width()+
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left();
04553       \}
04554     \}
04555   \} \textcolor{keywordflow}{else} \textcolor{comment}{// orientation() == Qt::Vertical}
04556   \{
04557     \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLinear)
04558     \{
04559       \textcolor{keywordflow}{if} (!\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed})
04560         \textcolor{keywordflow}{return} \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()-(value-\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})/
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()*\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height();
04561       \textcolor{keywordflow}{else}
04562         \textcolor{keywordflow}{return} \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()-(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}-\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})/
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()*\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height();
04563     \} \textcolor{keywordflow}{else} \textcolor{comment}{// mScaleType == stLogarithmic}
04564     \{     
04565       \textcolor{keywordflow}{if} (value >= 0 && \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0) \textcolor{comment}{// invalid value for logarithmic scale, just draw it
       outside visible range}
04566         \textcolor{keywordflow}{return} !\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed} ? \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-200 : 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+200;
04567       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (value <= 0 && mRange.upper > 0) \textcolor{comment}{// invalid value for logarithmic scale, just draw it outside
       visible range}
04568         \textcolor{keywordflow}{return} !\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed} ? \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+200 : 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-200;
04569       \textcolor{keywordflow}{else}
04570       \{
04571         \textcolor{keywordflow}{if} (!\hyperlink{a00025_a5cb034f57aa3d773a9ca55a0931dbf7b}{mRangeReversed})
04572           \textcolor{keywordflow}{return} \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()-\hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(value/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.
      \hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})/\hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})*
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height();
04573         \textcolor{keywordflow}{else}
04574           \textcolor{keywordflow}{return} \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()-\hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/value)/
      \hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})*\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height();
04575       \}
04576     \}
04577   \}
04578 \}
04579 
\hypertarget{a00115_source_l04589}{}\hyperlink{a00025_a940be5ef61f4fa0dc21e4f4c7a5875c2}{04589} QCPAxis::SelectablePart \hyperlink{a00025_a940be5ef61f4fa0dc21e4f4c7a5875c2}{QCPAxis::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
04590 \textcolor{keyword}{}\{
04591   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
04592     \textcolor{keywordflow}{return} spNone;
04593   
04594   \textcolor{keywordflow}{if} (\hyperlink{a00025_a6185814615059cacf09fdb74a3e539d7}{mAxisSelectionBox}.contains(pos.toPoint()))
04595     \textcolor{keywordflow}{return} spAxis;
04596   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_acca7a38191c1f4df06b9416d43172214}{mTickLabelsSelectionBox}.contains(pos.toPoint()))
04597     \textcolor{keywordflow}{return} spTickLabels;
04598   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_a14fbf65daf2c38cbb0f2c4278a7929dd}{mLabelSelectionBox}.contains(pos.toPoint()))
04599     \textcolor{keywordflow}{return} spAxisLabel;
04600   \textcolor{keywordflow}{else}
04601     \textcolor{keywordflow}{return} spNone;
04602 \}
04603 
\hypertarget{a00115_source_l04612}{}\hyperlink{a00025_a57d9e961bae7d62f5b4e1f143e660c78}{04612} \textcolor{keywordtype}{void} \hyperlink{a00025_a57d9e961bae7d62f5b4e1f143e660c78}{QCPAxis::setupTickVectors}()
04613 \{
04614   \textcolor{keywordflow}{if} ((!\hyperlink{a00025_ab111e74bba22e06848897c932fc549fe}{mTicks} && !\hyperlink{a00025_a3e4315be072026644e69009557a2fa11}{mTickLabels} && !\hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->visible()) || 
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}() <= 0) \textcolor{keywordflow}{return};
04615   
04616   \textcolor{comment}{// fill tick vectors, either by auto generating or by notifying user to fill the vectors himself}
04617   \textcolor{keywordflow}{if} (\hyperlink{a00025_aac23adcbae246bf165d4539ad65ac9f9}{mAutoTicks})
04618   \{
04619     \hyperlink{a00025_a626eef437c874148df1a5ac78506d463}{generateAutoTicks}();
04620   \} \textcolor{keywordflow}{else}
04621   \{
04622     emit \hyperlink{a00025_af46d99613d29518795134ec4928e3873}{ticksRequest}();
04623   \}
04624   
04625   \hyperlink{a00025_a06320a944d1120732cc0d72fe1306d8b}{visibleTickBounds}(\hyperlink{a00025_aebb24ba8734b7e054efc6e1ecc5414c7}{mLowestVisibleTick}, 
      \hyperlink{a00025_abb3b3ccce7e9779fef2be91ce1a46ef0}{mHighestVisibleTick});
04626   \textcolor{keywordflow}{if} (\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.isEmpty())
04627   \{
04628     \hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.clear();
04629     \textcolor{keywordflow}{return};
04630   \}
04631   
04632   \textcolor{comment}{// generate subticks between ticks:}
04633   \hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.resize((\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.size()-1)*
      \hyperlink{a00025_ad70198e6ae2801fc409bc3caec707da9}{mSubTickCount});
04634   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad70198e6ae2801fc409bc3caec707da9}{mSubTickCount} > 0)
04635   \{
04636     \textcolor{keywordtype}{double} subTickStep = 0;
04637     \textcolor{keywordtype}{double} subTickPosition = 0;
04638     \textcolor{keywordtype}{int} subTickIndex = 0;
04639     \textcolor{keywordtype}{bool} done = \textcolor{keyword}{false};
04640     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1; i<\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.size(); ++i)
04641     \{
04642       subTickStep = (\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)-\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i-1))/(\textcolor{keywordtype}{double})(
      \hyperlink{a00025_ad70198e6ae2801fc409bc3caec707da9}{mSubTickCount}+1);
04643       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=1; k<=\hyperlink{a00025_ad70198e6ae2801fc409bc3caec707da9}{mSubTickCount}; ++k)
04644       \{
04645         subTickPosition = \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i-1) + k*subTickStep;
04646         \textcolor{keywordflow}{if} (subTickPosition < \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})
04647           \textcolor{keywordflow}{continue};
04648         \textcolor{keywordflow}{if} (subTickPosition > \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
04649         \{
04650           done = \textcolor{keyword}{true};
04651           \textcolor{keywordflow}{break};
04652         \}
04653         \hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}[subTickIndex] = subTickPosition;
04654         subTickIndex++;
04655       \}
04656       \textcolor{keywordflow}{if} (done) \textcolor{keywordflow}{break};
04657     \}
04658     \hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.resize(subTickIndex);
04659   \}
04660 
04661   \textcolor{comment}{// generate tick labels according to tick positions:}
04662   \hyperlink{a00025_a0ec9dbb79704be01f780d34c6f57a08e}{mExponentialChar} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->locale().exponential();   \textcolor{comment}{// will be needed
       when drawing the numbers generated here, in drawTickLabel()}
04663   \hyperlink{a00025_ae99d47103ec8ba66959205b23991241b}{mPositiveSignChar} = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->locale().positiveSign(); \textcolor{comment}{// will be needed
       when drawing the numbers generated here, in drawTickLabel()}
04664   \textcolor{keywordflow}{if} (\hyperlink{a00025_a721e496b342f272078c5ff84564e472f}{mAutoTickLabels})
04665   \{
04666     \textcolor{keywordtype}{int} vecsize = \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.size();
04667     \hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels}.resize(vecsize);
04668     \textcolor{keywordflow}{if} (\hyperlink{a00025_a6e056c1cb1aab0eddebfebbcb78c8f90}{mTickLabelType} == ltNumber)
04669     \{
04670       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<vecsize; ++i)
04671         \hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels}[i] = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->locale().toString(
      \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i), \hyperlink{a00025_a600d56365316ea783927f7d595f1ed54}{mNumberFormatChar}, 
      \hyperlink{a00025_acd76e8c783384d99ccc4a13797eec188}{mNumberPrecision});
04672     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_a6e056c1cb1aab0eddebfebbcb78c8f90}{mTickLabelType} == ltDateTime)
04673     \{
04674       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<vecsize; ++i)
04675       \{
04676 \textcolor{preprocessor}{#if QT\_VERSION < QT\_VERSION\_CHECK(4, 7, 0) // use fromMSecsSinceEpoch function if available, to gain
       sub-second accuracy on tick labels (e.g. for format "hh:mm:ss:zzz")}
04677         \hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels}[i] = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->locale().toString(
      QDateTime::fromTime\_t(\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)), \hyperlink{a00025_a0b7ad83550d71daab4cfee2918e168e0}{mDateTimeFormat});
04678 \textcolor{preprocessor}{#else}
04679         \hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels}[i] = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->locale().toString(
      QDateTime::fromMSecsSinceEpoch(\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)*1000), \hyperlink{a00025_a0b7ad83550d71daab4cfee2918e168e0}{mDateTimeFormat});
04680 \textcolor{preprocessor}{#endif}
04681       \}
04682     \}
04683   \} \textcolor{keywordflow}{else} \textcolor{comment}{// mAutoTickLabels == false}
04684   \{
04685     \textcolor{keywordflow}{if} (\hyperlink{a00025_aac23adcbae246bf165d4539ad65ac9f9}{mAutoTicks}) \textcolor{comment}{// ticks generated automatically, but not ticklabels, so emit ticksRequest
       here for labels}
04686     \{
04687       emit \hyperlink{a00025_af46d99613d29518795134ec4928e3873}{ticksRequest}();
04688     \}
04689     \textcolor{comment}{// make sure provided tick label vector has correct (minimal) length:}
04690     \textcolor{keywordflow}{if} (\hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels}.size() < \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.size())
04691       \hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels}.resize(\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.size());
04692   \}
04693 \}
04694 
\hypertarget{a00115_source_l04704}{}\hyperlink{a00025_a626eef437c874148df1a5ac78506d463}{04704} \textcolor{keywordtype}{void} \hyperlink{a00025_a626eef437c874148df1a5ac78506d463}{QCPAxis::generateAutoTicks}()
04705 \{
04706   \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLinear)
04707   \{
04708     \textcolor{keywordflow}{if} (\hyperlink{a00025_aada8934a5c44978653031782aa37d101}{mAutoTickStep})
04709     \{
04710       \textcolor{comment}{// Generate tick positions according to linear scaling:}
04711       \hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep} = \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()/(double)(\hyperlink{a00025_a499fbb67111e4b204738f6c1aa28d842}{mAutoTickCount}+1e-10); \textcolor{comment}{//
       mAutoTickCount ticks on average, the small addition is to prevent jitter on exact integers}
04712       \textcolor{keywordtype}{double} magnitudeFactor = qPow(10.0, qFloor(qLn(\hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep})/qLn(10.0))); \textcolor{comment}{// get magnitude
       factor e.g. 0.01, 1, 10, 1000 etc.}
04713       \textcolor{keywordtype}{double} tickStepMantissa = \hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep}/magnitudeFactor;
04714       \textcolor{keywordflow}{if} (tickStepMantissa < 5)
04715       \{
04716         \textcolor{comment}{// round digit after decimal point to 0.5}
04717         \hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep} = (int)(tickStepMantissa*2)/2.0*magnitudeFactor;
04718       \} \textcolor{keywordflow}{else}
04719       \{
04720         \textcolor{comment}{// round to first digit in multiples of 2}
04721         \hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep} = (int)((tickStepMantissa/10.0)*5)/5.0*10*magnitudeFactor;
04722       \}
04723     \}
04724     \textcolor{keywordflow}{if} (\hyperlink{a00025_aaae980b0d193d959674e314dbb6c2c3b}{mAutoSubTicks})
04725       \hyperlink{a00025_ad70198e6ae2801fc409bc3caec707da9}{mSubTickCount} = \hyperlink{a00025_a3c5c045019fcdc0843a3e064eda7478a}{calculateAutoSubTickCount}(
      \hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep});
04726     \textcolor{comment}{// Generate tick positions according to mTickStep:}
04727     \textcolor{keywordtype}{int} firstStep = floor(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}/\hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep});
04728     \textcolor{keywordtype}{int} lastStep = ceil(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}/\hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep});
04729     \textcolor{keywordtype}{int} tickcount = lastStep-firstStep+1;
04730     \textcolor{keywordflow}{if} (tickcount < 0) tickcount = 0;
04731     \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.resize(tickcount);
04732     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<tickcount; ++i)
04733     \{
04734       \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}[i] = (firstStep+i)*\hyperlink{a00025_a4fe96830fc5a2711e20fe5edccfe2ed3}{mTickStep};
04735     \}
04736   \} \textcolor{keywordflow}{else} \textcolor{comment}{// mScaleType == stLogarithmic}
04737   \{
04738     \textcolor{comment}{// Generate tick positions according to logbase scaling:}
04739     \textcolor{keywordflow}{if} (\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} > 0 && \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0) \textcolor{comment}{// positive range}
04740     \{
04741       \textcolor{keywordtype}{double} lowerMag = \hyperlink{a00025_a97d69f021a05126fcb978d0aefea47b8}{basePow}((\textcolor{keywordtype}{int})floor(\hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.
      \hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})));
04742       \textcolor{keywordtype}{double} currentMag = lowerMag;
04743       \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.clear();
04744       \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.append(currentMag);
04745       \textcolor{keywordflow}{while} (currentMag < mRange.upper && currentMag > 0) \textcolor{comment}{// currentMag might be zero for ranges ~1e-300,
       just cancel in that case}
04746       \{
04747         currentMag *= \hyperlink{a00025_abc727ddb4af745151755d1b5e60d03c3}{mScaleLogBase};
04748         \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.append(currentMag);
04749       \}
04750     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < 0 && \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0) \textcolor{comment}{// negative range}
04751     \{
04752       \textcolor{keywordtype}{double} lowerMag = -\hyperlink{a00025_a97d69f021a05126fcb978d0aefea47b8}{basePow}((\textcolor{keywordtype}{int})ceil(\hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{baseLog}(-\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.
      \hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})));
04753       \textcolor{keywordtype}{double} currentMag = lowerMag;
04754       \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.clear();
04755       \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.append(currentMag);
04756       \textcolor{keywordflow}{while} (currentMag < \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} && currentMag < 0) \textcolor{comment}{// currentMag might be zero for ranges
       ~1e-300, just cancel in that case}
04757       \{
04758         currentMag /= \hyperlink{a00025_abc727ddb4af745151755d1b5e60d03c3}{mScaleLogBase};
04759         \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.append(currentMag);
04760       \}
04761     \} \textcolor{keywordflow}{else} \textcolor{comment}{// invalid range for logarithmic scale, because lower and upper have different sign}
04762     \{
04763       \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.clear();
04764       qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Invalid range for logarithmic plot: "} << 
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} << \textcolor{stringliteral}{"-"} << \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
04765     \}
04766   \}
04767 \}
04768 
\hypertarget{a00115_source_l04782}{}\hyperlink{a00025_a3c5c045019fcdc0843a3e064eda7478a}{04782} \textcolor{keywordtype}{int} \hyperlink{a00025_a3c5c045019fcdc0843a3e064eda7478a}{QCPAxis::calculateAutoSubTickCount}(\textcolor{keywordtype}{double} tickStep)\textcolor{keyword}{ const}
04783 \textcolor{keyword}{}\{
04784   \textcolor{keywordtype}{int} result = \hyperlink{a00025_ad70198e6ae2801fc409bc3caec707da9}{mSubTickCount}; \textcolor{comment}{// default to current setting, if no proper value can be found}
04785   
04786   \textcolor{comment}{// get mantissa of tickstep:}
04787   \textcolor{keywordtype}{double} magnitudeFactor = qPow(10.0, qFloor(qLn(tickStep)/qLn(10.0))); \textcolor{comment}{// get magnitude factor e.g. 0.01,
       1, 10, 1000 etc.}
04788   \textcolor{keywordtype}{double} tickStepMantissa = tickStep/magnitudeFactor;
04789   
04790   \textcolor{comment}{// separate integer and fractional part of mantissa:}
04791   \textcolor{keywordtype}{double} epsilon = 0.01;
04792   \textcolor{keywordtype}{double} intPartf;
04793   \textcolor{keywordtype}{int} intPart;
04794   \textcolor{keywordtype}{double} fracPart = modf(tickStepMantissa, &intPartf);
04795   intPart = intPartf;
04796   
04797   \textcolor{comment}{// handle cases with (almost) integer mantissa:}
04798   \textcolor{keywordflow}{if} (fracPart < epsilon || 1.0-fracPart < epsilon)
04799   \{
04800     \textcolor{keywordflow}{if} (1.0-fracPart < epsilon)
04801       intPart++;
04802     \textcolor{keywordflow}{switch} (intPart)
04803     \{
04804       \textcolor{keywordflow}{case} 1: result = 4; \textcolor{keywordflow}{break}; \textcolor{comment}{// 1.0 -> 0.2 substep}
04805       \textcolor{keywordflow}{case} 2: result = 3; \textcolor{keywordflow}{break}; \textcolor{comment}{// 2.0 -> 0.5 substep}
04806       \textcolor{keywordflow}{case} 3: result = 2; \textcolor{keywordflow}{break}; \textcolor{comment}{// 3.0 -> 1.0 substep}
04807       \textcolor{keywordflow}{case} 4: result = 3; \textcolor{keywordflow}{break}; \textcolor{comment}{// 4.0 -> 1.0 substep}
04808       \textcolor{keywordflow}{case} 5: result = 4; \textcolor{keywordflow}{break}; \textcolor{comment}{// 5.0 -> 1.0 substep}
04809       \textcolor{keywordflow}{case} 6: result = 2; \textcolor{keywordflow}{break}; \textcolor{comment}{// 6.0 -> 2.0 substep}
04810       \textcolor{keywordflow}{case} 7: result = 6; \textcolor{keywordflow}{break}; \textcolor{comment}{// 7.0 -> 1.0 substep}
04811       \textcolor{keywordflow}{case} 8: result = 3; \textcolor{keywordflow}{break}; \textcolor{comment}{// 8.0 -> 2.0 substep}
04812       \textcolor{keywordflow}{case} 9: result = 2; \textcolor{keywordflow}{break}; \textcolor{comment}{// 9.0 -> 3.0 substep}
04813     \}
04814   \} \textcolor{keywordflow}{else}
04815   \{
04816     \textcolor{comment}{// handle cases with significantly fractional mantissa:}
04817     \textcolor{keywordflow}{if} (qAbs(fracPart-0.5) < epsilon) \textcolor{comment}{// *.5 mantissa}
04818     \{
04819       \textcolor{keywordflow}{switch} (intPart)
04820       \{
04821         \textcolor{keywordflow}{case} 1: result = 2; \textcolor{keywordflow}{break}; \textcolor{comment}{// 1.5 -> 0.5 substep}
04822         \textcolor{keywordflow}{case} 2: result = 4; \textcolor{keywordflow}{break}; \textcolor{comment}{// 2.5 -> 0.5 substep}
04823         \textcolor{keywordflow}{case} 3: result = 4; \textcolor{keywordflow}{break}; \textcolor{comment}{// 3.5 -> 0.7 substep}
04824         \textcolor{keywordflow}{case} 4: result = 2; \textcolor{keywordflow}{break}; \textcolor{comment}{// 4.5 -> 1.5 substep}
04825         \textcolor{keywordflow}{case} 5: result = 4; \textcolor{keywordflow}{break}; \textcolor{comment}{// 5.5 -> 1.1 substep (won't occur with autoTickStep from here on)}
04826         \textcolor{keywordflow}{case} 6: result = 4; \textcolor{keywordflow}{break}; \textcolor{comment}{// 6.5 -> 1.3 substep}
04827         \textcolor{keywordflow}{case} 7: result = 2; \textcolor{keywordflow}{break}; \textcolor{comment}{// 7.5 -> 2.5 substep}
04828         \textcolor{keywordflow}{case} 8: result = 4; \textcolor{keywordflow}{break}; \textcolor{comment}{// 8.5 -> 1.7 substep}
04829         \textcolor{keywordflow}{case} 9: result = 4; \textcolor{keywordflow}{break}; \textcolor{comment}{// 9.5 -> 1.9 substep}
04830       \}
04831     \}
04832     \textcolor{comment}{// if mantissa fraction isnt 0.0 or 0.5, don't bother finding good sub tick marks, leave default}
04833   \}
04834   
04835   \textcolor{keywordflow}{return} result;
04836 \}
04837 
\hypertarget{a00115_source_l04846}{}\hyperlink{a00025_a258b1e783eda5cd14ec5552c696a424e}{04846} \textcolor{keywordtype}{void} \hyperlink{a00025_a258b1e783eda5cd14ec5552c696a424e}{QCPAxis::draw}(\hyperlink{a00047}{QCPPainter} *painter)
04847 \{
04848   QPoint origin;
04849   \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730}{atLeft})
04850     origin = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottomLeft();
04851   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{atRight})
04852     origin = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottomRight();
04853   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{atTop})
04854     origin = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.topLeft();
04855   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{atBottom})
04856     origin = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottomLeft();
04857   
04858   \textcolor{keywordtype}{double} xCor = 0, yCor = 0; \textcolor{comment}{// paint system correction, for pixel exact matches (affects baselines and
       ticks of top/right axes)}
04859   \textcolor{keywordflow}{switch} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType})
04860   \{
04861     \textcolor{keywordflow}{case} \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{atTop}: yCor = -1; \textcolor{keywordflow}{break};
04862     \textcolor{keywordflow}{case} \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{atRight}: xCor = 1; \textcolor{keywordflow}{break};
04863     \textcolor{keywordflow}{default}: \textcolor{keywordflow}{break};
04864   \}
04865   
04866   \textcolor{keywordtype}{int} margin = 0;
04867   \textcolor{keywordtype}{int} lowTick = \hyperlink{a00025_aebb24ba8734b7e054efc6e1ecc5414c7}{mLowestVisibleTick};
04868   \textcolor{keywordtype}{int} highTick = \hyperlink{a00025_abb3b3ccce7e9779fef2be91ce1a46ef0}{mHighestVisibleTick};
04869   \textcolor{keywordtype}{double} t; \textcolor{comment}{// helper variable, result of coordinate-to-pixel transforms}
04870 
04871   \textcolor{comment}{// draw baseline:}
04872   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00025_a3eb0681d31baf579bb73b86a0153cb02}{getBasePen}());
04873   \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
04874     painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(origin+QPointF(xCor, yCor), origin+QPointF(
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width()+xCor, yCor)));
04875   \textcolor{keywordflow}{else}
04876     painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(origin+QPointF(xCor, yCor), origin+QPointF(xCor, -
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height()+yCor)));
04877   
04878   \textcolor{comment}{// draw ticks:}
04879   \textcolor{keywordflow}{if} (\hyperlink{a00025_ab111e74bba22e06848897c932fc549fe}{mTicks})
04880   \{
04881     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00025_a7f503910be40fb1717e1635be3ef17e1}{getTickPen}());
04882     \textcolor{comment}{// direction of ticks ("inward" is right for left axis and left for right axis)}
04883     \textcolor{keywordtype}{int} tickDir = (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{atBottom} || \hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == 
      \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{atRight}) ? -1 : 1;
04884     \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
04885     \{
04886       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=lowTick; i <= highTick; ++i)
04887       \{
04888         t = \hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)); \textcolor{comment}{// x}
04889         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(t+xCor, origin.y()-\hyperlink{a00025_a2951f26d8a504d330157e05063513809}{mTickLengthOut}*tickDir+yCor, t+
      xCor, origin.y()+\hyperlink{a00025_aea36f29c70d611b4486ebb3a8897c7cd}{mTickLengthIn}*tickDir+yCor));
04890       \}
04891     \} \textcolor{keywordflow}{else}
04892     \{
04893       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=lowTick; i <= highTick; ++i)
04894       \{
04895         t = \hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)); \textcolor{comment}{// y}
04896         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(origin.x()-\hyperlink{a00025_a2951f26d8a504d330157e05063513809}{mTickLengthOut}*tickDir+xCor, t+yCor, 
      origin.x()+\hyperlink{a00025_aea36f29c70d611b4486ebb3a8897c7cd}{mTickLengthIn}*tickDir+xCor, t+yCor));
04897       \}
04898     \}
04899   \}
04900   
04901   \textcolor{comment}{// draw subticks:}
04902   \textcolor{keywordflow}{if} (\hyperlink{a00025_ab111e74bba22e06848897c932fc549fe}{mTicks} && \hyperlink{a00025_ad70198e6ae2801fc409bc3caec707da9}{mSubTickCount} > 0)
04903   \{
04904     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00025_ab4f7e60a40eb051c775afcaeab895c85}{getSubTickPen}());
04905     \textcolor{comment}{// direction of ticks ("inward" is right for left axis and left for right axis)}
04906     \textcolor{keywordtype}{int} tickDir = (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{atBottom} || \hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == 
      \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{atRight}) ? -1 : 1;
04907     \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
04908     \{
04909       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.size(); ++i) \textcolor{comment}{// no need to check bounds because subticks
       are always only created inside current mRange}
04910       \{
04911         t = \hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.at(i));
04912         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(t+xCor, origin.y()-\hyperlink{a00025_ae0342609ad543c2667673d75b43d9dbb}{mSubTickLengthOut}*tickDir+yCor
      , t+xCor, origin.y()+\hyperlink{a00025_a6c1400cfa6fb129a6686797fb5ca0307}{mSubTickLengthIn}*tickDir+yCor));
04913       \}
04914     \} \textcolor{keywordflow}{else}
04915     \{
04916       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.size(); ++i)
04917       \{
04918         t = \hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.at(i));
04919         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(origin.x()-\hyperlink{a00025_ae0342609ad543c2667673d75b43d9dbb}{mSubTickLengthOut}*tickDir+xCor, t+yCor
      , origin.x()+\hyperlink{a00025_a6c1400cfa6fb129a6686797fb5ca0307}{mSubTickLengthIn}*tickDir+xCor, t+yCor));
04920       \}
04921     \}
04922   \}
04923   margin += qMax(0, qMax(\hyperlink{a00025_a2951f26d8a504d330157e05063513809}{mTickLengthOut}, \hyperlink{a00025_ae0342609ad543c2667673d75b43d9dbb}{mSubTickLengthOut}));
04924   
04925   \textcolor{comment}{// tick labels:}
04926   QSize tickLabelsSize(0, 0); \textcolor{comment}{// size of largest tick label, for offset calculation of axis label}
04927   \textcolor{keywordflow}{if} (\hyperlink{a00025_a3e4315be072026644e69009557a2fa11}{mTickLabels})
04928   \{
04929     margin += \hyperlink{a00025_ab3f2f5d923c83d952922149d0d1e2eb1}{mTickLabelPadding};
04930     painter->setFont(\hyperlink{a00025_aef30b66668986523225089a67280ec7a}{getTickLabelFont}());
04931     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(QPen(\hyperlink{a00025_a0f8583f7ac24ccc70d39fdd2389cad6e}{getTickLabelColor}()));
04932     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=lowTick; i <= highTick; ++i)
04933     \{
04934       t = \hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i));
04935       \hyperlink{a00025_a436ea8b8621fa3b897d3ca23b48d990a}{drawTickLabel}(painter, t, margin, \hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels}.at(i), &
      tickLabelsSize);
04936     \}
04937   \}
04938   \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
04939     margin += tickLabelsSize.height();
04940   \textcolor{keywordflow}{else}
04941     margin += tickLabelsSize.width();
04942 
04943   \textcolor{comment}{// axis label:}
04944   QRect labelBounds;
04945   \textcolor{keywordflow}{if} (!\hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel}.isEmpty())
04946   \{
04947     margin += \hyperlink{a00025_ae392a7c1a88a58765a7ed899642d248a}{mLabelPadding};
04948     painter->setFont(\hyperlink{a00025_ab0768eb2879efb202645d19ff789e63e}{getLabelFont}());
04949     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(QPen(\hyperlink{a00025_a42bd69b9e9c571f13624079be18ccdc1}{getLabelColor}()));
04950     labelBounds = painter->fontMetrics().boundingRect(0, 0, 0, 0, Qt::TextDontClip, 
      \hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel});
04951     \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730}{atLeft})
04952     \{
04953       QTransform oldTransform = painter->transform();
04954       painter->translate((origin.x()-margin-labelBounds.height()), origin.y());
04955       painter->rotate(-90);
04956       painter->drawText(0, 0, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height(), labelBounds.height(), Qt::TextDontClip | 
      Qt::AlignCenter, \hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel});
04957       painter->setTransform(oldTransform);
04958     \}
04959     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{atRight})
04960     \{
04961       QTransform oldTransform = painter->transform();
04962       painter->translate((origin.x()+margin+labelBounds.height()), origin.y()-
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height());
04963       painter->rotate(90);
04964       painter->drawText(0, 0, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.height(), labelBounds.height(), Qt::TextDontClip | 
      Qt::AlignCenter, \hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel});
04965       painter->setTransform(oldTransform);
04966     \}
04967     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{atTop})
04968       painter->drawText(origin.x(), origin.y()-margin-labelBounds.height(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width(), labelBounds.height(), Qt::TextDontClip | Qt::AlignCenter, 
      \hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel});
04969     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{atBottom})
04970       painter->drawText(origin.x(), origin.y()+margin, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.width(), labelBounds.height(), 
      Qt::TextDontClip | Qt::AlignCenter, \hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel});
04971   \}
04972   
04973   \textcolor{comment}{// set selection boxes:}
04974   \textcolor{keywordtype}{int} selAxisOutSize = qMax(qMax(\hyperlink{a00025_a2951f26d8a504d330157e05063513809}{mTickLengthOut}, \hyperlink{a00025_ae0342609ad543c2667673d75b43d9dbb}{mSubTickLengthOut}), 
      \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance());
04975   \textcolor{keywordtype}{int} selAxisInSize = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance();
04976   \textcolor{keywordtype}{int} selTickLabelSize = (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}()==Qt::Horizontal ? tickLabelsSize.height() : 
      tickLabelsSize.width());
04977   \textcolor{keywordtype}{int} selTickLabelOffset = qMax(\hyperlink{a00025_a2951f26d8a504d330157e05063513809}{mTickLengthOut}, \hyperlink{a00025_ae0342609ad543c2667673d75b43d9dbb}{mSubTickLengthOut})+
      \hyperlink{a00025_ab3f2f5d923c83d952922149d0d1e2eb1}{mTickLabelPadding};
04978   \textcolor{keywordtype}{int} selLabelSize = labelBounds.height();
04979   \textcolor{keywordtype}{int} selLabelOffset = selTickLabelOffset+selTickLabelSize+\hyperlink{a00025_ae392a7c1a88a58765a7ed899642d248a}{mLabelPadding};
04980   \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730}{atLeft})
04981   \{
04982     \hyperlink{a00025_a6185814615059cacf09fdb74a3e539d7}{mAxisSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-selAxisOutSize, 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top(), \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()+selAxisInSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom());
04983     \hyperlink{a00025_acca7a38191c1f4df06b9416d43172214}{mTickLabelsSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-selTickLabelOffset-
      selTickLabelSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top(), \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-selTickLabelOffset, 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom());
04984     \hyperlink{a00025_a14fbf65daf2c38cbb0f2c4278a7929dd}{mLabelSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-selLabelOffset-selLabelSize, 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top(), \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-selLabelOffset, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom());
04985   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{atRight})
04986   \{
04987     \hyperlink{a00025_a6185814615059cacf09fdb74a3e539d7}{mAxisSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()-selAxisInSize, 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top(), \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+selAxisOutSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom());
04988     \hyperlink{a00025_acca7a38191c1f4df06b9416d43172214}{mTickLabelsSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+selTickLabelOffset+
      selTickLabelSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top(), \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+selTickLabelOffset, 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom());
04989     \hyperlink{a00025_a14fbf65daf2c38cbb0f2c4278a7929dd}{mLabelSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+selLabelOffset+selLabelSize, 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top(), \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+selLabelOffset, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom());
04990   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{atTop})
04991   \{
04992     \hyperlink{a00025_a6185814615059cacf09fdb74a3e539d7}{mAxisSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-selAxisOutSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()+selAxisInSize
      );
04993     \hyperlink{a00025_acca7a38191c1f4df06b9416d43172214}{mTickLabelsSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-selTickLabelOffset-selTickLabelSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-selTickLabelOffset);
04994     \hyperlink{a00025_a14fbf65daf2c38cbb0f2c4278a7929dd}{mLabelSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-selLabelOffset-selLabelSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-selLabelOffset);
04995   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{atBottom})
04996   \{
04997     \hyperlink{a00025_a6185814615059cacf09fdb74a3e539d7}{mAxisSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()-selAxisInSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+
      selAxisOutSize);
04998     \hyperlink{a00025_acca7a38191c1f4df06b9416d43172214}{mTickLabelsSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+selTickLabelOffset+selTickLabelSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+selTickLabelOffset);
04999     \hyperlink{a00025_a14fbf65daf2c38cbb0f2c4278a7929dd}{mLabelSelectionBox}.setCoords(\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+selLabelOffset+selLabelSize, \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), 
      \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+selLabelOffset);
05000   \}
05001   \textcolor{comment}{// draw hitboxes for debug purposes:}
05002   \textcolor{comment}{//painter->drawRects(QVector<QRect>() << mAxisSelectionBox << mTickLabelsSelectionBox <<
       mLabelSelectionBox);}
05003 \}
05004 
\hypertarget{a00115_source_l05026}{}\hyperlink{a00025_a436ea8b8621fa3b897d3ca23b48d990a}{05026} \textcolor{keywordtype}{void} \hyperlink{a00025_a436ea8b8621fa3b897d3ca23b48d990a}{QCPAxis::drawTickLabel}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keywordtype}{double} position, \textcolor{keywordtype}{int} 
      distanceToAxis, \textcolor{keyword}{const} QString &text, QSize *tickLabelsSize)
05027 \{
05028   \textcolor{comment}{// warning: if you change anything here, also adapt getMaxTickLabelSize() accordingly!}
05029   
05030   \textcolor{comment}{// determine whether beautiful decimal powers should be used}
05031   \textcolor{keywordtype}{bool} useBeautifulPowers = \textcolor{keyword}{false};
05032   \textcolor{keywordtype}{int} ePos = -1;
05033   \textcolor{keywordflow}{if} (\hyperlink{a00025_a721e496b342f272078c5ff84564e472f}{mAutoTickLabels} && \hyperlink{a00025_af03809bee3f3e35fcc38d25b6dd5003b}{mNumberBeautifulPowers} && 
      \hyperlink{a00025_a6e056c1cb1aab0eddebfebbcb78c8f90}{mTickLabelType} == ltNumber)
05034   \{
05035     ePos = text.indexOf(\textcolor{charliteral}{'e'});
05036     \textcolor{keywordflow}{if} (ePos > -1)
05037       useBeautifulPowers = \textcolor{keyword}{true};
05038   \}
05039   
05040   \textcolor{comment}{// calculate text bounding rects and do string preparation for beautiful decimal powers:}
05041   QRect bounds, baseBounds, expBounds;
05042   QString basePart, expPart;
05043   QFont bugFixFont(painter->font());
05044   bugFixFont.setPointSizeF(bugFixFont.pointSizeF()+0.05); \textcolor{comment}{// QFontMetrics.boundingRect has a bug for exact
       point sizes that make the results oscillate due to internal rounding }
05045   QFont expFont;
05046   \textcolor{keywordflow}{if} (useBeautifulPowers)
05047   \{
05048     \textcolor{comment}{// split string parts for part of number/symbol that will be drawn normally and part that will be drawn
       as exponent:}
05049     basePart = text.left(ePos);
05050     \textcolor{comment}{// in log scaling, we want to turn "1*10^n" into "10^n", else add multiplication sign and decimal base:}
05051     \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLogarithmic && basePart == \textcolor{stringliteral}{"1"})
05052       basePart = \textcolor{stringliteral}{"10"};
05053     \textcolor{keywordflow}{else}
05054       basePart += (\hyperlink{a00025_aebf0367d8645d2e05b93a0952b7e805b}{mNumberMultiplyCross} ? QString(QChar(215)) : QString(QChar(183))) + \textcolor{stringliteral}{
      "10"};
05055     expPart = text.mid(ePos+1);
05056     \textcolor{comment}{// clip "+" and leading zeros off expPart:}
05057     \textcolor{keywordflow}{while} (expPart.at(1) == \textcolor{charliteral}{'0'} && expPart.length() > 2) \textcolor{comment}{// length > 2 so we leave one zero when
       numberFormatChar is 'e'}
05058       expPart.remove(1, 1);
05059     \textcolor{keywordflow}{if} (expPart.at(0) == \hyperlink{a00025_ae99d47103ec8ba66959205b23991241b}{mPositiveSignChar})
05060       expPart.remove(0, 1);
05061     \textcolor{comment}{// prepare smaller font for exponent:}
05062     expFont = painter->font();
05063     expFont.setPointSize(expFont.pointSize()*0.75);
05064     \textcolor{comment}{// calculate bounding rects of base part, exponent part and total one:}
05065     QFontMetrics fontMetrics(bugFixFont);
05066     baseBounds = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip, basePart);
05067     QFontMetrics expFontMetrics(expFont);
05068     expBounds = expFontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip, expPart);
05069     bounds = baseBounds.adjusted(0, 0, expBounds.width(), 0);
05070   \} \textcolor{keywordflow}{else} \textcolor{comment}{// useBeautifulPowers == false}
05071   \{
05072     QFontMetrics fontMetrics(bugFixFont);
05073     bounds = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip | Qt::AlignHCenter, text);
05074   \}
05075   
05076   \textcolor{comment}{// if using rotated tick labels, transform bounding rect, too:}
05077   QRect rotatedBounds = bounds;
05078   \textcolor{keywordflow}{if} (!qFuzzyIsNull(\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation}))
05079   \{
05080     QTransform transform;
05081     transform.rotate(\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation});
05082     rotatedBounds = transform.mapRect(bounds);
05083   \}
05084   \textcolor{comment}{// expand passed tickLabelsSize if current tick label is larger:}
05085   \textcolor{keywordflow}{if} (rotatedBounds.width() > tickLabelsSize->width()) 
05086     tickLabelsSize->setWidth(rotatedBounds.width());
05087   \textcolor{keywordflow}{if} (rotatedBounds.height() > tickLabelsSize->height())
05088     tickLabelsSize->setHeight(rotatedBounds.height());
05089   
05090   \textcolor{comment}{/*}
05091 \textcolor{comment}{    calculate coordinates (non-trivial, for best visual appearance): short explanation for bottom}
05092 \textcolor{comment}{    axis: The anchor, i.e. the point in the label that is placed horizontally under the}
05093 \textcolor{comment}{    corresponding tick is always on the label side that is closer to the axis (e.g. the left side}
05094 \textcolor{comment}{    of the text when we're rotating clockwise). On that side, the height is halved and the}
05095 \textcolor{comment}{    resulting point is defined the anchor. This way, a 90 degree rotated text will be centered}
05096 \textcolor{comment}{    under the tick (i.e. displaced horizontally by half its height). At the same time, a 45 degree}
05097 \textcolor{comment}{    rotated text will "point toward" its tick, as is typical for rotated tick labels.}
05098 \textcolor{comment}{  */}
05099   \textcolor{keywordtype}{bool} doRotation = !qFuzzyIsNull(\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation});
05100   \textcolor{keywordtype}{double} radians = \hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation}/180.0*M\_PI;
05101   \textcolor{keywordtype}{int} x=0,y=0;
05102   \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730}{atLeft})
05103   \{
05104     \textcolor{keywordflow}{if} (doRotation)
05105     \{
05106       \textcolor{keywordflow}{if} (\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation} > 0)
05107       \{
05108         x = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-qCos(radians)*bounds.width()-distanceToAxis;
05109         y = position-qSin(radians)*bounds.width()-qCos(radians)*bounds.height()/2.0;
05110       \} \textcolor{keywordflow}{else}
05111       \{
05112         x = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-qCos(-radians)*bounds.width()-qSin(-radians)*bounds.height()-
      distanceToAxis;
05113         y = position+qSin(-radians)*bounds.width()-qCos(-radians)*bounds.height()/2.0;
05114       \}
05115     \} \textcolor{keywordflow}{else}
05116     \{
05117       x = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left()-bounds.width()-distanceToAxis;
05118       y = position-bounds.height()/2.0;
05119     \}
05120   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{atRight})
05121   \{
05122     \textcolor{keywordflow}{if} (doRotation)
05123     \{
05124       \textcolor{keywordflow}{if} (\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation} > 0)
05125       \{
05126         x = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+qSin(radians)*bounds.height()+distanceToAxis;
05127         y = position-qCos(radians)*bounds.height()/2.0;
05128       \} \textcolor{keywordflow}{else}
05129       \{
05130         x = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+distanceToAxis;
05131         y = position-qCos(-radians)*bounds.height()/2.0;
05132       \}
05133     \} \textcolor{keywordflow}{else}
05134     \{
05135       x = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right()+distanceToAxis;
05136       y = position-bounds.height()/2.0;
05137     \}
05138   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{atTop})
05139   \{
05140     \textcolor{keywordflow}{if} (doRotation)
05141     \{
05142       \textcolor{keywordflow}{if} (\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation} > 0)
05143       \{
05144         x = position-qCos(radians)*bounds.width()+qSin(radians)*bounds.height()/2.0;
05145         y = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-qSin(radians)*bounds.width()-qCos(radians)*bounds.height()-
      distanceToAxis;
05146       \} \textcolor{keywordflow}{else}
05147       \{
05148         x = position-qSin(-radians)*bounds.height()/2.0;
05149         y = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-qCos(-radians)*bounds.height()-distanceToAxis;
05150       \}
05151     \} \textcolor{keywordflow}{else}
05152     \{
05153       x = position-bounds.width()/2.0;
05154       y = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()-bounds.height()-distanceToAxis;
05155     \}
05156   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00025_ae704bf9f2c2b026f08dd4ccad79c616e}{mAxisType} == \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{atBottom})
05157   \{
05158     \textcolor{keywordflow}{if} (doRotation)
05159     \{
05160       \textcolor{keywordflow}{if} (\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation} > 0)
05161       \{
05162         x = position+qSin(radians)*bounds.height()/2.0;
05163         y = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+distanceToAxis;
05164       \} \textcolor{keywordflow}{else}
05165       \{
05166         x = position-qCos(-radians)*bounds.width()-qSin(-radians)*bounds.height()/2.0;
05167         y = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+qSin(-radians)*bounds.width()+distanceToAxis;
05168       \}
05169     \} \textcolor{keywordflow}{else}
05170     \{
05171       x = position-bounds.width()/2.0;
05172       y = \hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom()+distanceToAxis;
05173     \}
05174   \}
05175   
05176   \textcolor{comment}{// if label would be partly clipped by widget border on sides, don't draw it:}
05177   \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
05178   \{
05179     \textcolor{keywordflow}{if} (x+bounds.width() > \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mViewport.right() ||
05180         x < \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mViewport.left())
05181       \textcolor{keywordflow}{return};
05182   \} \textcolor{keywordflow}{else}
05183   \{
05184     \textcolor{keywordflow}{if} (y+bounds.height() > \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mViewport.bottom() ||
05185         y < \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->mViewport.top())
05186       \textcolor{keywordflow}{return};
05187   \}
05188   
05189   \textcolor{comment}{// transform painter to position/rotation:}
05190   QTransform oldTransform = painter->transform();
05191   painter->translate(x, y);
05192   \textcolor{keywordflow}{if} (doRotation)
05193     painter->rotate(\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation});
05194   \textcolor{comment}{// draw text:}
05195   \textcolor{keywordflow}{if} (useBeautifulPowers)
05196   \{
05197     \textcolor{comment}{// draw base:}
05198     painter->drawText(0, 0, 0, 0, Qt::TextDontClip, basePart);
05199     \textcolor{comment}{// draw exponent:}
05200     QFont normalFont = painter->font();
05201     painter->setFont(expFont);
05202     painter->drawText(baseBounds.width()+1, 0, expBounds.width(), expBounds.height(), Qt::TextDontClip,  
      expPart);
05203     painter->setFont(normalFont);
05204   \} \textcolor{keywordflow}{else} \textcolor{comment}{// useBeautifulPowers == false}
05205   \{
05206     painter->drawText(0, 0, bounds.width(), bounds.height(), Qt::TextDontClip | Qt::AlignHCenter, text);
05207   \}
05208   
05209   \textcolor{comment}{// reset rotation/translation transform to what it was before:}
05210   painter->setTransform(oldTransform);
05211 \}
05212 
\hypertarget{a00115_source_l05220}{}\hyperlink{a00025_aca8025b82a43a4627eb87db9026a69c0}{05220} \textcolor{keywordtype}{void} \hyperlink{a00025_aca8025b82a43a4627eb87db9026a69c0}{QCPAxis::getMaxTickLabelSize}(\textcolor{keyword}{const} QFont &font, \textcolor{keyword}{const} QString &text,  
      QSize *tickLabelsSize)\textcolor{keyword}{ const}
05221 \textcolor{keyword}{}\{
05222   \textcolor{comment}{// This function does the same as drawTickLabel but omits the actual drawing}
05223   \textcolor{comment}{// changes involve creating extra QFontMetrics instances for font, since painter->fontMetrics() isn't
       available}
05224   
05225   \textcolor{comment}{// determine whether beautiful powers should be used}
05226   \textcolor{keywordtype}{bool} useBeautifulPowers = \textcolor{keyword}{false};
05227   \textcolor{keywordtype}{int} ePos=-1;
05228   \textcolor{keywordflow}{if} (\hyperlink{a00025_a721e496b342f272078c5ff84564e472f}{mAutoTickLabels} && \hyperlink{a00025_af03809bee3f3e35fcc38d25b6dd5003b}{mNumberBeautifulPowers} && 
      \hyperlink{a00025_a6e056c1cb1aab0eddebfebbcb78c8f90}{mTickLabelType} == ltNumber)
05229   \{
05230     ePos = text.indexOf(\hyperlink{a00025_a0ec9dbb79704be01f780d34c6f57a08e}{mExponentialChar});
05231     \textcolor{keywordflow}{if} (ePos > -1)
05232       useBeautifulPowers = \textcolor{keyword}{true};
05233   \}
05234   
05235   \textcolor{comment}{// calculate and draw text, depending on whether beautiful powers are applicable or not:}
05236   QRect bounds, baseBounds, expBounds;
05237   QString basePart, expPart;
05238   QFont bugFixFont(font);
05239   bugFixFont.setPointSizeF(bugFixFont.pointSizeF()+0.05); \textcolor{comment}{// QFontMetrics.boundingRect has a bug for exact
       point sizes that make the results oscillate due to internal rounding }
05240   QFont expFont;
05241   \textcolor{keywordflow}{if} (useBeautifulPowers)
05242   \{
05243     \textcolor{comment}{// split string parts for part of number/symbol that will be drawn normally and part that will be drawn
       as exponent:}
05244     basePart = text.left(ePos);
05245     \textcolor{comment}{// in log scaling, we want to turn "1*10^n" into "10^n", else add multiplication sign and decimal base:}
05246     \textcolor{keywordflow}{if} (\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == stLogarithmic && basePart == \textcolor{stringliteral}{"1"})
05247       basePart = \textcolor{stringliteral}{"10"};
05248     \textcolor{keywordflow}{else}
05249       basePart += (\hyperlink{a00025_aebf0367d8645d2e05b93a0952b7e805b}{mNumberMultiplyCross} ? QString(QChar(215)) : QString(QChar(183))) + \textcolor{stringliteral}{
      "10"};
05250     expPart = text.mid(ePos+1);
05251     \textcolor{comment}{// clip "+" and leading zeros off expPart:}
05252     \textcolor{keywordflow}{while} (expPart.at(1) == \textcolor{charliteral}{'0'} && expPart.length() > 2) \textcolor{comment}{// length > 2 so we leave one zero when
       numberFormatChar is 'e'}
05253       expPart.remove(1, 1);
05254     \textcolor{keywordflow}{if} (expPart.at(0) == \hyperlink{a00025_ae99d47103ec8ba66959205b23991241b}{mPositiveSignChar})
05255       expPart.remove(0, 1);
05256     \textcolor{comment}{// prepare smaller font for exponent:}
05257     expFont = font;
05258     expFont.setPointSize(expFont.pointSize()*0.75);
05259     \textcolor{comment}{// calculate bounding rects of base part, exponent part and total one:}
05260     QFontMetrics baseFontMetrics(bugFixFont);
05261     baseBounds = baseFontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip, basePart);
05262     QFontMetrics expFontMetrics(expFont);
05263     expBounds = expFontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip, expPart);
05264     bounds = baseBounds.adjusted(0, 0, expBounds.width(), 0); 
05265   \} \textcolor{keywordflow}{else} \textcolor{comment}{// useBeautifulPowers == false}
05266   \{
05267     QFontMetrics fontMetrics(bugFixFont);
05268     bounds = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip | Qt::AlignHCenter, text);
05269   \}
05270   
05271   \textcolor{comment}{// if rotated tick labels, transform bounding rect, too:}
05272   QRect rotatedBounds = bounds;
05273   \textcolor{keywordflow}{if} (!qFuzzyIsNull(\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation}))
05274   \{
05275     QTransform transform;
05276     transform.rotate(\hyperlink{a00025_a47660c8694884cdb87495bf8b4c8a3b9}{mTickLabelRotation});
05277     rotatedBounds = transform.mapRect(bounds);
05278   \}
05279   
05280   \textcolor{comment}{// expand passed tickLabelsSize if current tick label is larger:}
05281   \textcolor{keywordflow}{if} (rotatedBounds.width() > tickLabelsSize->width()) 
05282     tickLabelsSize->setWidth(rotatedBounds.width());
05283   \textcolor{keywordflow}{if} (rotatedBounds.height() > tickLabelsSize->height())
05284     tickLabelsSize->setHeight(rotatedBounds.height());
05285 \}
05286 
\hypertarget{a00115_source_l05300}{}\hyperlink{a00025_ac68d1c81004fded1f3c4ca95879a445d}{05300} \textcolor{keywordtype}{bool} \hyperlink{a00025_ac68d1c81004fded1f3c4ca95879a445d}{QCPAxis::handleAxisSelection}(QMouseEvent *event, \textcolor{keywordtype}{bool} additiveSelection, \textcolor{keywordtype}{
      bool} &modified)
05301 \{
05302   \textcolor{keywordtype}{bool} selectionFound = \textcolor{keyword}{false};
05303   \textcolor{keywordflow}{if} (event)
05304   \{
05305     SelectablePart selectedAxisPart = \hyperlink{a00025_a940be5ef61f4fa0dc21e4f4c7a5875c2}{selectTest}(event->pos());
05306     \textcolor{keywordflow}{if} (selectedAxisPart == spNone || !\hyperlink{a00025_a4e83e383fb5fbd9cf3759fab68f79aa6}{selectable}().testFlag(selectedAxisPart))
05307     \{
05308       \textcolor{comment}{// deselect parts that are changeable (selectable):}
05309       SelectableParts newState = \hyperlink{a00025_a534509949b91a6aa08e38cca48b62c9e}{selected}() & ~\hyperlink{a00025_a4e83e383fb5fbd9cf3759fab68f79aa6}{selectable}();
05310       \textcolor{keywordflow}{if} (newState != \hyperlink{a00025_a534509949b91a6aa08e38cca48b62c9e}{selected}() && !additiveSelection)
05311       \{
05312         modified = \textcolor{keyword}{true};
05313         \hyperlink{a00025_a24c13908da2f8d629b1bbbe9cbd63e39}{setSelected}(newState);
05314       \}
05315     \} \textcolor{keywordflow}{else}
05316     \{
05317       selectionFound = \textcolor{keyword}{true};
05318       \textcolor{keywordflow}{if} (additiveSelection)
05319       \{
05320         \textcolor{comment}{// additive selection, so toggle selected part:}
05321         \hyperlink{a00025_a24c13908da2f8d629b1bbbe9cbd63e39}{setSelected}(\hyperlink{a00025_a534509949b91a6aa08e38cca48b62c9e}{selected}() ^ selectedAxisPart);
05322         modified = \textcolor{keyword}{true};
05323       \} \textcolor{keywordflow}{else}
05324       \{
05325         \textcolor{comment}{// not additive selection, so select part and deselect all others that are changeable (selectable):}
05326         SelectableParts newState = (\hyperlink{a00025_a534509949b91a6aa08e38cca48b62c9e}{selected}() & ~\hyperlink{a00025_a4e83e383fb5fbd9cf3759fab68f79aa6}{selectable}()) | selectedAxisPart;
05327         \textcolor{keywordflow}{if} (newState != \hyperlink{a00025_a534509949b91a6aa08e38cca48b62c9e}{selected}())
05328         \{
05329           modified = \textcolor{keyword}{true};
05330           \hyperlink{a00025_a24c13908da2f8d629b1bbbe9cbd63e39}{setSelected}(newState);
05331         \}
05332       \}
05333     \}
05334   \} \textcolor{keywordflow}{else} \textcolor{comment}{// event == 0, so deselect all changeable parts}
05335   \{
05336     SelectableParts newState = \hyperlink{a00025_a534509949b91a6aa08e38cca48b62c9e}{selected}() & ~\hyperlink{a00025_a4e83e383fb5fbd9cf3759fab68f79aa6}{selectable}();
05337     \textcolor{keywordflow}{if} (newState != \hyperlink{a00025_a534509949b91a6aa08e38cca48b62c9e}{selected}())
05338     \{
05339       modified = \textcolor{keyword}{true};
05340       \hyperlink{a00025_a24c13908da2f8d629b1bbbe9cbd63e39}{setSelected}(newState);
05341     \}
05342   \}
05343   \textcolor{keywordflow}{return} selectionFound;
05344 \}
05345 
\hypertarget{a00115_source_l05358}{}\hyperlink{a00025_a13bde39eb1e0b7c14a02935689be8aba}{05358} \textcolor{keywordtype}{void} \hyperlink{a00025_a13bde39eb1e0b7c14a02935689be8aba}{QCPAxis::applyDefaultAntialiasingHint}(
      \hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
05359 \textcolor{keyword}{}\{
05360   \hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{applyAntialiasingHint}(painter, \hyperlink{a00044_a3ab45a4c76a3333ce42eb217a81733ec}{mAntialiased}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0caefa92e89cd37f8a081fd2075aa1af73f}{QCP::aeAxes});
05361 \}
05362 
\hypertarget{a00115_source_l05373}{}\hyperlink{a00025_a06320a944d1120732cc0d72fe1306d8b}{05373} \textcolor{keywordtype}{void} \hyperlink{a00025_a06320a944d1120732cc0d72fe1306d8b}{QCPAxis::visibleTickBounds}(\textcolor{keywordtype}{int} &lowIndex, \textcolor{keywordtype}{int} &highIndex)\textcolor{keyword}{ const}
05374 \textcolor{keyword}{}\{
05375   lowIndex = 0;
05376   highIndex = -1;
05377   \textcolor{comment}{// make sure only ticks that are in visible range are returned}
05378   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i < \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.size(); ++i)
05379   \{
05380     lowIndex = i;
05381     \textcolor{keywordflow}{if} (\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i) >= \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}) \textcolor{keywordflow}{break};
05382   \}
05383   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.size()-1; i >= 0; --i)
05384   \{
05385     highIndex = i;
05386     \textcolor{keywordflow}{if} (\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i) <= \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}) \textcolor{keywordflow}{break};
05387   \}
05388 \}
05389 
\hypertarget{a00115_source_l05398}{}\hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{05398} \textcolor{keywordtype}{double} \hyperlink{a00025_a1385765db2419ee5fb5505a6cf9130fb}{QCPAxis::baseLog}(\textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
05399 \textcolor{keyword}{}\{
05400   \textcolor{keywordflow}{return} qLn(value)*\hyperlink{a00025_a93e068984b475467929e7f6768754227}{mScaleLogBaseLogInv};
05401 \}
05402 
\hypertarget{a00115_source_l05410}{}\hyperlink{a00025_a97d69f021a05126fcb978d0aefea47b8}{05410} \textcolor{keywordtype}{double} \hyperlink{a00025_a97d69f021a05126fcb978d0aefea47b8}{QCPAxis::basePow}(\textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
05411 \textcolor{keyword}{}\{
05412   \textcolor{keywordflow}{return} qPow(\hyperlink{a00025_abc727ddb4af745151755d1b5e60d03c3}{mScaleLogBase}, value);
05413 \}
05414 
\hypertarget{a00115_source_l05420}{}\hyperlink{a00025_a3eb0681d31baf579bb73b86a0153cb02}{05420} QPen \hyperlink{a00025_a3eb0681d31baf579bb73b86a0153cb02}{QCPAxis::getBasePen}()\textcolor{keyword}{ const}
05421 \textcolor{keyword}{}\{
05422   \textcolor{keywordflow}{return} \hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected}.testFlag(spAxis) ? \hyperlink{a00025_a80baa4e3c16f9b6edf3eccacd2a50fde}{mSelectedBasePen} : 
      \hyperlink{a00025_ad6b4a0aee9558fb35529e960b8fef72d}{mBasePen};
05423 \}
05424 
\hypertarget{a00115_source_l05430}{}\hyperlink{a00025_a7f503910be40fb1717e1635be3ef17e1}{05430} QPen \hyperlink{a00025_a7f503910be40fb1717e1635be3ef17e1}{QCPAxis::getTickPen}()\textcolor{keyword}{ const}
05431 \textcolor{keyword}{}\{
05432   \textcolor{keywordflow}{return} \hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected}.testFlag(spAxis) ? \hyperlink{a00025_a9524593dbc75a5c5b29dbd1cb4b37df5}{mSelectedTickPen} : 
      \hyperlink{a00025_a1d52c78c856d8bd1f331d4ec4e63d944}{mTickPen};
05433 \}
05434 
\hypertarget{a00115_source_l05440}{}\hyperlink{a00025_ab4f7e60a40eb051c775afcaeab895c85}{05440} QPen \hyperlink{a00025_ab4f7e60a40eb051c775afcaeab895c85}{QCPAxis::getSubTickPen}()\textcolor{keyword}{ const}
05441 \textcolor{keyword}{}\{
05442   \textcolor{keywordflow}{return} \hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected}.testFlag(spAxis) ? \hyperlink{a00025_aa5cc6afc5dc2a365f5abbd36eb04a1dc}{mSelectedSubTickPen} : 
      \hyperlink{a00025_a32ef56d3a417866720eb12667d27dbd1}{mSubTickPen};
05443 \}
05444 
\hypertarget{a00115_source_l05450}{}\hyperlink{a00025_aef30b66668986523225089a67280ec7a}{05450} QFont \hyperlink{a00025_aef30b66668986523225089a67280ec7a}{QCPAxis::getTickLabelFont}()\textcolor{keyword}{ const}
05451 \textcolor{keyword}{}\{
05452   \textcolor{keywordflow}{return} \hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected}.testFlag(spTickLabels) ? \hyperlink{a00025_a4f2e4919da9615dac612662c249b1119}{mSelectedTickLabelFont} : 
      \hyperlink{a00025_add79d1e39c4ed65869a1e9cc79043f3f}{mTickLabelFont};
05453 \}
05454 
\hypertarget{a00115_source_l05460}{}\hyperlink{a00025_ab0768eb2879efb202645d19ff789e63e}{05460} QFont \hyperlink{a00025_ab0768eb2879efb202645d19ff789e63e}{QCPAxis::getLabelFont}()\textcolor{keyword}{ const}
05461 \textcolor{keyword}{}\{
05462   \textcolor{keywordflow}{return} \hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected}.testFlag(spAxisLabel) ? \hyperlink{a00025_ae48fe3489afadc0b3cd003233e2bf19f}{mSelectedLabelFont} : 
      \hyperlink{a00025_a37442d470e30e19b81ecaf979a34d046}{mLabelFont};
05463 \}
05464 
\hypertarget{a00115_source_l05470}{}\hyperlink{a00025_a0f8583f7ac24ccc70d39fdd2389cad6e}{05470} QColor \hyperlink{a00025_a0f8583f7ac24ccc70d39fdd2389cad6e}{QCPAxis::getTickLabelColor}()\textcolor{keyword}{ const}
05471 \textcolor{keyword}{}\{
05472   \textcolor{keywordflow}{return} \hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected}.testFlag(spTickLabels) ? \hyperlink{a00025_a3bcad40902f45dc4c991a2c3e4d31d70}{mSelectedTickLabelColor} : 
      \hyperlink{a00025_a6384a749b3b56a97df081d8082321ab4}{mTickLabelColor};
05473 \}
05474 
\hypertarget{a00115_source_l05480}{}\hyperlink{a00025_a42bd69b9e9c571f13624079be18ccdc1}{05480} QColor \hyperlink{a00025_a42bd69b9e9c571f13624079be18ccdc1}{QCPAxis::getLabelColor}()\textcolor{keyword}{ const}
05481 \textcolor{keyword}{}\{
05482   \textcolor{keywordflow}{return} \hyperlink{a00025_a08e1b62c634d80157f585206ebc30e37}{mSelected}.testFlag(spAxisLabel) ? \hyperlink{a00025_a94f57de3ba024471ca206d83cf2258dd}{mSelectedLabelColor} : 
      \hyperlink{a00025_a457a003bb1c2b6ab73e5a173ba7558fd}{mLabelColor};
05483 \}
05484 
\hypertarget{a00115_source_l05500}{}\hyperlink{a00025_a10756afda0cd419fb24d09adb411dda7}{05500} \textcolor{keywordtype}{int} \hyperlink{a00025_a10756afda0cd419fb24d09adb411dda7}{QCPAxis::calculateMargin}()\textcolor{keyword}{ const}
05501 \textcolor{keyword}{}\{
05502   \textcolor{comment}{// run through similar steps as QCPAxis::draw, and caluclate margin needed to fit axis and its labels}
05503   \textcolor{keywordtype}{int} margin = 0;
05504   
05505   \textcolor{keywordflow}{if} (\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
05506   \{
05507     \textcolor{keywordtype}{int} lowTick, highTick;
05508     \hyperlink{a00025_a06320a944d1120732cc0d72fe1306d8b}{visibleTickBounds}(lowTick, highTick);
05509     \textcolor{comment}{// get length of tick marks reaching outside axis rect:}
05510     margin += qMax(0, qMax(\hyperlink{a00025_a2951f26d8a504d330157e05063513809}{mTickLengthOut}, \hyperlink{a00025_ae0342609ad543c2667673d75b43d9dbb}{mSubTickLengthOut}));
05511     \textcolor{comment}{// calculate size of tick labels:}
05512     QSize tickLabelsSize(0, 0);
05513     \textcolor{keywordflow}{if} (\hyperlink{a00025_a3e4315be072026644e69009557a2fa11}{mTickLabels})
05514     \{
05515       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=lowTick; i <= highTick; ++i)
05516       \{
05517         \hyperlink{a00025_aca8025b82a43a4627eb87db9026a69c0}{getMaxTickLabelSize}(\hyperlink{a00025_add79d1e39c4ed65869a1e9cc79043f3f}{mTickLabelFont}, 
      \hyperlink{a00025_aeee4bd0fca3f587eafe33843d1cb4f82}{mTickVectorLabels}.at(i), &tickLabelsSize); \textcolor{comment}{// don't use getTickLabelFont() because we
       don't want margin to possibly change on selection}
05518       \}
05519       \textcolor{keywordflow}{if} (\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
05520         margin += tickLabelsSize.height() + \hyperlink{a00025_ab3f2f5d923c83d952922149d0d1e2eb1}{mTickLabelPadding};
05521       \textcolor{keywordflow}{else}
05522         margin += tickLabelsSize.width() + \hyperlink{a00025_ab3f2f5d923c83d952922149d0d1e2eb1}{mTickLabelPadding};
05523     \}
05524     \textcolor{comment}{// calculate size of axis label (only height needed, because left/right labels are rotated by 90
       degrees):}
05525     \textcolor{keywordflow}{if} (!\hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel}.isEmpty())
05526     \{
05527       QFontMetrics fontMetrics(\hyperlink{a00025_a37442d470e30e19b81ecaf979a34d046}{mLabelFont}); \textcolor{comment}{// don't use getLabelFont() because we don't want
       margin to possibly change on selection}
05528       QRect bounds;
05529       bounds = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip | Qt::AlignHCenter | Qt::AlignVCenter,
       \hyperlink{a00025_ae8001dbdfc47685c1cf7b98b044460e6}{mLabel});
05530       margin += bounds.height() + \hyperlink{a00025_ae392a7c1a88a58765a7ed899642d248a}{mLabelPadding};
05531     \}
05532   \}
05533   margin += \hyperlink{a00025_a52a805a4f03231210e0880db7f77e098}{mPadding};
05534   
05535   \textcolor{keywordflow}{if} (margin < 15) \textcolor{comment}{// need a bit of margin if no axis text is shown at all (i.e. only baseline and tick
       lines, or no axis at all)}
05536     margin = 15;
05537   \textcolor{keywordflow}{return} margin;
05538 \}
05539 
05540 
05541 \textcolor{comment}{// ================================================================================}
05542 \textcolor{comment}{// =================== QCustomPlot}
05543 \textcolor{comment}{// ================================================================================}
05544 
05552 \textcolor{comment}{/* start of documentation of inline functions */}
05553 
05569 \textcolor{comment}{/* end of documentation of inline functions */}
05570 \textcolor{comment}{/* start of documentation of signals */}
05571 
05751 \textcolor{comment}{/* end of documentation of signals */}
05752 
05759 QCustomPlot::QCustomPlot(QWidget *parent) :
05760   QWidget(parent),
05761   \hyperlink{a00116_ad1273fad7e12b0f61819343368778928}{mDragging}(false),
05762   \hyperlink{a00116_a38ce5778fc22072b64b7ccc05963c684}{mReplotting}(false),
05763   \hyperlink{a00116_af6de5d56e261af21cf6223179fc58883}{mPlottingHints}(\hyperlink{a00143}{QCP}::phNone)
05764 \{
05765   setAttribute(Qt::WA\_NoMousePropagation);
05766   setAttribute(Qt::WA\_OpaquePaintEvent);
05767   this->setMouseTracking(\textcolor{keyword}{true});
05768   QLocale currentLocale = locale();
05769   currentLocale.setNumberOptions(QLocale::OmitGroupSeparator);
05770   setLocale(currentLocale);
05771   
05772   \textcolor{comment}{// create very first layers:}
05773   \hyperlink{a00043}{QCPLayer} *gridLayer = \textcolor{keyword}{new} \hyperlink{a00116_a5dbf96bf7664c1b6fce49063eeea6eef}{QCPLayer}(\textcolor{keyword}{this}, \textcolor{stringliteral}{"grid"});
05774   \hyperlink{a00043}{QCPLayer} *mainLayer = \textcolor{keyword}{new} \hyperlink{a00116_a5dbf96bf7664c1b6fce49063eeea6eef}{QCPLayer}(\textcolor{keyword}{this}, \textcolor{stringliteral}{"main"});
05775   \hyperlink{a00043}{QCPLayer} *axesLayer = \textcolor{keyword}{new} \hyperlink{a00116_a5dbf96bf7664c1b6fce49063eeea6eef}{QCPLayer}(\textcolor{keyword}{this}, \textcolor{stringliteral}{"axes"});
05776   \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.append(gridLayer);
05777   \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.append(mainLayer);
05778   \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.append(axesLayer);
05779   \hyperlink{a00116_a73a6dc47c653bb6f8f030abca5a11852}{setCurrentLayer}(mainLayer);
05780 
05781   \hyperlink{a00116_a804ea55d1894964076fe02acf11da591}{mPaintBuffer} = QPixmap(size());
05782   \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend} = \textcolor{keyword}{new} \hyperlink{a00116_a8429035e7adfbd7f05805a6530ad5e3b}{QCPLegend}(\textcolor{keyword}{this});
05783   \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00044_a3bed99ddc396b48ce3ebfdc0418744f8}{setVisible}(\textcolor{keyword}{false});
05784   \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{setLayer}(axesLayer);
05785   \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis} = \textcolor{keyword}{new} \hyperlink{a00025_a5a34dafa051be08d03e89c163c507f90}{QCPAxis}(\textcolor{keyword}{this}, \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aa220d68888516b6c3b493d144f1ba438f}{QCPAxis::atBottom});
05786   \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis} = \textcolor{keyword}{new} \hyperlink{a00025_a5a34dafa051be08d03e89c163c507f90}{QCPAxis}(\textcolor{keyword}{this}, \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aaf84aa6cac6fb6099f54a2cbf7546b730}{QCPAxis::atLeft});
05787   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2} = \textcolor{keyword}{new} \hyperlink{a00025_a5a34dafa051be08d03e89c163c507f90}{QCPAxis}(\textcolor{keyword}{this}, \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aac0ece2b680d3f545e701f75af1655977}{QCPAxis::atTop});
05788   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2} = \textcolor{keyword}{new} \hyperlink{a00025_a5a34dafa051be08d03e89c163c507f90}{QCPAxis}(\textcolor{keyword}{this}, \hyperlink{a00025_ae2bcc1728b382f10f064612b368bc18aadf5509f7d29199ef2f263b1dd224b345}{QCPAxis::atRight});
05789   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a8d6d2bec40205fd3ca07cb1394663521}{setGrid}(\textcolor{keyword}{false});
05790   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a8d6d2bec40205fd3ca07cb1394663521}{setGrid}(\textcolor{keyword}{false});
05791   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a533e5aa7fb4981ebc3db761d1e0e38d1}{setZeroLinePen}(Qt::NoPen);
05792   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a533e5aa7fb4981ebc3db761d1e0e38d1}{setZeroLinePen}(Qt::NoPen);
05793   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00044_a3bed99ddc396b48ce3ebfdc0418744f8}{setVisible}(\textcolor{keyword}{false});
05794   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00044_a3bed99ddc396b48ce3ebfdc0418744f8}{setVisible}(\textcolor{keyword}{false});
05795   \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{setLayer}(axesLayer);
05796   \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{setLayer}(axesLayer);
05797   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{setLayer}(axesLayer);
05798   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{setLayer}(axesLayer);
05799   \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setLayer(gridLayer);
05800   \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setLayer(gridLayer);
05801   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setLayer(gridLayer);
05802   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a17bffb94aaa40311f259c6ac7bcb5d5f}{mGrid}->setLayer(gridLayer);
05803   \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport} = rect();
05804   
05805   \hyperlink{a00116_a775bdcb6329d44701aeaa6135b0e5265}{setNoAntialiasingOnDrag}(\textcolor{keyword}{false});
05806   \hyperlink{a00116_ad8858410c2db47b7104040a3aa61c3fc}{setAutoAddPlottableToLegend}(\textcolor{keyword}{true});
05807   \hyperlink{a00116_a55ad8c13d7db8b5c2f15d694773a43a3}{setAxisBackgroundScaled}(\textcolor{keyword}{true});
05808   \hyperlink{a00116_a82920d0db6cc36214dc4a9dfe386d1a1}{setAxisBackgroundScaledMode}(Qt::KeepAspectRatioByExpanding);
05809   \hyperlink{a00116_ae104d89b683a6ec6831c4b7b02530f15}{setTitleFont}(QFont(font().family(), 14, QFont::Bold));
05810   \hyperlink{a00116_a57693e1334130e47dae06f8bd226328b}{setTitleColor}(Qt::black);
05811   \hyperlink{a00116_a2face1cc6d467f27aa1a6f3ba5ba112d}{setSelectedTitleFont}(QFont(font().family(), 14, QFont::Bold));
05812   \hyperlink{a00116_ad0897d7ba31a3994d7323f568cdcd2d8}{setSelectedTitleColor}(Qt::blue);
05813   \hyperlink{a00116_aa89e06c04804ff2a0994ccb1aa80d131}{setTitleSelected}(\textcolor{keyword}{false});
05814   \hyperlink{a00116_a84257c1e1f984b3932245069428f3176}{setTitle}(\textcolor{stringliteral}{""});
05815   \hyperlink{a00116_a858bbcf98637471449e438304a00624b}{setColor}(Qt::white);
05816   
05817 \textcolor{preprocessor}{#ifdef Q\_WS\_WIN}
05818   \hyperlink{a00116_a3b7c97bb6c16464e9e15190c07abe9a9}{setPlottingHint}(QCP::phForceRepaint);
05819 \textcolor{preprocessor}{#endif}
05820   \hyperlink{a00116_af6f91e5eab1be85f67c556e98c3745e8}{setAntialiasedElements}(\hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0caa9e90d81896358757d94275aeaa58f6a}{QCP::aeNone});
05821   \hyperlink{a00116_ae10d685b5eabea2999fb8775ca173c24}{setNotAntialiasedElements}(\hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0caa9e90d81896358757d94275aeaa58f6a}{QCP::aeNone});
05822   \hyperlink{a00116_add9cc886ff5257f64fb4117cf6c135fe}{setInteractions}(iRangeDrag|iRangeZoom);
05823   \hyperlink{a00116_a8fc96e3b5138a06759a2a90c166df516}{setMultiSelectModifier}(Qt::ControlModifier);
05824   \hyperlink{a00116_a9fa10e826a174884391c1c839d52c0a3}{setRangeDragAxes}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}, \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis});
05825   \hyperlink{a00116_a9808f1736b8116c116bcccb53cdb210a}{setRangeZoomAxes}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}, \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis});
05826   \hyperlink{a00116_aa0e1c44295da2706d0f12ad48f64b806}{setRangeDrag}(0);
05827   \hyperlink{a00116_ad4a0919e471549a2daea517ce6538ad8}{setRangeZoom}(0);
05828   \hyperlink{a00116_ab0589ec79b1081b13ffb7cf5791a8735}{setRangeZoomFactor}(0.85);
05829   \hyperlink{a00116_a4dc31241d7b09680950e19e5f971ed93}{setSelectionTolerance}(8);
05830   
05831   \hyperlink{a00116_a870fac53de3ba7bd9d71b45238b0eaeb}{setMargin}(0, 0, 0, 0); \textcolor{comment}{// also initializes the mAxisRect}
05832   \hyperlink{a00116_aed5bb30c9b04c1d0103ab8ef7190f23a}{setAutoMargin}(\textcolor{keyword}{true});
05833   \hyperlink{a00116_a563540b54b2a09c8ef092d42e9621f42}{replot}();
05834 \}
05835 
\hypertarget{a00115_source_l05836}{}\hyperlink{a00116_a75d9b6f599dcae706e45efd425c5499e}{05836} \hyperlink{a00116_a75d9b6f599dcae706e45efd425c5499e}{QCustomPlot::~QCustomPlot}()
05837 \{
05838   \hyperlink{a00116_a9a409bb3201878adb7ffba1c89c4e004}{clearPlottables}();
05839   \hyperlink{a00116_a9d204691a56aadcba8365a49637fa145}{clearItems}();
05840   \textcolor{keyword}{delete} \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend};
05841   \textcolor{keyword}{delete} \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis};
05842   \textcolor{keyword}{delete} \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis};
05843   \textcolor{keyword}{delete} \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2};
05844   \textcolor{keyword}{delete} \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2};
05845   qDeleteAll(\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers});
05846   \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.clear();
05847 \}
05848 
\hypertarget{a00115_source_l05853}{}\hyperlink{a00116_a0e0923c32c4b71509afc26062d3e625d}{05853} \hyperlink{a00025}{QCPAxis} *\hyperlink{a00116_a0e0923c32c4b71509afc26062d3e625d}{QCustomPlot::rangeDragAxis}(Qt::Orientation orientation)
05854 \{
05855   \textcolor{keywordflow}{return} (orientation == Qt::Horizontal ? \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis} : 
      \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis});
05856 \}
05857 
\hypertarget{a00115_source_l05862}{}\hyperlink{a00116_a81c0f9cdb32b2afc1fc07440c9f3fa7b}{05862} \hyperlink{a00025}{QCPAxis} *\hyperlink{a00116_a81c0f9cdb32b2afc1fc07440c9f3fa7b}{QCustomPlot::rangeZoomAxis}(Qt::Orientation orientation)
05863 \{
05864   \textcolor{keywordflow}{return} (orientation == Qt::Horizontal ? \hyperlink{a00116_a3239b66fb24563a5dda0503a69a892d5}{mRangeZoomHorzAxis} : 
      \hyperlink{a00116_a16094e9a3c30151c3c820cd9d4894b84}{mRangeZoomVertAxis});
05865 \}
05866 
\hypertarget{a00115_source_l05871}{}\hyperlink{a00116_ad833d4bd16c7b27621abd373db72d33a}{05871} \textcolor{keywordtype}{double} \hyperlink{a00116_ad833d4bd16c7b27621abd373db72d33a}{QCustomPlot::rangeZoomFactor}(Qt::Orientation orientation)
05872 \{
05873   \textcolor{keywordflow}{return} (orientation == Qt::Horizontal ? \hyperlink{a00116_a575195f0c4e9f7a766495da2ac41e0a6}{mRangeZoomFactorHorz} : 
      \hyperlink{a00116_a133700b56f6b8e472f99058b43f5a0e9}{mRangeZoomFactorVert});
05874 \}
05875 
\hypertarget{a00115_source_l05884}{}\hyperlink{a00116_a84257c1e1f984b3932245069428f3176}{05884} \textcolor{keywordtype}{void} \hyperlink{a00116_a84257c1e1f984b3932245069428f3176}{QCustomPlot::setTitle}(\textcolor{keyword}{const} QString &\hyperlink{a00116_aec7f0fb0be1d3a0a946f0ded3a860d20}{title})
05885 \{
05886   \hyperlink{a00116_a897f8f3962601be2f02346e99e1fd7fb}{mTitle} = \hyperlink{a00116_aec7f0fb0be1d3a0a946f0ded3a860d20}{title};
05887 \}
05888 
\hypertarget{a00115_source_l05893}{}\hyperlink{a00116_ae104d89b683a6ec6831c4b7b02530f15}{05893} \textcolor{keywordtype}{void} \hyperlink{a00116_ae104d89b683a6ec6831c4b7b02530f15}{QCustomPlot::setTitleFont}(\textcolor{keyword}{const} QFont &font)
05894 \{
05895   \hyperlink{a00116_ac17173c9dcdc7c84878a6ee801fafc2e}{mTitleFont} = font;
05896 \}
05897 
\hypertarget{a00115_source_l05902}{}\hyperlink{a00116_a57693e1334130e47dae06f8bd226328b}{05902} \textcolor{keywordtype}{void} \hyperlink{a00116_a57693e1334130e47dae06f8bd226328b}{QCustomPlot::setTitleColor}(\textcolor{keyword}{const} QColor &\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
05903 \{
05904   \hyperlink{a00116_a56e768edac99110852bf82826da144b9}{mTitleColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
05905 \}
05906 
05918 \textcolor{keywordtype}{void} \hyperlink{a00116_a5de3a26b172b17e1f0e35bfc596d9d4d}{QCustomPlot::setAxisRect}(\textcolor{keyword}{const} QRect &arect)
05919 \{
05920   \hyperlink{a00116_a011307bfbe2ac7e60f13d2fa45e31113}{mMarginLeft} = arect.left()-\hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport}.left();
05921   \hyperlink{a00116_af5efe5736378d5f8061fd6bf5dc92a2d}{mMarginRight} = \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport}.right()-arect.right();
05922   \hyperlink{a00116_a746a9e31a0cf3ce3be1bbd3a6fa2c8be}{mMarginTop} = arect.top()-\hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport}.top();
05923   \hyperlink{a00116_ad02e2d81ae66d4261d1e46a6979ea118}{mMarginBottom} = \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport}.bottom()-arect.bottom();
05924   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
05925 \}
05926 
05931 \textcolor{keywordtype}{void} \hyperlink{a00116_a3be3a999be642fc336d4f4bf8299b27a}{QCustomPlot::setMarginLeft}(\textcolor{keywordtype}{int} margin)
05932 \{
05933   \hyperlink{a00116_a011307bfbe2ac7e60f13d2fa45e31113}{mMarginLeft} = margin;
05934   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
05935 \}
05936 
05941 \textcolor{keywordtype}{void} \hyperlink{a00116_a1822d02903f715e6910c0b55dd1506b9}{QCustomPlot::setMarginRight}(\textcolor{keywordtype}{int} margin)
05942 \{
05943   \hyperlink{a00116_af5efe5736378d5f8061fd6bf5dc92a2d}{mMarginRight} = margin;
05944   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
05945 \}
05946 
05951 \textcolor{keywordtype}{void} \hyperlink{a00116_a3078bfcda0a3eda7782d8ca01f71ad7e}{QCustomPlot::setMarginTop}(\textcolor{keywordtype}{int} margin)
05952 \{
05953   \hyperlink{a00116_a746a9e31a0cf3ce3be1bbd3a6fa2c8be}{mMarginTop} = margin;
05954   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
05955 \}
05956 
05961 \textcolor{keywordtype}{void} \hyperlink{a00116_a87d42c0b0a224f9f9e43013fff4199d9}{QCustomPlot::setMarginBottom}(\textcolor{keywordtype}{int} margin)
05962 \{
05963   \hyperlink{a00116_ad02e2d81ae66d4261d1e46a6979ea118}{mMarginBottom} = margin;
05964   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
05965 \}
05966 
05974 \textcolor{keywordtype}{void} \hyperlink{a00116_a870fac53de3ba7bd9d71b45238b0eaeb}{QCustomPlot::setMargin}(\textcolor{keywordtype}{int} left, \textcolor{keywordtype}{int} right, \textcolor{keywordtype}{int} top, \textcolor{keywordtype}{int} bottom)
05975 \{
05976   \hyperlink{a00116_a011307bfbe2ac7e60f13d2fa45e31113}{mMarginLeft} = left;
05977   \hyperlink{a00116_af5efe5736378d5f8061fd6bf5dc92a2d}{mMarginRight} = right;
05978   \hyperlink{a00116_a746a9e31a0cf3ce3be1bbd3a6fa2c8be}{mMarginTop} = top;
05979   \hyperlink{a00116_ad02e2d81ae66d4261d1e46a6979ea118}{mMarginBottom} = bottom;
05980   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
05981 \}
05982 
\hypertarget{a00115_source_l05989}{}\hyperlink{a00116_aed5bb30c9b04c1d0103ab8ef7190f23a}{05989} \textcolor{keywordtype}{void} \hyperlink{a00116_aed5bb30c9b04c1d0103ab8ef7190f23a}{QCustomPlot::setAutoMargin}(\textcolor{keywordtype}{bool} enabled)
05990 \{
05991   \hyperlink{a00116_a9f5c2927e8dd4f66342f80d3b332cd3f}{mAutoMargin} = enabled;
05992 \}
05993 
05997 \textcolor{keywordtype}{void} \hyperlink{a00116_a858bbcf98637471449e438304a00624b}{QCustomPlot::setColor}(\textcolor{keyword}{const} QColor &\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
05998 \{
05999   \hyperlink{a00116_ac071280171e215ffc7d416118bc28d90}{mColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
06000 \}
06001 
\hypertarget{a00115_source_l06018}{}\hyperlink{a00116_aa0e1c44295da2706d0f12ad48f64b806}{06018} \textcolor{keywordtype}{void} \hyperlink{a00116_aa0e1c44295da2706d0f12ad48f64b806}{QCustomPlot::setRangeDrag}(Qt::Orientations orientations)
06019 \{
06020   \hyperlink{a00116_a8cc4277431ae5ab8e15cf2dfe5c17e1c}{mRangeDrag} = orientations;
06021 \}
06022 
\hypertarget{a00115_source_l06038}{}\hyperlink{a00116_ad4a0919e471549a2daea517ce6538ad8}{06038} \textcolor{keywordtype}{void} \hyperlink{a00116_ad4a0919e471549a2daea517ce6538ad8}{QCustomPlot::setRangeZoom}(Qt::Orientations orientations)
06039 \{
06040   \hyperlink{a00116_ac12a0fb503fccb899d786ceaa0a1a4f7}{mRangeZoom} = orientations;
06041 \}
06042 
\hypertarget{a00115_source_l06049}{}\hyperlink{a00116_a9fa10e826a174884391c1c839d52c0a3}{06049} \textcolor{keywordtype}{void} \hyperlink{a00116_a9fa10e826a174884391c1c839d52c0a3}{QCustomPlot::setRangeDragAxes}(\hyperlink{a00025}{QCPAxis} *horizontal, 
      \hyperlink{a00025}{QCPAxis} *vertical)
06050 \{
06051   \textcolor{keywordflow}{if} (horizontal)
06052     \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis} = horizontal;
06053   \textcolor{keywordflow}{if} (vertical)
06054     \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis} = vertical;
06055 \}
06056 
\hypertarget{a00115_source_l06064}{}\hyperlink{a00116_a9808f1736b8116c116bcccb53cdb210a}{06064} \textcolor{keywordtype}{void} \hyperlink{a00116_a9808f1736b8116c116bcccb53cdb210a}{QCustomPlot::setRangeZoomAxes}(\hyperlink{a00025}{QCPAxis} *horizontal, 
      \hyperlink{a00025}{QCPAxis} *vertical)
06065 \{
06066   \textcolor{keywordflow}{if} (horizontal)
06067     \hyperlink{a00116_a3239b66fb24563a5dda0503a69a892d5}{mRangeZoomHorzAxis} = horizontal;
06068   \textcolor{keywordflow}{if} (vertical)
06069     \hyperlink{a00116_a16094e9a3c30151c3c820cd9d4894b84}{mRangeZoomVertAxis} = vertical;
06070 \}
06071 
\hypertarget{a00115_source_l06082}{}\hyperlink{a00116_ab0589ec79b1081b13ffb7cf5791a8735}{06082} \textcolor{keywordtype}{void} \hyperlink{a00116_ab0589ec79b1081b13ffb7cf5791a8735}{QCustomPlot::setRangeZoomFactor}(\textcolor{keywordtype}{double} horizontalFactor, \textcolor{keywordtype}{double} 
      verticalFactor)
06083 \{
06084   \hyperlink{a00116_a575195f0c4e9f7a766495da2ac41e0a6}{mRangeZoomFactorHorz} = horizontalFactor;
06085   \hyperlink{a00116_a133700b56f6b8e472f99058b43f5a0e9}{mRangeZoomFactorVert} = verticalFactor;
06086 \}
06087 
\hypertarget{a00115_source_l06092}{}\hyperlink{a00116_abc0e662d15d41f7262a440818c6885d1}{06092} \textcolor{keywordtype}{void} \hyperlink{a00116_ab0589ec79b1081b13ffb7cf5791a8735}{QCustomPlot::setRangeZoomFactor}(\textcolor{keywordtype}{double} factor)
06093 \{
06094   \hyperlink{a00116_a575195f0c4e9f7a766495da2ac41e0a6}{mRangeZoomFactorHorz} = factor;
06095   \hyperlink{a00116_a133700b56f6b8e472f99058b43f5a0e9}{mRangeZoomFactorVert} = factor;
06096 \}
06097 
\hypertarget{a00115_source_l06112}{}\hyperlink{a00116_af6f91e5eab1be85f67c556e98c3745e8}{06112} \textcolor{keywordtype}{void} \hyperlink{a00116_af6f91e5eab1be85f67c556e98c3745e8}{QCustomPlot::setAntialiasedElements}(\textcolor{keyword}{const} QCP::AntialiasedElements 
      &\hyperlink{a00116_acc24388098ddb95f5a651cede3f34b99}{antialiasedElements})
06113 \{
06114   \hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements} = \hyperlink{a00116_acc24388098ddb95f5a651cede3f34b99}{antialiasedElements};
06115   
06116   \textcolor{comment}{// make sure elements aren't in mNotAntialiasedElements and mAntialiasedElements simultaneously:}
06117   \textcolor{keywordflow}{if} ((\hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} & \hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements}) != 0)
06118     \hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} |= ~mAntialiasedElements;
06119 \}
06120 
\hypertarget{a00115_source_l06135}{}\hyperlink{a00116_aeef813bcf7efab8e765f9f87ec454691}{06135} \textcolor{keywordtype}{void} \hyperlink{a00116_aeef813bcf7efab8e765f9f87ec454691}{QCustomPlot::setAntialiasedElement}(
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0c}{QCP::AntialiasedElement} antialiasedElement, \textcolor{keywordtype}{bool} enabled)
06136 \{
06137   \textcolor{keywordflow}{if} (!enabled && \hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements}.testFlag(antialiasedElement))
06138     \hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements} &= ~antialiasedElement;
06139   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enabled && !\hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements}.testFlag(antialiasedElement))
06140     \hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements} |= antialiasedElement;
06141   
06142   \textcolor{comment}{// make sure elements aren't in mNotAntialiasedElements and mAntialiasedElements simultaneously:}
06143   \textcolor{keywordflow}{if} ((\hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} & \hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements}) != 0)
06144     \hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} |= ~mAntialiasedElements;
06145 \}
06146 
\hypertarget{a00115_source_l06165}{}\hyperlink{a00116_ae10d685b5eabea2999fb8775ca173c24}{06165} \textcolor{keywordtype}{void} \hyperlink{a00116_ae10d685b5eabea2999fb8775ca173c24}{QCustomPlot::setNotAntialiasedElements}(\textcolor{keyword}{const} 
      QCP::AntialiasedElements &\hyperlink{a00116_ad611ed86732d07774545f5bd4b7f18b7}{notAntialiasedElements})
06166 \{
06167   \hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} = \hyperlink{a00116_ad611ed86732d07774545f5bd4b7f18b7}{notAntialiasedElements};
06168   
06169   \textcolor{comment}{// make sure elements aren't in mNotAntialiasedElements and mAntialiasedElements simultaneously:}
06170   \textcolor{keywordflow}{if} ((\hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} & \hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements}) != 0)
06171     mAntialiasedElements |= ~\hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements};
06172 \}
06173 
\hypertarget{a00115_source_l06191}{}\hyperlink{a00116_afc657938a707c890e449ae89203a076d}{06191} \textcolor{keywordtype}{void} \hyperlink{a00116_afc657938a707c890e449ae89203a076d}{QCustomPlot::setNotAntialiasedElement}(
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0c}{QCP::AntialiasedElement} notAntialiasedElement, \textcolor{keywordtype}{bool} enabled)
06192 \{
06193   \textcolor{keywordflow}{if} (!enabled && \hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements}.testFlag(notAntialiasedElement))
06194     \hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} &= ~notAntialiasedElement;
06195   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enabled && !\hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements}.testFlag(notAntialiasedElement))
06196     \hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} |= notAntialiasedElement;
06197   
06198   \textcolor{comment}{// make sure elements aren't in mNotAntialiasedElements and mAntialiasedElements simultaneously:}
06199   \textcolor{keywordflow}{if} ((\hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements} & \hyperlink{a00116_a18feaee1080c45b74782bdbf0c252f89}{mAntialiasedElements}) != 0)
06200     mAntialiasedElements |= ~\hyperlink{a00116_ac566e9d774e49dc4190346e02f31dcdf}{mNotAntialiasedElements};
06201 \}
06202 
\hypertarget{a00115_source_l06209}{}\hyperlink{a00116_ad8858410c2db47b7104040a3aa61c3fc}{06209} \textcolor{keywordtype}{void} \hyperlink{a00116_ad8858410c2db47b7104040a3aa61c3fc}{QCustomPlot::setAutoAddPlottableToLegend}(\textcolor{keywordtype}{bool} on)
06210 \{
06211   \hyperlink{a00116_ada47453c490f699c82bb400d749b2cf4}{mAutoAddPlottableToLegend} = on;
06212 \}
06213 
\hypertarget{a00115_source_l06222}{}\hyperlink{a00116_a6e61739de7485e99171c0fd5a57e27aa}{06222} \textcolor{keywordtype}{void} \hyperlink{a00116_a6e61739de7485e99171c0fd5a57e27aa}{QCustomPlot::setAxisBackground}(\textcolor{keyword}{const} QPixmap &pm)
06223 \{
06224   \hyperlink{a00116_ab93f80321dad937ebc6f2eaad1640c50}{mAxisBackground} = pm;
06225   \hyperlink{a00116_a9c0be35152f1cb89789149791f99044c}{mScaledAxisBackground} = QPixmap();
06226 \}
06227 
\hypertarget{a00115_source_l06233}{}\hyperlink{a00116_a010330bf3686716b9f7d643b3f5205db}{06233} \textcolor{keywordtype}{void} \hyperlink{a00116_a6e61739de7485e99171c0fd5a57e27aa}{QCustomPlot::setAxisBackground}(\textcolor{keyword}{const} QPixmap &pm, \textcolor{keywordtype}{bool} scaled, 
      Qt::AspectRatioMode mode)
06234 \{
06235   \hyperlink{a00116_ab93f80321dad937ebc6f2eaad1640c50}{mAxisBackground} = pm;
06236   \hyperlink{a00116_a9c0be35152f1cb89789149791f99044c}{mScaledAxisBackground} = QPixmap();
06237   \hyperlink{a00116_aa02865bc98b010e95c3aab39a3439ed0}{mAxisBackgroundScaled} = scaled;
06238   \hyperlink{a00116_a513c32c470438510a3341295b0ead04a}{mAxisBackgroundScaledMode} = mode;
06239 \}
06240 
\hypertarget{a00115_source_l06252}{}\hyperlink{a00116_a55ad8c13d7db8b5c2f15d694773a43a3}{06252} \textcolor{keywordtype}{void} \hyperlink{a00116_a55ad8c13d7db8b5c2f15d694773a43a3}{QCustomPlot::setAxisBackgroundScaled}(\textcolor{keywordtype}{bool} scaled)
06253 \{
06254   \hyperlink{a00116_aa02865bc98b010e95c3aab39a3439ed0}{mAxisBackgroundScaled} = scaled;
06255 \}
06256 
\hypertarget{a00115_source_l06262}{}\hyperlink{a00116_a82920d0db6cc36214dc4a9dfe386d1a1}{06262} \textcolor{keywordtype}{void} \hyperlink{a00116_a82920d0db6cc36214dc4a9dfe386d1a1}{QCustomPlot::setAxisBackgroundScaledMode}(Qt::AspectRatioMode 
      mode)
06263 \{
06264   \hyperlink{a00116_a513c32c470438510a3341295b0ead04a}{mAxisBackgroundScaledMode} = mode;
06265 \}
06266 
\hypertarget{a00115_source_l06319}{}\hyperlink{a00116_add9cc886ff5257f64fb4117cf6c135fe}{06319} \textcolor{keywordtype}{void} \hyperlink{a00116_add9cc886ff5257f64fb4117cf6c135fe}{QCustomPlot::setInteractions}(\textcolor{keyword}{const} Interactions &
      \hyperlink{a00116_aa9966a7b4022af4909a34d9a31f6b229}{interactions})
06320 \{
06321   \hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions} = \hyperlink{a00116_aa9966a7b4022af4909a34d9a31f6b229}{interactions};
06322 \}
06323 
06331 \textcolor{keywordtype}{void} \hyperlink{a00116_af9af5370ddc6e57f3e15809c1576cc38}{QCustomPlot::setInteraction}(\textcolor{keyword}{const} QCustomPlot::Interaction &interaction, \textcolor{keywordtype}{
      bool} enabled)
06332 \{
06333   \textcolor{keywordflow}{if} (!enabled && \hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(interaction))
06334     \hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions} &= ~interaction;
06335   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enabled && !\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(interaction))
06336     \hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions} |= interaction;
06337 \}
06338 
\hypertarget{a00115_source_l06352}{}\hyperlink{a00116_a4dc31241d7b09680950e19e5f971ed93}{06352} \textcolor{keywordtype}{void} \hyperlink{a00116_a4dc31241d7b09680950e19e5f971ed93}{QCustomPlot::setSelectionTolerance}(\textcolor{keywordtype}{int} pixels)
06353 \{
06354   \hyperlink{a00116_a6694031fcdb13682d098f5d21da86f97}{mSelectionTolerance} = pixels;
06355 \}
06356 
\hypertarget{a00115_source_l06362}{}\hyperlink{a00116_a2face1cc6d467f27aa1a6f3ba5ba112d}{06362} \textcolor{keywordtype}{void} \hyperlink{a00116_a2face1cc6d467f27aa1a6f3ba5ba112d}{QCustomPlot::setSelectedTitleFont}(\textcolor{keyword}{const} QFont &font)
06363 \{
06364   \hyperlink{a00116_a0857efaeb16b387fd17d6423d234cec8}{mSelectedTitleFont} = font;
06365 \}
06366 
\hypertarget{a00115_source_l06372}{}\hyperlink{a00116_ad0897d7ba31a3994d7323f568cdcd2d8}{06372} \textcolor{keywordtype}{void} \hyperlink{a00116_ad0897d7ba31a3994d7323f568cdcd2d8}{QCustomPlot::setSelectedTitleColor}(\textcolor{keyword}{const} QColor &
      \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
06373 \{
06374   \hyperlink{a00116_a6b947daad117396a1b6f9d9fe90094d8}{mSelectedTitleColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
06375 \}
06376 
\hypertarget{a00115_source_l06382}{}\hyperlink{a00116_aa89e06c04804ff2a0994ccb1aa80d131}{06382} \textcolor{keywordtype}{void} \hyperlink{a00116_aa89e06c04804ff2a0994ccb1aa80d131}{QCustomPlot::setTitleSelected}(\textcolor{keywordtype}{bool} selected)
06383 \{
06384   \hyperlink{a00116_a36e38c73ea27866ded778ca2a4ce907e}{mTitleSelected} = selected;
06385 \}
06386 
\hypertarget{a00115_source_l06396}{}\hyperlink{a00116_a775bdcb6329d44701aeaa6135b0e5265}{06396} \textcolor{keywordtype}{void} \hyperlink{a00116_a775bdcb6329d44701aeaa6135b0e5265}{QCustomPlot::setNoAntialiasingOnDrag}(\textcolor{keywordtype}{bool} enabled)
06397 \{
06398   \hyperlink{a00116_abfc5e49800e5ca84fa6312b9bb814b3b}{mNoAntialiasingOnDrag} = enabled;
06399 \}
06400 
\hypertarget{a00115_source_l06405}{}\hyperlink{a00116_a94a33cbdadbbac5934843508bcfc210d}{06405} \textcolor{keywordtype}{void} \hyperlink{a00116_a94a33cbdadbbac5934843508bcfc210d}{QCustomPlot::setPlottingHints}(\textcolor{keyword}{const} QCP::PlottingHints &hints)
06406 \{
06407   \hyperlink{a00116_af6de5d56e261af21cf6223179fc58883}{mPlottingHints} = hints;
06408 \}
06409 
\hypertarget{a00115_source_l06414}{}\hyperlink{a00116_a3b7c97bb6c16464e9e15190c07abe9a9}{06414} \textcolor{keywordtype}{void} \hyperlink{a00116_a3b7c97bb6c16464e9e15190c07abe9a9}{QCustomPlot::setPlottingHint}(QCP::PlottingHint hint, \textcolor{keywordtype}{bool} enabled)
06415 \{
06416   QCP::PlottingHints newHints = \hyperlink{a00116_af6de5d56e261af21cf6223179fc58883}{mPlottingHints};
06417   \textcolor{keywordflow}{if} (!enabled)
06418     newHints &= ~hint;
06419   \textcolor{keywordflow}{else}
06420     newHints |= hint;
06421   
06422   \textcolor{keywordflow}{if} (newHints != \hyperlink{a00116_af6de5d56e261af21cf6223179fc58883}{mPlottingHints})
06423     \hyperlink{a00116_a94a33cbdadbbac5934843508bcfc210d}{setPlottingHints}(newHints);
06424 \}
06425 
\hypertarget{a00115_source_l06436}{}\hyperlink{a00116_a8fc96e3b5138a06759a2a90c166df516}{06436} \textcolor{keywordtype}{void} \hyperlink{a00116_a8fc96e3b5138a06759a2a90c166df516}{QCustomPlot::setMultiSelectModifier}(Qt::KeyboardModifier modifier)
06437 \{
06438   \hyperlink{a00116_a690dbabf892af5969b09e9f69bb83a9b}{mMultiSelectModifier} = modifier;
06439 \}
06440 
06449 \hyperlink{a00024}{QCPAbstractPlottable} *\hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{QCustomPlot::plottable}(\textcolor{keywordtype}{int} index)
06450 \{
06451   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size())
06452   \{
06453     \textcolor{keywordflow}{return} \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(index);
06454   \} \textcolor{keywordflow}{else}
06455   \{
06456     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"index out of bounds:"} << index;
06457     \textcolor{keywordflow}{return} 0;
06458   \}
06459 \}
06460 
06468 \hyperlink{a00024}{QCPAbstractPlottable} *\hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{QCustomPlot::plottable}()
06469 \{
06470   \textcolor{keywordflow}{if} (!\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.isEmpty())
06471   \{
06472     \textcolor{keywordflow}{return} \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.last();
06473   \} \textcolor{keywordflow}{else}
06474     \textcolor{keywordflow}{return} 0;
06475 \}
06476 
\hypertarget{a00115_source_l06487}{}\hyperlink{a00116_ab7ad9174f701f9c6f64e378df77927a6}{06487} \textcolor{keywordtype}{bool} \hyperlink{a00116_ab7ad9174f701f9c6f64e378df77927a6}{QCustomPlot::addPlottable}(\hyperlink{a00024}{QCPAbstractPlottable} *
      \hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable})
06488 \{
06489   \textcolor{keywordflow}{if} (\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.contains(plottable))
06490   \{
06491     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"plottable already added to this QCustomPlot:"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}
      (\hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable});
06492     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
06493   \}
06494   \textcolor{keywordflow}{if} (plottable->\hyperlink{a00044_ab7e0e94461566093d36ffc0f5312b109}{parentPlot}() != \textcolor{keyword}{this})
06495   \{
06496     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"plottable not created with this QCustomPlot as parent:"} << \textcolor{keyword}{
      reinterpret\_cast<}quintptr\textcolor{keyword}{>}(\hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable});
06497     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
06498   \}
06499   
06500   \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.append(plottable);
06501   \textcolor{comment}{// possibly add plottable to legend:}
06502   \textcolor{keywordflow}{if} (\hyperlink{a00116_ada47453c490f699c82bb400d749b2cf4}{mAutoAddPlottableToLegend})
06503     plottable->\hyperlink{a00024_a70f8cabfd808f7d5204b9f18c45c13f5}{addToLegend}();
06504   \textcolor{comment}{// special handling for QCPGraphs to maintain the simple graph interface:}
06505   \textcolor{keywordflow}{if} (\hyperlink{a00031}{QCPGraph} *\hyperlink{a00116_ac6b19830ab0f0073ff3089cf7c9b3c2e}{graph} = qobject\_cast<QCPGraph*>(plottable))
06506     \hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.append(\hyperlink{a00116_ac6b19830ab0f0073ff3089cf7c9b3c2e}{graph});
06507   \textcolor{keywordflow}{if} (!plottable->\hyperlink{a00044_aea67e8c19145e70d68c286a36f6b8300}{layer}()) \textcolor{comment}{// usually the layer is already set in the constructor of the plottable
       (via QCPLayerable constructor)}
06508     plottable->\hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{setLayer}(\hyperlink{a00116_af73057345656cbd1463454982d808b00}{currentLayer}());
06509   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
06510 \}
06511 
\hypertarget{a00115_source_l06519}{}\hyperlink{a00116_af3dafd56884208474f311d6226513ab2}{06519} \textcolor{keywordtype}{bool} \hyperlink{a00116_af3dafd56884208474f311d6226513ab2}{QCustomPlot::removePlottable}(
      \hyperlink{a00024}{QCPAbstractPlottable} *\hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable})
06520 \{
06521   \textcolor{keywordflow}{if} (!\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.contains(plottable))
06522   \{
06523     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"plottable not in list:"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      \hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable});
06524     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
06525   \}
06526   
06527   \textcolor{comment}{// remove plottable from legend:}
06528   plottable->\hyperlink{a00024_aa1f350e510326d012b9a9c9249736c83}{removeFromLegend}();
06529   \textcolor{comment}{// special handling for QCPGraphs to maintain the simple graph interface:}
06530   \textcolor{keywordflow}{if} (\hyperlink{a00031}{QCPGraph} *\hyperlink{a00116_ac6b19830ab0f0073ff3089cf7c9b3c2e}{graph} = qobject\_cast<QCPGraph*>(plottable))
06531     \hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.removeOne(\hyperlink{a00116_ac6b19830ab0f0073ff3089cf7c9b3c2e}{graph});
06532   \textcolor{comment}{// remove plottable:}
06533   \textcolor{keyword}{delete} \hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable};
06534   \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.removeOne(plottable);
06535   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
06536 \}
06537 
\hypertarget{a00115_source_l06542}{}\hyperlink{a00116_afc210e0021480f8119bccf37839dbcc8}{06542} \textcolor{keywordtype}{bool} \hyperlink{a00116_af3dafd56884208474f311d6226513ab2}{QCustomPlot::removePlottable}(\textcolor{keywordtype}{int} index)
06543 \{
06544   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size())
06545     \textcolor{keywordflow}{return} \hyperlink{a00116_af3dafd56884208474f311d6226513ab2}{removePlottable}(\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}[index]);
06546   \textcolor{keywordflow}{else}
06547   \{
06548     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"index out of bounds:"} << index;
06549     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
06550   \}
06551 \}
06552 
\hypertarget{a00115_source_l06560}{}\hyperlink{a00116_a9a409bb3201878adb7ffba1c89c4e004}{06560} \textcolor{keywordtype}{int} \hyperlink{a00116_a9a409bb3201878adb7ffba1c89c4e004}{QCustomPlot::clearPlottables}()
06561 \{
06562   \textcolor{keywordtype}{int} c = \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size();
06563   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=c-1; i >= 0; --i)
06564     \hyperlink{a00116_af3dafd56884208474f311d6226513ab2}{removePlottable}(\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}[i]);
06565   \textcolor{keywordflow}{return} c;
06566 \}
06567 
\hypertarget{a00115_source_l06573}{}\hyperlink{a00116_a2dbfbf15dc38713f9a1c445a3dd2e989}{06573} \textcolor{keywordtype}{int} \hyperlink{a00116_a2dbfbf15dc38713f9a1c445a3dd2e989}{QCustomPlot::plottableCount}()\textcolor{keyword}{ const}
06574 \textcolor{keyword}{}\{
06575   \textcolor{keywordflow}{return} \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size();
06576 \}
06577 
\hypertarget{a00115_source_l06585}{}\hyperlink{a00116_a6721b8c689bb7f2f400987e580508fe8}{06585} QList<QCPAbstractPlottable*> \hyperlink{a00116_a6721b8c689bb7f2f400987e580508fe8}{QCustomPlot::selectedPlottables}()\textcolor{keyword}{ const}
06586 \textcolor{keyword}{}\{
06587   QList<QCPAbstractPlottable*> result;
06588   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size(); ++i)
06589   \{
06590     \textcolor{keywordflow}{if} (\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i)->selected())
06591       result.append(\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i));
06592   \}
06593   \textcolor{keywordflow}{return} result;
06594 \}
06595 
\hypertarget{a00115_source_l06606}{}\hyperlink{a00116_ac1d1bc6ae4e13616fb02cef6d9e2188e}{06606} \hyperlink{a00024}{QCPAbstractPlottable} *\hyperlink{a00116_ac1d1bc6ae4e13616fb02cef6d9e2188e}{QCustomPlot::plottableAt}(\textcolor{keyword}{const} QPointF &
      pos, \textcolor{keywordtype}{bool} onlySelectable)\textcolor{keyword}{ const}
06607 \textcolor{keyword}{}\{
06608   \hyperlink{a00024}{QCPAbstractPlottable} *resultPlottable = 0;
06609   \textcolor{keywordtype}{double} resultDistance = \hyperlink{a00116_a6694031fcdb13682d098f5d21da86f97}{mSelectionTolerance}; \textcolor{comment}{// only regard clicks with distances
       smaller than mSelectionTolerance as selections, so initialize with that value}
06610   
06611   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size(); ++i)
06612   \{
06613     \hyperlink{a00024}{QCPAbstractPlottable} *currentPlottable = \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}[i];
06614     \textcolor{keywordflow}{if} (onlySelectable && !currentPlottable->\hyperlink{a00024_af895574da1ec0d050711b6c9deda296a}{selectable}())
06615       \textcolor{keywordflow}{continue};
06616     \textcolor{keywordflow}{if} ((currentPlottable->\hyperlink{a00024_a72c7a09c22963f2c943f07112b311103}{keyAxis}()->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}() | currentPlottable->
      \hyperlink{a00024_a3106f9d34d330a6097a8ec5905e5b519}{valueAxis}()->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}()).contains(pos.toPoint())) \textcolor{comment}{// only consider clicks inside the rect
       that is spanned by the plottable's key/value axes}
06617     \{
06618       \textcolor{keywordtype}{double} currentDistance = currentPlottable->\hyperlink{a00024_a0fd218d6c4974b6ab05bd2f688818556}{selectTest}(pos);
06619       \textcolor{keywordflow}{if} (currentDistance >= 0 && currentDistance < resultDistance)
06620       \{
06621         resultPlottable = currentPlottable;
06622         resultDistance = currentDistance;
06623       \}
06624     \}
06625   \}
06626   
06627   \textcolor{keywordflow}{return} resultPlottable;
06628 \}
06629 
\hypertarget{a00115_source_l06635}{}\hyperlink{a00116_a4fc28914e2ee91aab424b7ce46b6bdf1}{06635} \textcolor{keywordtype}{bool} \hyperlink{a00116_a4fc28914e2ee91aab424b7ce46b6bdf1}{QCustomPlot::hasPlottable}(\hyperlink{a00024}{QCPAbstractPlottable} *
      \hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable})\textcolor{keyword}{ const}
06636 \textcolor{keyword}{}\{
06637   \textcolor{keywordflow}{return} \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.contains(plottable);
06638 \}
06639 
06648 \hyperlink{a00031}{QCPGraph} *\hyperlink{a00116_ac6b19830ab0f0073ff3089cf7c9b3c2e}{QCustomPlot::graph}(\textcolor{keywordtype}{int} index)\textcolor{keyword}{ const}
06649 \textcolor{keyword}{}\{
06650   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.size())
06651   \{
06652     \textcolor{keywordflow}{return} \hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.at(index);
06653   \} \textcolor{keywordflow}{else}
06654   \{
06655     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"index out of bounds:"} << index;
06656     \textcolor{keywordflow}{return} 0;
06657   \}
06658 \}
06659 
06667 \hyperlink{a00031}{QCPGraph} *\hyperlink{a00116_ac6b19830ab0f0073ff3089cf7c9b3c2e}{QCustomPlot::graph}()\textcolor{keyword}{ const}
06668 \textcolor{keyword}{}\{
06669   \textcolor{keywordflow}{if} (!\hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.isEmpty())
06670   \{
06671     \textcolor{keywordflow}{return} \hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.last();
06672   \} \textcolor{keywordflow}{else}
06673     \textcolor{keywordflow}{return} 0;
06674 \}
06675 
\hypertarget{a00115_source_l06688}{}\hyperlink{a00116_a6fb2873d35a8a8089842d81a70a54167}{06688} \hyperlink{a00031}{QCPGraph} *\hyperlink{a00116_a6fb2873d35a8a8089842d81a70a54167}{QCustomPlot::addGraph}(\hyperlink{a00025}{QCPAxis} *keyAxis, 
      \hyperlink{a00025}{QCPAxis} *valueAxis)
06689 \{
06690   \textcolor{keywordflow}{if} (!keyAxis) keyAxis = \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis};
06691   \textcolor{keywordflow}{if} (!valueAxis) valueAxis = \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis};
06692   \textcolor{keywordflow}{if} (keyAxis->\hyperlink{a00044_ab7e0e94461566093d36ffc0f5312b109}{parentPlot}() != \textcolor{keyword}{this} || valueAxis->\hyperlink{a00044_ab7e0e94461566093d36ffc0f5312b109}{parentPlot}() != \textcolor{keyword}{this})
06693   \{
06694     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"passed keyAxis or valueAxis doesn't have this QCustomPlot as parent"};
06695     \textcolor{keywordflow}{return} 0;
06696   \}
06697   
06698   \hyperlink{a00031}{QCPGraph} *newGraph = \textcolor{keyword}{new} \hyperlink{a00031}{QCPGraph}(keyAxis, valueAxis);
06699   \textcolor{keywordflow}{if} (\hyperlink{a00116_ab7ad9174f701f9c6f64e378df77927a6}{addPlottable}(newGraph))
06700   \{
06701     newGraph->\hyperlink{a00024_ab79c7ba76bc7fa89a4b3580e12149f1f}{setName}(\textcolor{stringliteral}{"Graph "}+QString::number(\hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.size()));
06702     \textcolor{keywordflow}{return} newGraph;
06703   \} \textcolor{keywordflow}{else}
06704   \{
06705     \textcolor{keyword}{delete} newGraph;
06706     \textcolor{keywordflow}{return} 0;
06707   \}
06708 \}
06709 
\hypertarget{a00115_source_l06719}{}\hyperlink{a00116_a903561be895fb6528a770d66ac5e6713}{06719} \textcolor{keywordtype}{bool} \hyperlink{a00116_a903561be895fb6528a770d66ac5e6713}{QCustomPlot::removeGraph}(\hyperlink{a00031}{QCPGraph} *\hyperlink{a00116_ac6b19830ab0f0073ff3089cf7c9b3c2e}{graph})
06720 \{
06721   \textcolor{keywordflow}{return} \hyperlink{a00116_af3dafd56884208474f311d6226513ab2}{removePlottable}(graph);
06722 \}
06723 
\hypertarget{a00115_source_l06728}{}\hyperlink{a00116_a9554b3d2d5b10c0f884bd4010b6c192c}{06728} \textcolor{keywordtype}{bool} \hyperlink{a00116_a903561be895fb6528a770d66ac5e6713}{QCustomPlot::removeGraph}(\textcolor{keywordtype}{int} index)
06729 \{
06730   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.size())
06731     \textcolor{keywordflow}{return} \hyperlink{a00116_a903561be895fb6528a770d66ac5e6713}{removeGraph}(\hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}[index]);
06732   \textcolor{keywordflow}{else}
06733     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
06734 \}
06735 
\hypertarget{a00115_source_l06741}{}\hyperlink{a00116_ab0f3abff2d2f7df3668b5836f39207fa}{06741} \textcolor{keywordtype}{int} \hyperlink{a00116_ab0f3abff2d2f7df3668b5836f39207fa}{QCustomPlot::clearGraphs}()
06742 \{
06743   \textcolor{keywordtype}{int} c = \hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.size();
06744   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=c-1; i >= 0; --i)
06745     \hyperlink{a00116_a903561be895fb6528a770d66ac5e6713}{removeGraph}(\hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}[i]);
06746   \textcolor{keywordflow}{return} c;
06747 \}
06748 
\hypertarget{a00115_source_l06754}{}\hyperlink{a00116_a7d9b4d19114b2fde60f0233eeb0aa682}{06754} \textcolor{keywordtype}{int} \hyperlink{a00116_a7d9b4d19114b2fde60f0233eeb0aa682}{QCustomPlot::graphCount}()\textcolor{keyword}{ const}
06755 \textcolor{keyword}{}\{
06756   \textcolor{keywordflow}{return} \hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.size();
06757 \}
06758 
\hypertarget{a00115_source_l06768}{}\hyperlink{a00116_ad2a0493bdd01e7aa99a4209ae3a5b67b}{06768} QList<QCPGraph*> \hyperlink{a00116_ad2a0493bdd01e7aa99a4209ae3a5b67b}{QCustomPlot::selectedGraphs}()\textcolor{keyword}{ const}
06769 \textcolor{keyword}{}\{
06770   QList<QCPGraph*> result;
06771   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.size(); ++i)
06772   \{
06773     \textcolor{keywordflow}{if} (\hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.at(i)->selected())
06774       result.append(\hyperlink{a00116_a54ed2081d9366a6c2137bf9d9f7b8371}{mGraphs}.at(i));
06775   \}
06776   \textcolor{keywordflow}{return} result;
06777 \}
06778 
06787 \hyperlink{a00022}{QCPAbstractItem} *\hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{QCustomPlot::item}(\textcolor{keywordtype}{int} index)\textcolor{keyword}{ const}
06788 \textcolor{keyword}{}\{
06789   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.size())
06790   \{
06791     \textcolor{keywordflow}{return} \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(index);
06792   \} \textcolor{keywordflow}{else}
06793   \{
06794     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"index out of bounds:"} << index;
06795     \textcolor{keywordflow}{return} 0;
06796   \}
06797 \}
06798 
06806 \hyperlink{a00022}{QCPAbstractItem} *\hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{QCustomPlot::item}()\textcolor{keyword}{ const}
06807 \textcolor{keyword}{}\{
06808   \textcolor{keywordflow}{if} (!\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.isEmpty())
06809   \{
06810     \textcolor{keywordflow}{return} \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.last();
06811   \} \textcolor{keywordflow}{else}
06812     \textcolor{keywordflow}{return} 0;
06813 \}
06814 
06823 \textcolor{keywordtype}{bool} \hyperlink{a00116_a5207a6de1832fa2c156c9e0338e49810}{QCustomPlot::addItem}(\hyperlink{a00022}{QCPAbstractItem} *
      \hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{item})
06824 \{
06825   \textcolor{keywordflow}{if} (!\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.contains(item) && item->\hyperlink{a00044_ab7e0e94461566093d36ffc0f5312b109}{parentPlot}() == \textcolor{keyword}{this})
06826   \{
06827     \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.append(item);
06828     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
06829   \} \textcolor{keywordflow}{else}
06830   \{
06831     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"item either already in list or not created with this QCustomPlot as parent:
      "} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(\hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{item});
06832     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
06833   \}
06834 \}
06835 
06843 \textcolor{keywordtype}{bool} \hyperlink{a00116_ae68a4ab305034c0fe733a95704e4db5e}{QCustomPlot::removeItem}(\hyperlink{a00022}{QCPAbstractItem} *item)
06844 \{
06845   \textcolor{keywordflow}{if} (\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.contains(item))
06846   \{
06847     \textcolor{keyword}{delete} \hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{item};
06848     \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.removeOne(item);
06849     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
06850   \} \textcolor{keywordflow}{else}
06851   \{
06852     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"item not in list:"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      \hyperlink{a00116_aac743a709d025448e36cb65c9117d64b}{item});
06853     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
06854   \}
06855 \}
06856 
06861 \textcolor{keywordtype}{bool} \hyperlink{a00116_ae68a4ab305034c0fe733a95704e4db5e}{QCustomPlot::removeItem}(\textcolor{keywordtype}{int} index)
06862 \{
06863   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.size())
06864     \textcolor{keywordflow}{return} \hyperlink{a00116_ae68a4ab305034c0fe733a95704e4db5e}{removeItem}(\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}[index]);
06865   \textcolor{keywordflow}{else}
06866   \{
06867     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"index out of bounds:"} << index;
06868     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
06869   \}
06870 \}
06871 
06879 \textcolor{keywordtype}{int} \hyperlink{a00116_a9d204691a56aadcba8365a49637fa145}{QCustomPlot::clearItems}()
06880 \{
06881   \textcolor{keywordtype}{int} c = \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.size();
06882   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=c-1; i >= 0; --i)
06883     \hyperlink{a00116_ae68a4ab305034c0fe733a95704e4db5e}{removeItem}(\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}[i]);
06884   \textcolor{keywordflow}{return} c;
06885 \}
06886 
06892 \textcolor{keywordtype}{int} \hyperlink{a00116_a7ec4c2b995ae77fc3ecade97c42c52e0}{QCustomPlot::itemCount}()\textcolor{keyword}{ const}
06893 \textcolor{keyword}{}\{
06894   \textcolor{keywordflow}{return} \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.size();
06895 \}
06896 
06902 QList<QCPAbstractItem*> \hyperlink{a00116_a3714adb0a26b8cf1bd70740a7ea464c4}{QCustomPlot::selectedItems}()\textcolor{keyword}{ const}
06903 \textcolor{keyword}{}\{
06904   QList<QCPAbstractItem*> result;
06905   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.size(); ++i)
06906   \{
06907     \textcolor{keywordflow}{if} (\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i)->selected())
06908       result.append(\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i));
06909   \}
06910   \textcolor{keywordflow}{return} result;
06911 \}
06912 
\hypertarget{a00115_source_l06924}{}\hyperlink{a00116_a793e4b04e0ede11a733021907368fa83}{06924} \hyperlink{a00022}{QCPAbstractItem} *\hyperlink{a00116_a793e4b04e0ede11a733021907368fa83}{QCustomPlot::itemAt}(\textcolor{keyword}{const} QPointF &pos, \textcolor{keywordtype}{bool} 
      onlySelectable)\textcolor{keyword}{ const}
06925 \textcolor{keyword}{}\{
06926   \hyperlink{a00022}{QCPAbstractItem} *resultItem = 0;
06927   \textcolor{keywordtype}{double} resultDistance = \hyperlink{a00116_a6694031fcdb13682d098f5d21da86f97}{mSelectionTolerance}; \textcolor{comment}{// only regard clicks with distances
       smaller than mSelectionTolerance as selections, so initialize with that value}
06928   
06929   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.size(); ++i)
06930   \{
06931     \hyperlink{a00022}{QCPAbstractItem} *currentItem = \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}[i];
06932     \textcolor{keywordflow}{if} (onlySelectable && !currentItem->\hyperlink{a00022_a9189e752025533e1595eaade0009a3bc}{selectable}())
06933       \textcolor{keywordflow}{continue};
06934     \textcolor{keywordflow}{if} (!currentItem->\hyperlink{a00022_a5b0ea171823033bcb8aee81f4a034871}{clipToAxisRect}() || currentItem->\hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}().contains(pos.
      toPoint())) \textcolor{comment}{// only consider clicks inside axis cliprect of the item if actually clipped to it}
06935     \{
06936       \textcolor{keywordtype}{double} currentDistance = currentItem->\hyperlink{a00022_a2e19e88f67f4ba9c13b7e33bd447c075}{selectTest}(pos);
06937       \textcolor{keywordflow}{if} (currentDistance >= 0 && currentDistance < resultDistance)
06938       \{
06939         resultItem = currentItem;
06940         resultDistance = currentDistance;
06941       \}
06942     \}
06943   \}
06944   
06945   \textcolor{keywordflow}{return} resultItem;
06946 \}
06947 
06953 \hyperlink{a00043}{QCPLayer} *\hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{QCustomPlot::layer}(\textcolor{keyword}{const} QString &name)\textcolor{keyword}{ const}
06954 \textcolor{keyword}{}\{
06955   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.size(); ++i)
06956   \{
06957     \textcolor{keywordflow}{if} (\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.at(i)->name() == name)
06958       \textcolor{keywordflow}{return} \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.at(i);
06959   \}
06960   \textcolor{keywordflow}{return} 0;
06961 \}
06962 
06969 \hyperlink{a00043}{QCPLayer} *\hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{QCustomPlot::layer}(\textcolor{keywordtype}{int} index)\textcolor{keyword}{ const}
06970 \textcolor{keyword}{}\{
06971   \textcolor{keywordflow}{if} (index >= 0 && index < \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.size())
06972   \{
06973     \textcolor{keywordflow}{return} \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.at(index);
06974   \} \textcolor{keywordflow}{else}
06975   \{
06976     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"index out of bounds:"} << index;
06977     \textcolor{keywordflow}{return} 0;
06978   \}
06979 \}
06980 
\hypertarget{a00115_source_l06984}{}\hyperlink{a00116_af73057345656cbd1463454982d808b00}{06984} \hyperlink{a00043}{QCPLayer} *\hyperlink{a00116_af73057345656cbd1463454982d808b00}{QCustomPlot::currentLayer}()\textcolor{keyword}{ const}
06985 \textcolor{keyword}{}\{
06986   \textcolor{keywordflow}{return} \hyperlink{a00116_ae9821179b860bf04af25882e881e5e09}{mCurrentLayer}; 
06987 \}
06988 
\hypertarget{a00115_source_l06998}{}\hyperlink{a00116_a73a6dc47c653bb6f8f030abca5a11852}{06998} \textcolor{keywordtype}{bool} \hyperlink{a00116_a73a6dc47c653bb6f8f030abca5a11852}{QCustomPlot::setCurrentLayer}(\textcolor{keyword}{const} QString &name)
06999 \{
07000   \textcolor{keywordflow}{if} (\hyperlink{a00043}{QCPLayer} *newCurrentLayer = \hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer}(name))
07001   \{
07002     \textcolor{keywordflow}{return} \hyperlink{a00116_a73a6dc47c653bb6f8f030abca5a11852}{setCurrentLayer}(newCurrentLayer);
07003   \} \textcolor{keywordflow}{else}
07004   \{
07005     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"layer with name doesn't exist:"} << name;
07006     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
07007   \}
07008 \}
07009 
\hypertarget{a00115_source_l07018}{}\hyperlink{a00116_a23a4d3cadad1a0063c5fe19aac5659e6}{07018} \textcolor{keywordtype}{bool} \hyperlink{a00116_a73a6dc47c653bb6f8f030abca5a11852}{QCustomPlot::setCurrentLayer}(\hyperlink{a00043}{QCPLayer} *
      \hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer})
07019 \{
07020   \textcolor{keywordflow}{if} (!\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.contains(layer))
07021   \{
07022     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"layer not a layer of this QCustomPlot:"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      \hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer});
07023     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
07024   \}
07025   
07026   \hyperlink{a00116_ae9821179b860bf04af25882e881e5e09}{mCurrentLayer} = \hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer};
07027   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
07028 \}
07029 
\hypertarget{a00115_source_l07035}{}\hyperlink{a00116_a1b3926884f5bd4bdda1495d8b3c891d0}{07035} \textcolor{keywordtype}{int} \hyperlink{a00116_a1b3926884f5bd4bdda1495d8b3c891d0}{QCustomPlot::layerCount}()\textcolor{keyword}{ const}
07036 \textcolor{keyword}{}\{
07037   \textcolor{keywordflow}{return} \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.size();
07038 \}
07039 
07053 \textcolor{keywordtype}{bool} \hyperlink{a00116_acfae623ec58e4f9e35014062580e4720}{QCustomPlot::addLayer}(\textcolor{keyword}{const} QString &name, \hyperlink{a00043}{QCPLayer} *otherLayer, 
      \hyperlink{a00116_acf68ae22e9b44e959fc82bc6366e9b8d}{QCustomPlot::LayerInsertMode} insertMode)
07054 \{
07055   \textcolor{keywordflow}{if} (!otherLayer)
07056     otherLayer = \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.last();
07057   \textcolor{keywordflow}{if} (!\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.contains(otherLayer))
07058   \{
07059     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"otherLayer not a layer of this QCustomPlot:"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      otherLayer);
07060     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
07061   \}
07062   \textcolor{keywordflow}{if} (\hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer}(name))
07063   \{
07064     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"A layer exists already with the name"} << name;
07065     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
07066   \}
07067     
07068   \hyperlink{a00043}{QCPLayer} *newLayer = \textcolor{keyword}{new} \hyperlink{a00116_a5dbf96bf7664c1b6fce49063eeea6eef}{QCPLayer}(\textcolor{keyword}{this}, name);
07069   \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.insert(otherLayer->\hyperlink{a00043_ad5d7010829a6b99f326b07d7e37c8c99}{index}() + (insertMode==\hyperlink{a00116_acf68ae22e9b44e959fc82bc6366e9b8da065748f172d5a34ffd1e09924d55cc17}{limAbove} ? 1:0), newLayer);
07070   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
07071 \}
07072 
\hypertarget{a00115_source_l07087}{}\hyperlink{a00116_a40f75e342c5eaab6a86066a42a0e2a94}{07087} \textcolor{keywordtype}{bool} \hyperlink{a00116_a40f75e342c5eaab6a86066a42a0e2a94}{QCustomPlot::removeLayer}(\hyperlink{a00043}{QCPLayer} *\hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer})
07088 \{
07089   \textcolor{keywordflow}{if} (!\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.contains(layer))
07090   \{
07091     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"layer not a layer of this QCustomPlot:"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      \hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer});
07092     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
07093   \}
07094   \textcolor{keywordflow}{if} (!\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.size() > 1)
07095   \{
07096     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"can't remove last layer"};
07097     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
07098   \}
07099   
07100   \textcolor{comment}{// append all children of this layer to layer below (if this is lowest layer, prepend to layer above)}
07101   \textcolor{keywordtype}{int} removedIndex = layer->\hyperlink{a00043_ad5d7010829a6b99f326b07d7e37c8c99}{index}();
07102   \textcolor{keywordtype}{bool} isFirstLayer = removedIndex==0;
07103   \hyperlink{a00043}{QCPLayer} *targetLayer = isFirstLayer ? \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.at(removedIndex+1) : 
      \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.at(removedIndex-1);
07104   QList<QCPLayerable*> children = layer->\hyperlink{a00043_a94c2f0100e48cefad2de8fe0fbb03c27}{children}();
07105   \textcolor{keywordflow}{if} (isFirstLayer) \textcolor{comment}{// prepend in reverse order (so order relative to each other stays the same)}
07106   \{
07107     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=children.size()-1; i>=0; --i)
07108       children.at(i)->moveToLayer(targetLayer, \textcolor{keyword}{true});
07109   \} \textcolor{keywordflow}{else}  \textcolor{comment}{// append normally}
07110   \{
07111     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<children.size(); ++i)
07112       children.at(i)->moveToLayer(targetLayer, \textcolor{keyword}{false});
07113   \}
07114   \textcolor{comment}{// if removed layer is current layer, change current layer to layer below/above:}
07115   \textcolor{keywordflow}{if} (layer == \hyperlink{a00116_ae9821179b860bf04af25882e881e5e09}{mCurrentLayer})
07116     \hyperlink{a00116_a73a6dc47c653bb6f8f030abca5a11852}{setCurrentLayer}(targetLayer);
07117   \textcolor{comment}{// remove layer:}
07118   \textcolor{keyword}{delete} \hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer};
07119   \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.removeOne(layer);
07120   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
07121 \}
07122 
07132 \textcolor{keywordtype}{bool} \hyperlink{a00116_ad18d1ff9086f2e658b81d67d3c84a0c3}{QCustomPlot::moveLayer}(\hyperlink{a00043}{QCPLayer} *\hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer}, 
      \hyperlink{a00043}{QCPLayer} *otherLayer, \hyperlink{a00116_acf68ae22e9b44e959fc82bc6366e9b8d}{QCustomPlot::LayerInsertMode} insertMode)
07133 \{
07134   \textcolor{keywordflow}{if} (!\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.contains(layer))
07135   \{
07136     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"layer not a layer of this QCustomPlot:"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      \hyperlink{a00116_ae576ada60c1133318e29348d43d3cf10}{layer});
07137     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
07138   \}
07139   \textcolor{keywordflow}{if} (!\hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.contains(otherLayer))
07140   \{
07141     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"otherLayer not a layer of this QCustomPlot:"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      otherLayer);
07142     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
07143   \}
07144   
07145   \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.move(layer->\hyperlink{a00043_ad5d7010829a6b99f326b07d7e37c8c99}{index}(), otherLayer->\hyperlink{a00043_ad5d7010829a6b99f326b07d7e37c8c99}{index}() + (insertMode==
      \hyperlink{a00116_acf68ae22e9b44e959fc82bc6366e9b8da065748f172d5a34ffd1e09924d55cc17}{limAbove} ? 1:0));
07146   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
07147 \}
07148 
\hypertarget{a00115_source_l07154}{}\hyperlink{a00116_aa6baf867e8beb96ed5bd471f83ece903}{07154} QList<QCPAxis*> \hyperlink{a00116_aa6baf867e8beb96ed5bd471f83ece903}{QCustomPlot::selectedAxes}()\textcolor{keyword}{ const}
07155 \textcolor{keyword}{}\{
07156   QList<QCPAxis*> result = QList<QCPAxis*>() << \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis} << \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis} << 
      \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2} << \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2};
07157   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=result.size()-1; i>=0; --i)
07158   \{
07159     \textcolor{keywordflow}{if} (result.at(i)->selected() == QCPAxis::spNone)
07160       result.removeAt(i);
07161   \}
07162   \textcolor{keywordflow}{return} result;
07163 \}
07164 
\hypertarget{a00115_source_l07171}{}\hyperlink{a00116_a1ea6297300c3e2770e65f95836411755}{07171} QList<QCPLegend*> \hyperlink{a00116_a1ea6297300c3e2770e65f95836411755}{QCustomPlot::selectedLegends}()\textcolor{keyword}{ const}
07172 \textcolor{keyword}{}\{
07173   \textcolor{comment}{/* for now, we only have the one legend. Maybe later, there will be a mechanism to have more. */}
07174   QList<QCPLegend*> result;
07175   \textcolor{keywordflow}{if} (\hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00045_a10948e896935ad14f374e6f712afaae9}{selected}() != QCPLegend::spNone)
07176     result.append(\hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend});
07177   \textcolor{keywordflow}{return} result;
07178 \}
07179 
\hypertarget{a00115_source_l07189}{}\hyperlink{a00116_a9d4808ab925b003054085246c92a257c}{07189} \textcolor{keywordtype}{void} \hyperlink{a00116_a9d4808ab925b003054085246c92a257c}{QCustomPlot::deselectAll}()
07190 \{
07191   \textcolor{comment}{// deselect plottables:}
07192   QList<QCPAbstractPlottable*> selPlottables = \hyperlink{a00116_a6721b8c689bb7f2f400987e580508fe8}{selectedPlottables}();
07193   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<selPlottables.size(); ++i)
07194     selPlottables.at(i)->setSelected(\textcolor{keyword}{false});
07195   
07196   \textcolor{comment}{// deselect items:}
07197   QList<QCPAbstractItem*> selItems = \hyperlink{a00116_a3714adb0a26b8cf1bd70740a7ea464c4}{selectedItems}();
07198   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<selItems.size(); ++i)
07199     selItems.at(i)->setSelected(\textcolor{keyword}{false});
07200   
07201   \textcolor{comment}{// deselect axes:}
07202   QList<QCPAxis*> selAxes = \hyperlink{a00116_aa6baf867e8beb96ed5bd471f83ece903}{selectedAxes}();
07203   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<selAxes.size(); ++i)
07204     selAxes.at(i)->setSelected(QCPAxis::spNone);
07205   
07206   \textcolor{comment}{// deselect legend (and legend items):}
07207   \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00045_a752c48b30f8ba870b55e79659385f107}{setSelected}(QCPLegend::spNone);
07208   
07209   \textcolor{comment}{// deselect title:}
07210   \hyperlink{a00116_aa89e06c04804ff2a0994ccb1aa80d131}{setTitleSelected}(\textcolor{keyword}{false});
07211 \}
07212 
\hypertarget{a00115_source_l07221}{}\hyperlink{a00116_a563540b54b2a09c8ef092d42e9621f42}{07221} \textcolor{keywordtype}{void} \hyperlink{a00116_a563540b54b2a09c8ef092d42e9621f42}{QCustomPlot::replot}()
07222 \{
07223   \textcolor{keywordflow}{if} (\hyperlink{a00116_a38ce5778fc22072b64b7ccc05963c684}{mReplotting}) \textcolor{comment}{// incase signals loop back to replot slot}
07224     \textcolor{keywordflow}{return};
07225   \hyperlink{a00116_a38ce5778fc22072b64b7ccc05963c684}{mReplotting} = \textcolor{keyword}{true};
07226   emit \hyperlink{a00116_a0cd30e29b73efd6afe096e44bc5956f5}{beforeReplot}();
07227   \hyperlink{a00116_a804ea55d1894964076fe02acf11da591}{mPaintBuffer}.fill(\hyperlink{a00116_ac071280171e215ffc7d416118bc28d90}{mColor});
07228   \hyperlink{a00047}{QCPPainter} painter;
07229   painter.begin(&\hyperlink{a00116_a804ea55d1894964076fe02acf11da591}{mPaintBuffer});
07230   \textcolor{keywordflow}{if} (painter.isActive()) 
07231   \{
07232     painter.setRenderHint(QPainter::HighQualityAntialiasing);
07233     \hyperlink{a00116_a2e9b3d14dffa43c79835869d488936c9}{draw}(&painter);
07234     \textcolor{keywordflow}{if} (\hyperlink{a00116_af6de5d56e261af21cf6223179fc58883}{mPlottingHints}.testFlag(QCP::phForceRepaint))
07235       repaint();
07236     \textcolor{keywordflow}{else}
07237       update();
07238     painter.end();
07239   \} \textcolor{keywordflow}{else} \textcolor{comment}{// might happen if QCustomPlot has width or height zero}
07240     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Couldn't activate painter on buffer"};
07241   emit \hyperlink{a00116_a6f4fa624af060bc5919c5f266cf426a0}{afterReplot}();
07242   \hyperlink{a00116_a38ce5778fc22072b64b7ccc05963c684}{mReplotting} = \textcolor{keyword}{false};
07243 \}
07244 
\hypertarget{a00115_source_l07265}{}\hyperlink{a00116_ad27d34bcc9e68b5482d128e2f1e38f55}{07265} \textcolor{keywordtype}{void} \hyperlink{a00116_ad27d34bcc9e68b5482d128e2f1e38f55}{QCustomPlot::setupFullAxesBox}()
07266 \{
07267   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00044_a3bed99ddc396b48ce3ebfdc0418744f8}{setVisible}(\textcolor{keyword}{true});
07268   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00044_a3bed99ddc396b48ce3ebfdc0418744f8}{setVisible}(\textcolor{keyword}{true});
07269   
07270   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a04ba16e1f6f78d70f938519576ed32c8}{setTickLabels}(\textcolor{keyword}{false});
07271   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a04ba16e1f6f78d70f938519576ed32c8}{setTickLabels}(\textcolor{keyword}{false});
07272   
07273   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_adcbdec7a60054b88571e89599f4a45bf}{setAutoSubTicks}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_ab9a950e16f373fe5c4b79078bb97c171}{autoSubTicks}());
07274   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_adcbdec7a60054b88571e89599f4a45bf}{setAutoSubTicks}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_ab9a950e16f373fe5c4b79078bb97c171}{autoSubTicks}());
07275   
07276   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a7c7111cbeac9ec5fcb40f93a1ef51a0b}{setAutoTickCount}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_ac87454a1342f5d2939ab59e68b4d515b}{autoTickCount}());
07277   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a7c7111cbeac9ec5fcb40f93a1ef51a0b}{setAutoTickCount}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_ac87454a1342f5d2939ab59e68b4d515b}{autoTickCount}());
07278   
07279   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a99fe77b034e06f5b723995beab96e741}{setAutoTickStep}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_ae762920261b0c24beb56b893e5a2471d}{autoTickStep}());
07280   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a99fe77b034e06f5b723995beab96e741}{setAutoTickStep}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_ae762920261b0c24beb56b893e5a2471d}{autoTickStep}());
07281   
07282   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_adb6c5c45bdf899ea221881dd3b43b406}{setScaleType}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_a8563e13407bc0616da7f7c84e02de170}{scaleType}());
07283   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_adb6c5c45bdf899ea221881dd3b43b406}{setScaleType}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_a8563e13407bc0616da7f7c84e02de170}{scaleType}());
07284   
07285   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a726186054be90487885a748aa1b42188}{setScaleLogBase}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_ac937d2a602f865aff2ab6c1e288739f6}{scaleLogBase}());
07286   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a726186054be90487885a748aa1b42188}{setScaleLogBase}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_ac937d2a602f865aff2ab6c1e288739f6}{scaleLogBase}());
07287   
07288   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_ac891409315bc379e3b1abdb162c1a011}{setTicks}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_a61c504ec7c5bed9a63edf45345995d10}{ticks}());
07289   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_ac891409315bc379e3b1abdb162c1a011}{setTicks}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_a61c504ec7c5bed9a63edf45345995d10}{ticks}());
07290   
07291   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a4b1554ead9d7f9799650d51383e326dd}{setSubTickCount}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_a290b4c1375476826daa10e914cb71dab}{subTickCount}());
07292   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a4b1554ead9d7f9799650d51383e326dd}{setSubTickCount}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_a290b4c1375476826daa10e914cb71dab}{subTickCount}());
07293   
07294   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_af727db0acc6492c4c774c0700e738205}{setTickStep}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_a0e6120d24266544441ab691f316a1b03}{tickStep}());
07295   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_af727db0acc6492c4c774c0700e738205}{setTickStep}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_a0e6120d24266544441ab691f316a1b03}{tickStep}());
07296   
07297   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}());
07298   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}());
07299   
07300   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a2172fdb196b1a0dc3f40992fcad8e9e1}{setRangeReversed}(\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}());
07301   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a2172fdb196b1a0dc3f40992fcad8e9e1}{setRangeReversed}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_ade26dc7994ccd8a11f64fd83377ee021}{rangeReversed}());
07302 \}
07303 
07310 \textcolor{keywordtype}{void} \hyperlink{a00116_a098c37f4447cbea48764873689ba1695}{QCustomPlot::rescaleAxes}()
07311 \{
07312   \textcolor{keywordflow}{if} (\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.isEmpty()) \textcolor{keywordflow}{return};
07313   
07314   \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(0)->rescaleAxes(\textcolor{keyword}{false}); \textcolor{comment}{// onlyEnlarge disabled on first plottable}
07315   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1; i<\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size(); ++i)
07316     \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i)->rescaleAxes(\textcolor{keyword}{true});  \textcolor{comment}{// onlyEnlarge enabled on all other plottables}
07317 \}
07318 
\hypertarget{a00115_source_l07350}{}\hyperlink{a00116_a84e33ad7492180f20ff520e557ed102d}{07350} \textcolor{keywordtype}{bool} \hyperlink{a00116_a84e33ad7492180f20ff520e557ed102d}{QCustomPlot::savePdf}(\textcolor{keyword}{const} QString &fileName, \textcolor{keywordtype}{bool} noCosmeticPen, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} 
      height)
07351 \{
07352   \textcolor{keywordtype}{bool} success = \textcolor{keyword}{false};
07353   \textcolor{keywordtype}{int} newWidth, newHeight;
07354   \textcolor{keywordflow}{if} (width == 0 || height == 0)
07355   \{
07356     newWidth = this->width();
07357     newHeight = this->height();
07358   \} \textcolor{keywordflow}{else}
07359   \{
07360     newWidth = width;
07361     newHeight = height;
07362   \}
07363   
07364   QPrinter printer(QPrinter::ScreenResolution);
07365   printer.setOutputFileName(fileName);
07366   printer.setFullPage(\textcolor{keyword}{true});
07367   QRect oldViewport = \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport};
07368   \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport} = QRect(0, 0, newWidth, newHeight);
07369   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
07370   printer.setPaperSize(\hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport}.size(), QPrinter::DevicePixel);
07371   \hyperlink{a00047}{QCPPainter} printpainter;
07372   \textcolor{keywordflow}{if} (printpainter.begin(&printer))
07373   \{
07374     printpainter.\hyperlink{a00047_ae0931c24883ce8ea53103d3b80e0de56}{setPdfExportMode}(\textcolor{keyword}{true});
07375     printpainter.setWindow(\hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport});
07376     printpainter.setRenderHint(QPainter::NonCosmeticDefaultPen, noCosmeticPen);
07377     \textcolor{keywordflow}{if} (\hyperlink{a00116_ac071280171e215ffc7d416118bc28d90}{mColor} != Qt::white && \hyperlink{a00116_ac071280171e215ffc7d416118bc28d90}{mColor} != Qt::transparent && \hyperlink{a00116_ac071280171e215ffc7d416118bc28d90}{mColor}.alpha() > 0) \textcolor{comment}{// draw
       pdf background color if not white/transparent}
07378       printpainter.fillRect(\hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport}, \hyperlink{a00116_ac071280171e215ffc7d416118bc28d90}{mColor});
07379     \hyperlink{a00116_a2e9b3d14dffa43c79835869d488936c9}{draw}(&printpainter);
07380     printpainter.end();
07381     success = \textcolor{keyword}{true};
07382   \}
07383   \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport} = oldViewport;
07384   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
07385   \textcolor{keywordflow}{return} success;
07386 \}
07387 
\hypertarget{a00115_source_l07421}{}\hyperlink{a00116_a7636261aff1f6d25c9da749ece3fc8b8}{07421} \textcolor{keywordtype}{bool} \hyperlink{a00116_a7636261aff1f6d25c9da749ece3fc8b8}{QCustomPlot::savePng}(\textcolor{keyword}{const} QString &fileName, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, \textcolor{keywordtype}{double} scale,
       \textcolor{keywordtype}{int} quality)
07422 \{  
07423   \textcolor{keywordflow}{return} \hyperlink{a00116_ab528b84cf92baabe29b1d0ef2f77c93e}{saveRastered}(fileName, width, height, scale, \textcolor{stringliteral}{"PNG"}, quality);
07424 \}
07425 
\hypertarget{a00115_source_l07456}{}\hyperlink{a00116_a490c722092d1771e8ce4a7a73dfd84ab}{07456} \textcolor{keywordtype}{bool} \hyperlink{a00116_a490c722092d1771e8ce4a7a73dfd84ab}{QCustomPlot::saveJpg}(\textcolor{keyword}{const} QString &fileName, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, \textcolor{keywordtype}{double} scale,
       \textcolor{keywordtype}{int} quality)
07457 \{
07458   \textcolor{keywordflow}{return} \hyperlink{a00116_ab528b84cf92baabe29b1d0ef2f77c93e}{saveRastered}(fileName, width, height, scale, \textcolor{stringliteral}{"JPG"}, quality);
07459 \}
07460 
\hypertarget{a00115_source_l07488}{}\hyperlink{a00116_a6629d9e8e6da4bf18055ee0257fdce9a}{07488} \textcolor{keywordtype}{bool} \hyperlink{a00116_a6629d9e8e6da4bf18055ee0257fdce9a}{QCustomPlot::saveBmp}(\textcolor{keyword}{const} QString &fileName, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, \textcolor{keywordtype}{double} scale)
07489 \{
07490   \textcolor{keywordflow}{return} \hyperlink{a00116_ab528b84cf92baabe29b1d0ef2f77c93e}{saveRastered}(fileName, width, height, scale, \textcolor{stringliteral}{"BMP"});
07491 \}
07492 
\hypertarget{a00115_source_l07502}{}\hyperlink{a00116_a4904f06d831afae29cd5d10e889388c3}{07502} QSize \hyperlink{a00116_a4904f06d831afae29cd5d10e889388c3}{QCustomPlot::minimumSizeHint}()\textcolor{keyword}{ const}
07503 \textcolor{keyword}{}\{
07504   \textcolor{keywordflow}{return} QSize(50, 50);
07505 \}
07506 
\hypertarget{a00115_source_l07512}{}\hyperlink{a00116_a2bbc3b1c24bfcc8a7cc1f3008cdd9b73}{07512} \textcolor{keywordtype}{void} \hyperlink{a00116_a2bbc3b1c24bfcc8a7cc1f3008cdd9b73}{QCustomPlot::paintEvent}(QPaintEvent *event)
07513 \{
07514   Q\_UNUSED(event);
07515   \hyperlink{a00060}{QPainter} painter(\textcolor{keyword}{this});
07516   painter.drawPixmap(0, 0, \hyperlink{a00116_a804ea55d1894964076fe02acf11da591}{mPaintBuffer});
07517 \}
07518 
\hypertarget{a00115_source_l07525}{}\hyperlink{a00116_a13e05523a40c3f08875df5cde85cf0d9}{07525} \textcolor{keywordtype}{void} \hyperlink{a00116_a13e05523a40c3f08875df5cde85cf0d9}{QCustomPlot::resizeEvent}(QResizeEvent *event)
07526 \{
07527   \textcolor{comment}{// resize and repaint the buffer:}
07528   \hyperlink{a00116_a804ea55d1894964076fe02acf11da591}{mPaintBuffer} = QPixmap(event->size());
07529   \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport} = rect();
07530   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
07531   \hyperlink{a00116_a563540b54b2a09c8ef092d42e9621f42}{replot}();
07532 \}
07533 
07538 \textcolor{keywordtype}{void} \hyperlink{a00116_a467e30feeea8ec0dd35f19ca32a55ba7}{QCustomPlot::mouseDoubleClickEvent}(QMouseEvent *event)
07539 \{
07540   emit \hyperlink{a00116_a9b232142c64fcf273a953ee08e5b90e9}{mouseDoubleClick}(event);
07541   
07542   \textcolor{comment}{// emit specialized object double click signals:}
07543   \textcolor{keywordtype}{bool} foundHit = \textcolor{keyword}{false};
07544   \textcolor{comment}{// for legend:}
07545   \textcolor{keywordflow}{if} (receivers(SIGNAL(\hyperlink{a00116_a0250f835c044521df1619b132288bca7}{legendDoubleClick}(\hyperlink{a00045}{QCPLegend}*,
      \hyperlink{a00023}{QCPAbstractLegendItem}*,QMouseEvent*))) > 0)
07546   \{
07547     \textcolor{keywordflow}{if} (\hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00045_a6388446e0906b21ebf3a92310570e73e}{selectTestLegend}(event->pos()))
07548     \{
07549       emit \hyperlink{a00116_a0250f835c044521df1619b132288bca7}{legendDoubleClick}(\hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}, \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->
      \hyperlink{a00045_a8bbb0b003cc93f07dff1d69416b606f0}{selectTestItem}(event->pos()), event);
07550       foundHit = \textcolor{keyword}{true};
07551     \}
07552   \}
07553   \textcolor{comment}{// for plottables:}
07554   \textcolor{keywordflow}{if} (!foundHit && receivers(SIGNAL(\hyperlink{a00116_af2e6f1cea923dae437681d01ce7d0c31}{plottableDoubleClick}(
      \hyperlink{a00024}{QCPAbstractPlottable}*,QMouseEvent*))) > 0)
07555   \{
07556     \textcolor{keywordflow}{if} (\hyperlink{a00024}{QCPAbstractPlottable} *ap = \hyperlink{a00116_ac1d1bc6ae4e13616fb02cef6d9e2188e}{plottableAt}(event->pos(), \textcolor{keyword}{false}))
07557     \{
07558       emit \hyperlink{a00116_af2e6f1cea923dae437681d01ce7d0c31}{plottableDoubleClick}(ap, event);
07559       foundHit = \textcolor{keyword}{true};
07560     \}
07561   \}
07562   \textcolor{comment}{// for items:}
07563   \textcolor{keywordflow}{if} (!foundHit && receivers(SIGNAL(\hyperlink{a00116_ac83aa9f5a3e9bb3efc9cdc763dcd42a6}{itemDoubleClick}(
      \hyperlink{a00022}{QCPAbstractItem}*,QMouseEvent*))) > 0)
07564   \{
07565     \textcolor{keywordflow}{if} (\hyperlink{a00022}{QCPAbstractItem} *ai = \hyperlink{a00116_a793e4b04e0ede11a733021907368fa83}{itemAt}(event->pos(), \textcolor{keyword}{false}))
07566     \{
07567       emit \hyperlink{a00116_ac83aa9f5a3e9bb3efc9cdc763dcd42a6}{itemDoubleClick}(ai, event);
07568       foundHit = \textcolor{keyword}{true};
07569     \}
07570   \}
07571   \textcolor{comment}{// for axes:}
07572   \textcolor{keywordflow}{if} (!foundHit && receivers(SIGNAL(\hyperlink{a00116_a6df35357460181a72da3e93d600f5256}{axisDoubleClick}(\hyperlink{a00025}{QCPAxis}*,QCPAxis::SelectablePart,
      QMouseEvent*))) > 0)
07573   \{
07574     QVector<QCPAxis*> axes = QVector<QCPAxis*>() << \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis} << \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis} << 
      \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2} << \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2};
07575     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<axes.size(); ++i)
07576     \{
07577       QCPAxis::SelectablePart part = axes.at(i)->\hyperlink{a00025_a940be5ef61f4fa0dc21e4f4c7a5875c2}{selectTest}(event->pos());
07578       \textcolor{keywordflow}{if} (part != QCPAxis::spNone)
07579       \{
07580         foundHit = \textcolor{keyword}{true};
07581         emit \hyperlink{a00116_a6df35357460181a72da3e93d600f5256}{axisDoubleClick}(axes.at(i), part, event);
07582         \textcolor{keywordflow}{break};
07583       \}
07584     \}
07585   \}
07586   \textcolor{comment}{// for title:}
07587   \textcolor{keywordflow}{if} (!foundHit && receivers(SIGNAL(\hyperlink{a00116_a854db02b12e8df49b5f998f17e8ee770}{titleDoubleClick}(QMouseEvent*))) > 0)
07588   \{
07589     \textcolor{keywordflow}{if} (\hyperlink{a00116_a2a2d01a092840ac01b16104f7973f831}{selectTestTitle}(event->pos()))
07590     \{
07591       emit \hyperlink{a00116_a854db02b12e8df49b5f998f17e8ee770}{titleDoubleClick}(event);
07592       foundHit = \textcolor{keyword}{true};
07593     \}
07594   \}
07595 \}
07596 
07608 \textcolor{keywordtype}{void} \hyperlink{a00116_a460b092e82c0eb94ef6c32a10acc822a}{QCustomPlot::mousePressEvent}(QMouseEvent *event)
07609 \{
07610   emit \hyperlink{a00116_aca75bf9afb5dd19349c375de2a87a051}{mousePress}(event);
07611   \hyperlink{a00116_a23a3ce3b031eef6349252229446f3665}{mDragStart} = \textcolor{keyword}{event}->pos(); \textcolor{comment}{// need this even when not LeftButton is pressed, to determine in
       releaseEvent whether it was a full click (no position change between press and release)}
07612   \textcolor{keywordflow}{if} (event->buttons() & Qt::LeftButton)
07613   \{
07614     \hyperlink{a00116_ad1273fad7e12b0f61819343368778928}{mDragging} = \textcolor{keyword}{true};
07615     \textcolor{comment}{// initialize antialiasing backup in case we start dragging:}
07616     \textcolor{keywordflow}{if} (\hyperlink{a00116_abfc5e49800e5ca84fa6312b9bb814b3b}{mNoAntialiasingOnDrag})
07617     \{
07618       \hyperlink{a00116_ac6e9f4d75a28eb37ee454e1907655e8b}{mAADragBackup} = \hyperlink{a00116_acc24388098ddb95f5a651cede3f34b99}{antialiasedElements}();
07619       \hyperlink{a00116_aac79a49a340f3e5b06465bb730431013}{mNotAADragBackup} = \hyperlink{a00116_ad611ed86732d07774545f5bd4b7f18b7}{notAntialiasedElements}();
07620     \}
07621     \textcolor{comment}{// Mouse range dragging interaction:}
07622     \textcolor{keywordflow}{if} (\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iRangeDrag))
07623     \{
07624       \hyperlink{a00116_a3b64958e75f713e9aa5f849e0284599e}{mDragStartHorzRange} = \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->
      \hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}();
07625       \hyperlink{a00116_aebb85632771d08a771605ccc5e0e0622}{mDragStartVertRange} = \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->
      \hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}();
07626     \}
07627   \}
07628   
07629   \hyperlink{a00116_a460b092e82c0eb94ef6c32a10acc822a}{QWidget::mousePressEvent}(event);
07630 \}
07631 
\hypertarget{a00115_source_l07639}{}\hyperlink{a00116_ac64727a4f442770f6e5e6be2d0530843}{07639} \textcolor{keywordtype}{void} \hyperlink{a00116_ac64727a4f442770f6e5e6be2d0530843}{QCustomPlot::mouseMoveEvent}(QMouseEvent *event)
07640 \{
07641   emit \hyperlink{a00116_a742ca4f94688bed2a685fd8a56ce5704}{mouseMove}(event);
07642 
07643   \textcolor{comment}{// Mouse range dragging interaction:}
07644   \textcolor{keywordflow}{if} (\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iRangeDrag))
07645   \{
07646     \textcolor{keywordflow}{if} (\hyperlink{a00116_ad1273fad7e12b0f61819343368778928}{mDragging})
07647     \{
07648       \textcolor{keywordflow}{if} (\hyperlink{a00116_a8cc4277431ae5ab8e15cf2dfe5c17e1c}{mRangeDrag}.testFlag(Qt::Horizontal))
07649       \{
07650         \textcolor{keywordflow}{if} (\hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == QCPAxis::stLinear)
07651         \{
07652           \textcolor{keywordtype}{double} diff = \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(
      \hyperlink{a00116_a23a3ce3b031eef6349252229446f3665}{mDragStart}.x()) - \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(event->pos().x()
      );
07653           \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(
      \hyperlink{a00116_a3b64958e75f713e9aa5f849e0284599e}{mDragStartHorzRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}+diff, \hyperlink{a00116_a3b64958e75f713e9aa5f849e0284599e}{mDragStartHorzRange}.
      \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}+diff);
07654         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == QCPAxis::stLogarithmic)
07655         \{
07656           \textcolor{keywordtype}{double} diff = \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(
      \hyperlink{a00116_a23a3ce3b031eef6349252229446f3665}{mDragStart}.x()) / \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(event->pos().x()
      );
07657           \hyperlink{a00116_ae73b7d61e9c0b25088f1cd805fc6f269}{mRangeDragHorzAxis}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(
      \hyperlink{a00116_a3b64958e75f713e9aa5f849e0284599e}{mDragStartHorzRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}*diff, \hyperlink{a00116_a3b64958e75f713e9aa5f849e0284599e}{mDragStartHorzRange}.
      \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}*diff);
07658         \}
07659       \}
07660       \textcolor{keywordflow}{if} (\hyperlink{a00116_a8cc4277431ae5ab8e15cf2dfe5c17e1c}{mRangeDrag}.testFlag(Qt::Vertical))
07661       \{
07662         \textcolor{keywordflow}{if} (\hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == QCPAxis::stLinear)
07663         \{
07664           \textcolor{keywordtype}{double} diff = \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(
      \hyperlink{a00116_a23a3ce3b031eef6349252229446f3665}{mDragStart}.y()) - \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(event->pos().y()
      );
07665           \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(
      \hyperlink{a00116_aebb85632771d08a771605ccc5e0e0622}{mDragStartVertRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}+diff, \hyperlink{a00116_aebb85632771d08a771605ccc5e0e0622}{mDragStartVertRange}.
      \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}+diff);
07666         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->\hyperlink{a00025_ad706039549cbbbec5fcb2baf7894e04d}{mScaleType} == QCPAxis::stLogarithmic)
07667         \{
07668           \textcolor{keywordtype}{double} diff = \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(
      \hyperlink{a00116_a23a3ce3b031eef6349252229446f3665}{mDragStart}.y()) / \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(event->pos().y()
      );
07669           \hyperlink{a00116_a13364bbe1871cc2810ebd8946e30cc49}{mRangeDragVertAxis}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(
      \hyperlink{a00116_aebb85632771d08a771605ccc5e0e0622}{mDragStartVertRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower}*diff, \hyperlink{a00116_aebb85632771d08a771605ccc5e0e0622}{mDragStartVertRange}.
      \hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper}*diff);
07670         \}
07671       \}
07672       \textcolor{keywordflow}{if} (\hyperlink{a00116_a8cc4277431ae5ab8e15cf2dfe5c17e1c}{mRangeDrag} != 0) \textcolor{comment}{// if either vertical or horizontal drag was enabled, do a replot}
07673       \{
07674         \textcolor{keywordflow}{if} (\hyperlink{a00116_abfc5e49800e5ca84fa6312b9bb814b3b}{mNoAntialiasingOnDrag})
07675           \hyperlink{a00116_ae10d685b5eabea2999fb8775ca173c24}{setNotAntialiasedElements}(\hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0caa897c232a0ffc8368e7c100ffc59ef31}{QCP::aeAll});
07676         \hyperlink{a00116_a563540b54b2a09c8ef092d42e9621f42}{replot}();
07677       \}
07678     \}
07679   \}
07680   
07681   \hyperlink{a00116_ac64727a4f442770f6e5e6be2d0530843}{QWidget::mouseMoveEvent}(event);
07682 \}
07683 
\hypertarget{a00115_source_l07691}{}\hyperlink{a00116_a724e97d2e8c03e68adac5f4b6164a1b3}{07691} \textcolor{keywordtype}{void} \hyperlink{a00116_a724e97d2e8c03e68adac5f4b6164a1b3}{QCustomPlot::mouseReleaseEvent}(QMouseEvent *event)
07692 \{
07693   emit \hyperlink{a00116_ac8dc0ee6bb98e923c00b4ebafbe6134d}{mouseRelease}(event);
07694   \hyperlink{a00116_ad1273fad7e12b0f61819343368778928}{mDragging} = \textcolor{keyword}{false};
07695   \textcolor{keywordtype}{bool} doReplot = \textcolor{keyword}{false};
07696   \textcolor{keywordflow}{if} (\hyperlink{a00116_abfc5e49800e5ca84fa6312b9bb814b3b}{mNoAntialiasingOnDrag})
07697   \{
07698     \hyperlink{a00116_af6f91e5eab1be85f67c556e98c3745e8}{setAntialiasedElements}(\hyperlink{a00116_ac6e9f4d75a28eb37ee454e1907655e8b}{mAADragBackup});
07699     \hyperlink{a00116_ae10d685b5eabea2999fb8775ca173c24}{setNotAntialiasedElements}(\hyperlink{a00116_aac79a49a340f3e5b06465bb730431013}{mNotAADragBackup});
07700     doReplot = \textcolor{keyword}{true};
07701   \}
07702   
07703   \textcolor{comment}{// determine whether it was a drag or click operation:}
07704   \textcolor{keywordflow}{if} ((\hyperlink{a00116_a23a3ce3b031eef6349252229446f3665}{mDragStart}-event->pos()).manhattanLength() < 5) \textcolor{comment}{// was a click}
07705   \{
07706     \textcolor{comment}{// Mouse selection interaction:}
07707     \textcolor{keywordflow}{if} ((\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions} & (iSelectPlottables|iSelectItems|iSelectAxes|iSelectLegend|
      iSelectTitle)) > 0 
07708         && event->button() == Qt::LeftButton)
07709     \{
07710       \textcolor{keywordtype}{bool} selectionFound = \textcolor{keyword}{false};
07711       \textcolor{keywordtype}{bool} emitChangedSignal = \textcolor{keyword}{false};
07712       \textcolor{keywordtype}{bool} additiveSelection = \hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iMultiSelect) && \textcolor{keyword}{event}->modifiers().
      testFlag(\hyperlink{a00116_a690dbabf892af5969b09e9f69bb83a9b}{mMultiSelectModifier});
07713       \textcolor{comment}{// Mouse selection of legend:}
07714       \textcolor{keywordflow}{if} (\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iSelectLegend))
07715         selectionFound |= \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00045_a44cdc6af6cd6e62a2bd827c3236c7261}{handleLegendSelection}(event, additiveSelection
      , emitChangedSignal);
07716       \textcolor{comment}{// Mouse selection of plottables:}
07717       \textcolor{keywordflow}{if} (\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iSelectPlottables))
07718         selectionFound |= \hyperlink{a00116_a881c8652ebb912345de27687817845cf}{handlePlottableSelection}((!selectionFound || 
      additiveSelection) ? \textcolor{keyword}{event} : 0, additiveSelection, emitChangedSignal);
07719       \textcolor{comment}{// Mouse selection of items:}
07720       \textcolor{keywordflow}{if} (\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iSelectItems))
07721         selectionFound |= \hyperlink{a00116_aa1ad9839539b4cdf9f7da768336650f2}{handleItemSelection}((!selectionFound || additiveSelection) ? \textcolor{keyword}{
      event} : 0, additiveSelection, emitChangedSignal);
07722       \textcolor{comment}{// Mouse selection of axes:}
07723       \textcolor{keywordflow}{if} (\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iSelectAxes))
07724         selectionFound |= \hyperlink{a00116_a6085478fe8ba07b2a192cf8217133cb3}{handleAxisSelection}((!selectionFound || additiveSelection) ? \textcolor{keyword}{
      event} : 0, additiveSelection, emitChangedSignal);
07725       \textcolor{comment}{// Mouse selection of title:}
07726       \textcolor{keywordflow}{if} (\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iSelectTitle))
07727         selectionFound |= \hyperlink{a00116_ae688ab743e775cd0c69941a082dd32e3}{handleTitleSelection}((!selectionFound || additiveSelection) ?
       \textcolor{keyword}{event} : 0, additiveSelection, emitChangedSignal);
07728       
07729       \textcolor{keywordflow}{if} (emitChangedSignal)
07730         emit \hyperlink{a00116_a500c64a109bc773c973ad274f2fa4190}{selectionChangedByUser}();
07731       doReplot = \textcolor{keyword}{true};
07732     \}
07733     
07734     \textcolor{comment}{// emit specialized object click signals:}
07735     \textcolor{keywordtype}{bool} foundHit = \textcolor{keyword}{false};
07736     \textcolor{comment}{// for legend:}
07737     \textcolor{keywordflow}{if} (receivers(SIGNAL(\hyperlink{a00116_a79cff0baafbca10a3aaf694d2d3b9ab3}{legendClick}(\hyperlink{a00045}{QCPLegend}*,
      \hyperlink{a00023}{QCPAbstractLegendItem}*,QMouseEvent*))) > 0)
07738     \{
07739       \textcolor{keywordflow}{if} (\hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00045_a6388446e0906b21ebf3a92310570e73e}{selectTestLegend}(event->pos()))
07740       \{
07741         emit \hyperlink{a00116_a79cff0baafbca10a3aaf694d2d3b9ab3}{legendClick}(\hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}, \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00045_a8bbb0b003cc93f07dff1d69416b606f0}{selectTestItem}(event->pos()),
       event);
07742         foundHit = \textcolor{keyword}{true};
07743       \}
07744     \}
07745     \textcolor{comment}{// for plottables:}
07746     \textcolor{keywordflow}{if} (!foundHit && receivers(SIGNAL(\hyperlink{a00116_a57e5efa8a854620e9bf62d31fc139f53}{plottableClick}(
      \hyperlink{a00024}{QCPAbstractPlottable}*,QMouseEvent*))) > 0)
07747     \{
07748       \textcolor{keywordflow}{if} (\hyperlink{a00024}{QCPAbstractPlottable} *ap = \hyperlink{a00116_ac1d1bc6ae4e13616fb02cef6d9e2188e}{plottableAt}(event->pos(), \textcolor{keyword}{false}))
07749       \{
07750         emit \hyperlink{a00116_a57e5efa8a854620e9bf62d31fc139f53}{plottableClick}(ap, event);
07751         foundHit = \textcolor{keyword}{true};
07752       \}
07753     \}
07754     \textcolor{comment}{// for items:}
07755     \textcolor{keywordflow}{if} (!foundHit && receivers(SIGNAL(\hyperlink{a00116_ae16b51f52d2b7aebbc7e3e74e6ff2e4b}{itemClick}(\hyperlink{a00022}{QCPAbstractItem}*,QMouseEvent*))) > 
      0)
07756     \{
07757       \textcolor{keywordflow}{if} (\hyperlink{a00022}{QCPAbstractItem} *ai = \hyperlink{a00116_a793e4b04e0ede11a733021907368fa83}{itemAt}(event->pos(), \textcolor{keyword}{false}))
07758       \{
07759         emit \hyperlink{a00116_ae16b51f52d2b7aebbc7e3e74e6ff2e4b}{itemClick}(ai, event);
07760         foundHit = \textcolor{keyword}{true};
07761       \}
07762     \}
07763     \textcolor{comment}{// for axes:}
07764     \textcolor{keywordflow}{if} (!foundHit && receivers(SIGNAL(\hyperlink{a00116_abf635f8b56ab5c16d5de9f358543e82b}{axisClick}(\hyperlink{a00025}{QCPAxis}*,QCPAxis::SelectablePart,
      QMouseEvent*))) > 0)
07765     \{
07766       QVector<QCPAxis*> axes = QVector<QCPAxis*>() << \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis} << \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis} << 
      \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2} << \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2};
07767       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<axes.size(); ++i)
07768       \{
07769         QCPAxis::SelectablePart part = axes.at(i)->\hyperlink{a00025_a940be5ef61f4fa0dc21e4f4c7a5875c2}{selectTest}(event->pos());
07770         \textcolor{keywordflow}{if} (part != QCPAxis::spNone)
07771         \{
07772           foundHit = \textcolor{keyword}{true};
07773           emit \hyperlink{a00116_abf635f8b56ab5c16d5de9f358543e82b}{axisClick}(axes.at(i), part, event);
07774           \textcolor{keywordflow}{break};
07775         \}
07776       \}
07777     \}
07778     \textcolor{comment}{// for title:}
07779     \textcolor{keywordflow}{if} (!foundHit && receivers(SIGNAL(\hyperlink{a00116_a969beb5e4b7e8864e5e349fcda4ce45b}{titleClick}(QMouseEvent*))) > 0)
07780     \{
07781       \textcolor{keywordflow}{if} (\hyperlink{a00116_a2a2d01a092840ac01b16104f7973f831}{selectTestTitle}(event->pos()))
07782       \{
07783         emit \hyperlink{a00116_a969beb5e4b7e8864e5e349fcda4ce45b}{titleClick}(event);
07784         foundHit = \textcolor{keyword}{true};
07785       \}
07786     \}
07787   \} \textcolor{comment}{// was a click end}
07788   
07789   \textcolor{keywordflow}{if} (doReplot)
07790     \hyperlink{a00116_a563540b54b2a09c8ef092d42e9621f42}{replot}();
07791   
07792   \hyperlink{a00116_a724e97d2e8c03e68adac5f4b6164a1b3}{QWidget::mouseReleaseEvent}(event);
07793 \}
07794 
\hypertarget{a00115_source_l07811}{}\hyperlink{a00116_a7b8bd7e8d3a1d23a8595e9c6a6b76ef1}{07811} \textcolor{keywordtype}{void} \hyperlink{a00116_a7b8bd7e8d3a1d23a8595e9c6a6b76ef1}{QCustomPlot::wheelEvent}(QWheelEvent *event)
07812 \{
07813   emit \hyperlink{a00116_ac80a14206f99304a91d2aa55775ec3ff}{mouseWheel}(event);
07814   
07815   \textcolor{comment}{// Mouse range zooming interaction:}
07816   \textcolor{keywordflow}{if} (\hyperlink{a00116_af8d040767753acc548b2368dd4150ae6}{mInteractions}.testFlag(iRangeZoom))
07817   \{
07818     \textcolor{keywordflow}{if} (\hyperlink{a00116_ac12a0fb503fccb899d786ceaa0a1a4f7}{mRangeZoom} != 0)
07819     \{
07820       \textcolor{keywordtype}{double} factor;
07821       \textcolor{keywordtype}{double} wheelSteps = \textcolor{keyword}{event}->delta()/120.0; \textcolor{comment}{// a single step delta is +/-120 usually}
07822       \textcolor{keywordflow}{if} (\hyperlink{a00116_ac12a0fb503fccb899d786ceaa0a1a4f7}{mRangeZoom}.testFlag(Qt::Horizontal))
07823       \{
07824         factor = pow(\hyperlink{a00116_a575195f0c4e9f7a766495da2ac41e0a6}{mRangeZoomFactorHorz}, wheelSteps);
07825         \hyperlink{a00116_a3239b66fb24563a5dda0503a69a892d5}{mRangeZoomHorzAxis}->\hyperlink{a00025_a7072ff96fe690148f1bbcdb4f773ea1c}{scaleRange}(factor, 
      \hyperlink{a00116_a3239b66fb24563a5dda0503a69a892d5}{mRangeZoomHorzAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(event->pos().x()));
07826       \}
07827       \textcolor{keywordflow}{if} (\hyperlink{a00116_ac12a0fb503fccb899d786ceaa0a1a4f7}{mRangeZoom}.testFlag(Qt::Vertical))
07828       \{
07829         factor = pow(\hyperlink{a00116_a133700b56f6b8e472f99058b43f5a0e9}{mRangeZoomFactorVert}, wheelSteps);
07830         \hyperlink{a00116_a16094e9a3c30151c3c820cd9d4894b84}{mRangeZoomVertAxis}->\hyperlink{a00025_a7072ff96fe690148f1bbcdb4f773ea1c}{scaleRange}(factor, 
      \hyperlink{a00116_a16094e9a3c30151c3c820cd9d4894b84}{mRangeZoomVertAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(event->pos().y()));
07831       \}
07832       \hyperlink{a00116_a563540b54b2a09c8ef092d42e9621f42}{replot}();
07833     \}
07834   \}
07835   
07836   \hyperlink{a00116_a7b8bd7e8d3a1d23a8595e9c6a6b76ef1}{QWidget::wheelEvent}(event);
07837 \}
07838 
\hypertarget{a00115_source_l07856}{}\hyperlink{a00116_a881c8652ebb912345de27687817845cf}{07856} \textcolor{keywordtype}{bool} \hyperlink{a00116_a881c8652ebb912345de27687817845cf}{QCustomPlot::handlePlottableSelection}(QMouseEvent *event, \textcolor{keywordtype}{bool} 
      additiveSelection, \textcolor{keywordtype}{bool} &modified)
07857 \{
07858   \textcolor{comment}{// Note: This code is basically identical to handleItemSelection, only for plottables}
07859   
07860   \textcolor{keywordtype}{bool} selectionFound = \textcolor{keyword}{false};
07861   \textcolor{keywordflow}{if} (event)
07862   \{
07863     \hyperlink{a00024}{QCPAbstractPlottable} *plottableSelection = \hyperlink{a00116_ac1d1bc6ae4e13616fb02cef6d9e2188e}{plottableAt}(event->pos(), \textcolor{keyword}{
      true});
07864     \textcolor{comment}{// handle selection of found plottable:}
07865     \textcolor{keywordflow}{if} (plottableSelection)
07866     \{
07867       selectionFound = \textcolor{keyword}{true};
07868       \textcolor{keywordflow}{if} (!plottableSelection->\hyperlink{a00024_ab901903adcb0e29467d63de72340ab29}{selected}() || additiveSelection)
07869       \{
07870         plottableSelection->\hyperlink{a00024_afbd5428c2952f59d952e11ab5cd79176}{setSelected}(!plottableSelection->\hyperlink{a00024_ab901903adcb0e29467d63de72340ab29}{selected}());
07871         modified = \textcolor{keyword}{true};
07872       \}
07873     \}
07874     \textcolor{comment}{// deselect all others (if plottableSelection is 0, all plottables are deselected):}
07875     \textcolor{keywordflow}{if} (!additiveSelection)
07876     \{
07877       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size(); ++i)
07878       \{
07879         \textcolor{keywordflow}{if} (\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i) != plottableSelection && \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i)->selected() 
      && \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i)->selectable())
07880         \{
07881           \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i)->setSelected(\textcolor{keyword}{false});
07882           modified = \textcolor{keyword}{true};
07883         \}
07884       \}
07885     \}
07886   \} \textcolor{keywordflow}{else} \textcolor{comment}{// event == 0, so deselect selectable plottables}
07887   \{
07888     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.size(); ++i)
07889     \{
07890       \textcolor{keywordflow}{if} (\hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i)->selected() && \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i)->selectable())
07891       \{
07892         \hyperlink{a00116_a57ed6eb2e0a767a8344de45110a3e81d}{mPlottables}.at(i)->setSelected(\textcolor{keyword}{false});
07893         modified = \textcolor{keyword}{true};
07894       \}
07895     \}
07896   \}
07897   \textcolor{keywordflow}{return} selectionFound;
07898 \}
07899 
\hypertarget{a00115_source_l07917}{}\hyperlink{a00116_aa1ad9839539b4cdf9f7da768336650f2}{07917} \textcolor{keywordtype}{bool} \hyperlink{a00116_aa1ad9839539b4cdf9f7da768336650f2}{QCustomPlot::handleItemSelection}(QMouseEvent *event, \textcolor{keywordtype}{bool} 
      additiveSelection, \textcolor{keywordtype}{bool} &modified)
07918 \{
07919   \textcolor{comment}{// Note: This code is basically identical to handlePlottableSelection, only for items}
07920   
07921   \textcolor{keywordtype}{bool} selectionFound = \textcolor{keyword}{false};
07922   \textcolor{keywordflow}{if} (event)
07923   \{
07924     \hyperlink{a00022}{QCPAbstractItem} *itemSelection = \hyperlink{a00116_a793e4b04e0ede11a733021907368fa83}{itemAt}(event->pos(), \textcolor{keyword}{true});
07925     \textcolor{comment}{// handle selection of found plottable:}
07926     \textcolor{keywordflow}{if} (itemSelection)
07927     \{
07928       selectionFound = \textcolor{keyword}{true};
07929       \textcolor{keywordflow}{if} (!itemSelection->\hyperlink{a00022_a225865808640d8d9a7dd19f09a2e93f2}{selected}() || additiveSelection)
07930       \{
07931         itemSelection->\hyperlink{a00022_a203de94ad586cc44d16c9565f49d3378}{setSelected}(!itemSelection->\hyperlink{a00022_a225865808640d8d9a7dd19f09a2e93f2}{selected}());
07932         modified = \textcolor{keyword}{true};
07933       \}
07934     \}
07935     \textcolor{comment}{// deselect all others (if itemSelection is 0, all items are deselected):}
07936     \textcolor{keywordflow}{if} (!additiveSelection)
07937     \{
07938       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.size(); ++i)
07939       \{
07940         \textcolor{keywordflow}{if} (\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i) != itemSelection && \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i)->selected() && 
      \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i)->selectable())
07941         \{
07942           \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i)->setSelected(\textcolor{keyword}{false});
07943           modified = \textcolor{keyword}{true};
07944         \}
07945       \}
07946     \}
07947   \} \textcolor{keywordflow}{else} \textcolor{comment}{// event == 0, so deselect selectable items}
07948   \{
07949     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.size(); ++i)
07950     \{
07951       \textcolor{keywordflow}{if} (\hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i)->selected() && \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i)->selectable())
07952       \{
07953         \hyperlink{a00116_a6fcfff6ea3ccabcac8818943adb79a72}{mItems}.at(i)->setSelected(\textcolor{keyword}{false});
07954         modified = \textcolor{keyword}{true};
07955       \}
07956     \}
07957   \}
07958   \textcolor{keywordflow}{return} selectionFound;
07959 \}
07960 
07973 \textcolor{keywordtype}{bool} \hyperlink{a00116_a6085478fe8ba07b2a192cf8217133cb3}{QCustomPlot::handleAxisSelection}(QMouseEvent *event, \textcolor{keywordtype}{bool} 
      additiveSelection, \textcolor{keywordtype}{bool} &modified)
07974 \{
07975   \textcolor{keywordtype}{bool} selectionFound = \textcolor{keyword}{false};
07976   QVector<QCPAxis*> axes = QVector<QCPAxis*>() << \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis} << \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis} << 
      \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2} << \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2};
07977   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<axes.size(); ++i)
07978     selectionFound |= axes.at(i)->\hyperlink{a00025_ac68d1c81004fded1f3c4ca95879a445d}{handleAxisSelection}((!selectionFound || 
      additiveSelection) ? event : 0, additiveSelection, modified);
07979   \textcolor{keywordflow}{return} selectionFound;
07980 \}
07981 
\hypertarget{a00115_source_l07994}{}\hyperlink{a00116_ae688ab743e775cd0c69941a082dd32e3}{07994} \textcolor{keywordtype}{bool} \hyperlink{a00116_ae688ab743e775cd0c69941a082dd32e3}{QCustomPlot::handleTitleSelection}(QMouseEvent *event, \textcolor{keywordtype}{bool} 
      additiveSelection, \textcolor{keywordtype}{bool} &modified)
07995 \{
07996   \textcolor{keywordtype}{bool} selectionFound = \textcolor{keyword}{false};
07997   \textcolor{keywordflow}{if} (event && \hyperlink{a00116_a2a2d01a092840ac01b16104f7973f831}{selectTestTitle}(event->pos())) \textcolor{comment}{// hit, select title}
07998   \{
07999     selectionFound = \textcolor{keyword}{true};
08000     \textcolor{keywordflow}{if} (!\hyperlink{a00116_a23f3f4b312d1d78837f2a3602792d8e3}{titleSelected}() || additiveSelection)
08001     \{
08002       \hyperlink{a00116_aa89e06c04804ff2a0994ccb1aa80d131}{setTitleSelected}(!\hyperlink{a00116_a23f3f4b312d1d78837f2a3602792d8e3}{titleSelected}());
08003       modified = \textcolor{keyword}{true};
08004     \}
08005   \} \textcolor{keywordflow}{else} \textcolor{comment}{// no hit or event == 0, deselect title}
08006   \{
08007     \textcolor{keywordflow}{if} (\hyperlink{a00116_a23f3f4b312d1d78837f2a3602792d8e3}{titleSelected}() && !additiveSelection)
08008     \{
08009       \hyperlink{a00116_aa89e06c04804ff2a0994ccb1aa80d131}{setTitleSelected}(\textcolor{keyword}{false});
08010       modified = \textcolor{keyword}{true};
08011     \}
08012   \}
08013   \textcolor{keywordflow}{return} selectionFound;
08014 \}
08015 
08022 \textcolor{keywordtype}{void} \hyperlink{a00116_a2e9b3d14dffa43c79835869d488936c9}{QCustomPlot::draw}(\hyperlink{a00047}{QCPPainter} *painter)
08023 \{
08024   \textcolor{comment}{// calculate title bounding box:}
08025   \textcolor{keywordflow}{if} (!\hyperlink{a00116_a897f8f3962601be2f02346e99e1fd7fb}{mTitle}.isEmpty())
08026   \{
08027     painter->setFont(\hyperlink{a00116_a23f3f4b312d1d78837f2a3602792d8e3}{titleSelected}() ? \hyperlink{a00116_a0857efaeb16b387fd17d6423d234cec8}{mSelectedTitleFont} : 
      \hyperlink{a00116_ac17173c9dcdc7c84878a6ee801fafc2e}{mTitleFont});
08028     \hyperlink{a00116_ab64b411eef7fd9d890c871993116d289}{mTitleBoundingBox} = painter->fontMetrics().boundingRect(
      \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport}, Qt::TextDontClip | Qt::AlignHCenter, \hyperlink{a00116_a897f8f3962601be2f02346e99e1fd7fb}{mTitle});
08029   \} \textcolor{keywordflow}{else}
08030     \hyperlink{a00116_ab64b411eef7fd9d890c871993116d289}{mTitleBoundingBox} = QRect();
08031   
08032   \textcolor{comment}{// prepare values of ticks and tick strings:}
08033   \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_a57d9e961bae7d62f5b4e1f143e660c78}{setupTickVectors}();
08034   \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_a57d9e961bae7d62f5b4e1f143e660c78}{setupTickVectors}();
08035   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a57d9e961bae7d62f5b4e1f143e660c78}{setupTickVectors}();
08036   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a57d9e961bae7d62f5b4e1f143e660c78}{setupTickVectors}();
08037   \textcolor{comment}{// set auto margin such that tick/axis labels etc. are not clipped:}
08038   \textcolor{keywordflow}{if} (\hyperlink{a00116_a9f5c2927e8dd4f66342f80d3b332cd3f}{mAutoMargin})
08039   \{
08040     \hyperlink{a00116_a870fac53de3ba7bd9d71b45238b0eaeb}{setMargin}(\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_a10756afda0cd419fb24d09adb411dda7}{calculateMargin}(),
08041               \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a10756afda0cd419fb24d09adb411dda7}{calculateMargin}(),
08042               \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a10756afda0cd419fb24d09adb411dda7}{calculateMargin}()+\hyperlink{a00116_ab64b411eef7fd9d890c871993116d289}{mTitleBoundingBox}.height(),
08043               \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_a10756afda0cd419fb24d09adb411dda7}{calculateMargin}());
08044   \}
08045   \textcolor{comment}{// position legend:}
08046   \hyperlink{a00116_a75acd427ec48e9a9d2ae6a17817cc490}{legend}->\hyperlink{a00045_ad7fd50e5478b0da477d9cc74b7204caf}{reArrange}();
08047   
08048   \textcolor{comment}{// draw axis background:}
08049   \hyperlink{a00116_a2ddc6669cdcd1224803f78e579858b16}{drawAxisBackground}(painter);
08050   
08051   \textcolor{comment}{// draw all layered objects (grid, axes, plottables, items, legend,...):}
08052   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} layerIndex=0; layerIndex < \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.size(); ++layerIndex)
08053   \{
08054     QList<QCPLayerable*> layerChildren = \hyperlink{a00116_ae46b0ffefe1087007ffb11398a18a20e}{mLayers}.at(layerIndex)->children();
08055     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=0; k < layerChildren.size(); ++k)
08056     \{
08057       \hyperlink{a00044}{QCPLayerable} *child = layerChildren.at(k);
08058       \textcolor{keywordflow}{if} (child->\hyperlink{a00044_a10a3cc92e0fa63e4a929e61d34e275a7}{visible}())
08059       \{
08060         painter->\hyperlink{a00047_a8fd6821ee6fecbfa04444c9062912abd}{save}();
08061         painter->setClipRect(child->\hyperlink{a00044_a07a8f746640c3704b09910df297afcba}{clipRect}().translated(0, -1));
08062         child->\hyperlink{a00044_afdf83ddc6a265cbf4c89fe99d3d93473}{applyDefaultAntialiasingHint}(painter);
08063         child->\hyperlink{a00044_aecf2f7087482d4b6a78cb2770e5ed12d}{draw}(painter);
08064         painter->\hyperlink{a00047_a64908e6298d5bbd83457dc987cc3a022}{restore}();
08065       \}
08066     \}
08067   \}
08068   
08069   \textcolor{comment}{// draw title:}
08070   \textcolor{keywordflow}{if} (!\hyperlink{a00116_a897f8f3962601be2f02346e99e1fd7fb}{mTitle}.isEmpty())
08071   \{
08072     painter->setFont(\hyperlink{a00116_a23f3f4b312d1d78837f2a3602792d8e3}{titleSelected}() ? \hyperlink{a00116_a0857efaeb16b387fd17d6423d234cec8}{mSelectedTitleFont} : mTitleFont);
08073     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(QPen(\hyperlink{a00116_a23f3f4b312d1d78837f2a3602792d8e3}{titleSelected}() ? 
      \hyperlink{a00116_a6b947daad117396a1b6f9d9fe90094d8}{mSelectedTitleColor} : \hyperlink{a00116_a56e768edac99110852bf82826da144b9}{mTitleColor}));
08074     painter->drawText(\hyperlink{a00116_ab64b411eef7fd9d890c871993116d289}{mTitleBoundingBox}, Qt::TextDontClip | Qt::AlignHCenter, 
      \hyperlink{a00116_a897f8f3962601be2f02346e99e1fd7fb}{mTitle});
08075   \}
08076 \}
08077 
\hypertarget{a00115_source_l08090}{}\hyperlink{a00116_a2ddc6669cdcd1224803f78e579858b16}{08090} \textcolor{keywordtype}{void} \hyperlink{a00116_a2ddc6669cdcd1224803f78e579858b16}{QCustomPlot::drawAxisBackground}(\hyperlink{a00047}{QCPPainter} *painter)
08091 \{
08092   \textcolor{keywordflow}{if} (!\hyperlink{a00116_ab93f80321dad937ebc6f2eaad1640c50}{mAxisBackground}.isNull())
08093   \{
08094     \textcolor{keywordflow}{if} (\hyperlink{a00116_aa02865bc98b010e95c3aab39a3439ed0}{mAxisBackgroundScaled})
08095     \{
08096       \textcolor{comment}{// check whether mScaledAxisBackground needs to be updated:}
08097       QSize scaledSize(\hyperlink{a00116_ab93f80321dad937ebc6f2eaad1640c50}{mAxisBackground}.size());
08098       scaledSize.scale(\hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect}.size(), \hyperlink{a00116_a513c32c470438510a3341295b0ead04a}{mAxisBackgroundScaledMode});
08099       \textcolor{keywordflow}{if} (\hyperlink{a00116_a9c0be35152f1cb89789149791f99044c}{mScaledAxisBackground}.size() != scaledSize)
08100         \hyperlink{a00116_a9c0be35152f1cb89789149791f99044c}{mScaledAxisBackground} = \hyperlink{a00116_ab93f80321dad937ebc6f2eaad1640c50}{mAxisBackground}.scaled(
      \hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect}.size(), \hyperlink{a00116_a513c32c470438510a3341295b0ead04a}{mAxisBackgroundScaledMode}, Qt::SmoothTransformation);
08101       painter->drawPixmap(\hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect}.topLeft(), \hyperlink{a00116_a9c0be35152f1cb89789149791f99044c}{mScaledAxisBackground}, QRect(0
      , 0, \hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect}.width(), \hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect}.height()) & 
      \hyperlink{a00116_a9c0be35152f1cb89789149791f99044c}{mScaledAxisBackground}.rect());
08102     \} \textcolor{keywordflow}{else}
08103     \{
08104       painter->drawPixmap(\hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect}.topLeft(), \hyperlink{a00116_ab93f80321dad937ebc6f2eaad1640c50}{mAxisBackground}, QRect(0, 0, 
      \hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect}.width(), \hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect}.height()));
08105     \}
08106   \}
08107 \}
08108 
\hypertarget{a00115_source_l08116}{}\hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{08116} \textcolor{keywordtype}{void} \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{QCustomPlot::updateAxisRect}()
08117 \{
08118   \hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect} = \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport}.adjusted(\hyperlink{a00116_a011307bfbe2ac7e60f13d2fa45e31113}{mMarginLeft}, 
      \hyperlink{a00116_a746a9e31a0cf3ce3be1bbd3a6fa2c8be}{mMarginTop}, -\hyperlink{a00116_af5efe5736378d5f8061fd6bf5dc92a2d}{mMarginRight}, -\hyperlink{a00116_ad02e2d81ae66d4261d1e46a6979ea118}{mMarginBottom});
08119   \hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}->\hyperlink{a00025_a0188c6248366fc9f9ff816dceee986e0}{setAxisRect}(\hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect});
08120   \hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}->\hyperlink{a00025_a0188c6248366fc9f9ff816dceee986e0}{setAxisRect}(\hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect});
08121   \hyperlink{a00116_a058f6d3a4c86bf94c476e5c380711dba}{xAxis2}->\hyperlink{a00025_a0188c6248366fc9f9ff816dceee986e0}{setAxisRect}(\hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect});
08122   \hyperlink{a00116_a4fd6679232da7da0a1ae4e1b6ae83d6e}{yAxis2}->\hyperlink{a00025_a0188c6248366fc9f9ff816dceee986e0}{setAxisRect}(\hyperlink{a00116_aad382d311cfe6a81f47aa4ae3350021b}{mAxisRect});
08123 \}
08124 
\hypertarget{a00115_source_l08129}{}\hyperlink{a00116_a2a2d01a092840ac01b16104f7973f831}{08129} \textcolor{keywordtype}{bool} \hyperlink{a00116_a2a2d01a092840ac01b16104f7973f831}{QCustomPlot::selectTestTitle}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
08130 \textcolor{keyword}{}\{
08131   \textcolor{keywordflow}{return} \hyperlink{a00116_ab64b411eef7fd9d890c871993116d289}{mTitleBoundingBox}.contains(pos.toPoint());
08132 \}
08133 
\hypertarget{a00115_source_l08146}{}\hyperlink{a00116_ab528b84cf92baabe29b1d0ef2f77c93e}{08146} \textcolor{keywordtype}{bool} \hyperlink{a00116_ab528b84cf92baabe29b1d0ef2f77c93e}{QCustomPlot::saveRastered}(\textcolor{keyword}{const} QString &fileName, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, \textcolor{keywordtype}{
      double} scale, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *format, \textcolor{keywordtype}{int} quality)
08147 \{
08148   \textcolor{keywordtype}{int} newWidth, newHeight;
08149   \textcolor{keywordflow}{if} (width == 0 || height == 0)
08150   \{
08151     newWidth = this->width();
08152     newHeight = this->height();
08153   \} \textcolor{keywordflow}{else}
08154   \{
08155     newWidth = width;
08156     newHeight = height;
08157   \}
08158   \textcolor{keywordtype}{int} scaledWidth = qRound(scale*newWidth);
08159   \textcolor{keywordtype}{int} scaledHeight = qRound(scale*newHeight);
08160 
08161   QPixmap pngBuffer(scaledWidth, scaledHeight); \textcolor{comment}{// use QPixmap instead of QImage (like live painting
       buffer), because it supports background transparency (of mColor).}
08162   pngBuffer.fill(\hyperlink{a00116_ac071280171e215ffc7d416118bc28d90}{mColor});
08163   \hyperlink{a00047}{QCPPainter} painter(&pngBuffer);
08164   QRect oldViewport = \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport};
08165   \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport} = QRect(0, 0, newWidth, newHeight);
08166   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
08167   \textcolor{keywordflow}{if} (!qFuzzyCompare(scale, 1.0))
08168   \{
08169     \textcolor{keywordflow}{if} (scale > 1.0) \textcolor{comment}{// for scale < 1 we always want cosmetic pens where possible, because else lines would
       disappear}
08170     \{
08171       painter.\hyperlink{a00047_a256e886e856ae696503aeacae91535cd}{setScaledExportMode}(\textcolor{keyword}{true});
08172       painter.setRenderHint(QPainter::NonCosmeticDefaultPen);
08173     \}
08174     painter.scale(scale, scale);
08175   \}
08176   \hyperlink{a00116_a2e9b3d14dffa43c79835869d488936c9}{draw}(&painter);
08177   \hyperlink{a00116_a69feeea9d5254eab8ba7f9be13f85e0b}{mViewport} = oldViewport;
08178   \hyperlink{a00116_a428242419d3a1b63f2cbff637986c35c}{updateAxisRect}();
08179   \textcolor{keywordflow}{return} pngBuffer.save(fileName, format, quality);
08180 \}
08181 
08182 
08183 \textcolor{comment}{// ================================================================================}
08184 \textcolor{comment}{// =================== QCPAbstractPlottable}
08185 \textcolor{comment}{// ================================================================================}
08186 
08255 \textcolor{comment}{/* start of documentation of pure virtual functions */}
08256 
08330 \textcolor{comment}{/* end of documentation of pure virtual functions */}
08331 \textcolor{comment}{/* start of documentation of signals */}
08332 
08338 \textcolor{comment}{/* end of documentation of signals */}
08339 
\hypertarget{a00115_source_l08353}{}\hyperlink{a00024_af78a036e40db6f53a31abadc5323715a}{08353} \hyperlink{a00024_af78a036e40db6f53a31abadc5323715a}{QCPAbstractPlottable::QCPAbstractPlottable}(
      \hyperlink{a00025}{QCPAxis} *keyAxis, \hyperlink{a00025}{QCPAxis} *valueAxis) :
08354   \hyperlink{a00044}{QCPLayerable}(keyAxis->parentPlot()),
08355   mName(\textcolor{stringliteral}{""}),
08356   mAntialiasedFill(true),
08357   mAntialiasedScatters(true),
08358   mAntialiasedErrorBars(false),
08359   \hyperlink{a00116_abcb7df1a54826856cb8f0e0ef696873b}{mPen}(Qt::black),
08360   mSelectedPen(Qt::black),
08361   mBrush(Qt::NoBrush),
08362   mSelectedBrush(Qt::NoBrush),
08363   mKeyAxis(keyAxis),
08364   mValueAxis(valueAxis),
08365   mSelected(false),
08366   mSelectable(true)
08367 \{
08368   \textcolor{keywordflow}{if} (keyAxis->\hyperlink{a00044_ab7e0e94461566093d36ffc0f5312b109}{parentPlot}() != valueAxis->\hyperlink{a00044_ab7e0e94461566093d36ffc0f5312b109}{parentPlot}())
08369     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Parent plot of keyAxis is not the same as that of valueAxis."};
08370   \textcolor{keywordflow}{if} (keyAxis->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == valueAxis->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}())
08371     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"keyAxis and valueAxis must be orthogonal to each other."};
08372 \}
08373 
\hypertarget{a00115_source_l08378}{}\hyperlink{a00024_ab79c7ba76bc7fa89a4b3580e12149f1f}{08378} \textcolor{keywordtype}{void} \hyperlink{a00024_ab79c7ba76bc7fa89a4b3580e12149f1f}{QCPAbstractPlottable::setName}(\textcolor{keyword}{const} QString &name)
08379 \{
08380   \hyperlink{a00024_ac29ffef424e2488675930de18cde612a}{mName} = \hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name};
08381 \}
08382 
\hypertarget{a00115_source_l08389}{}\hyperlink{a00024_a089d6b5577120239b55c39ed27c39536}{08389} \textcolor{keywordtype}{void} \hyperlink{a00024_a089d6b5577120239b55c39ed27c39536}{QCPAbstractPlottable::setAntialiasedFill}(\textcolor{keywordtype}{bool} enabled)
08390 \{
08391   \hyperlink{a00024_a152ac765bedf927fb240545d11d453ea}{mAntialiasedFill} = enabled;
08392 \}
08393 
\hypertarget{a00115_source_l08400}{}\hyperlink{a00024_a2f03f067ede2ed4da6f7d0e4777a3f02}{08400} \textcolor{keywordtype}{void} \hyperlink{a00024_a2f03f067ede2ed4da6f7d0e4777a3f02}{QCPAbstractPlottable::setAntialiasedScatters}(\textcolor{keywordtype}{bool} enabled)
08401 \{
08402   \hyperlink{a00024_aa115755e525a8e3a86dc683f9cab755b}{mAntialiasedScatters} = enabled;
08403 \}
08404 
\hypertarget{a00115_source_l08411}{}\hyperlink{a00024_a757beb744b96cf1855cca5ab9d3ecf52}{08411} \textcolor{keywordtype}{void} \hyperlink{a00024_a757beb744b96cf1855cca5ab9d3ecf52}{QCPAbstractPlottable::setAntialiasedErrorBars}(\textcolor{keywordtype}{bool} 
      enabled)
08412 \{
08413   \hyperlink{a00024_ad48660b2bd301576e92fb033d8f455ea}{mAntialiasedErrorBars} = enabled;
08414 \}
08415 
08416 
\hypertarget{a00115_source_l08426}{}\hyperlink{a00024_ab74b09ae4c0e7e13142fe4b5bf46cac7}{08426} \textcolor{keywordtype}{void} \hyperlink{a00024_ab74b09ae4c0e7e13142fe4b5bf46cac7}{QCPAbstractPlottable::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
08427 \{
08428   \hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen} = \hyperlink{a00024_a41d060007cc6b3037c9c04d22d0c0398}{pen};
08429 \}
08430 
\hypertarget{a00115_source_l08437}{}\hyperlink{a00024_a6911603cad23ab0469b108224517516f}{08437} \textcolor{keywordtype}{void} \hyperlink{a00024_a6911603cad23ab0469b108224517516f}{QCPAbstractPlottable::setSelectedPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
08438 \{
08439   \hyperlink{a00024_a10619472f5d5e10e9519a599f1cf5576}{mSelectedPen} = \hyperlink{a00024_a41d060007cc6b3037c9c04d22d0c0398}{pen};
08440 \}
08441 
\hypertarget{a00115_source_l08451}{}\hyperlink{a00024_a7a4b92144dca6453a1f0f210e27edc74}{08451} \textcolor{keywordtype}{void} \hyperlink{a00024_a7a4b92144dca6453a1f0f210e27edc74}{QCPAbstractPlottable::setBrush}(\textcolor{keyword}{const} QBrush &brush)
08452 \{
08453   \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush} = \hyperlink{a00024_aa74cdceb9c7286ef116fbfa58e0326e7}{brush};
08454 \}
08455 
\hypertarget{a00115_source_l08462}{}\hyperlink{a00024_ae8c816874089f7a44001e8618e81a9dc}{08462} \textcolor{keywordtype}{void} \hyperlink{a00024_ae8c816874089f7a44001e8618e81a9dc}{QCPAbstractPlottable::setSelectedBrush}(\textcolor{keyword}{const} QBrush &brush)
08463 \{
08464   \hyperlink{a00024_aea3c0da30c7a8be23ad5f2d9bca36762}{mSelectedBrush} = \hyperlink{a00024_aa74cdceb9c7286ef116fbfa58e0326e7}{brush};
08465 \}
08466 
\hypertarget{a00115_source_l08478}{}\hyperlink{a00024_a8524fa2994c63c0913ebd9bb2ffa3920}{08478} \textcolor{keywordtype}{void} \hyperlink{a00024_a8524fa2994c63c0913ebd9bb2ffa3920}{QCPAbstractPlottable::setKeyAxis}(\hyperlink{a00025}{QCPAxis} *axis)
08479 \{
08480   \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis} = axis;
08481 \}
08482 
\hypertarget{a00115_source_l08494}{}\hyperlink{a00024_a71626a07367e241ec62ad2c34baf21cb}{08494} \textcolor{keywordtype}{void} \hyperlink{a00024_a71626a07367e241ec62ad2c34baf21cb}{QCPAbstractPlottable::setValueAxis}(
      \hyperlink{a00025}{QCPAxis} *axis)
08495 \{
08496   \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis} = axis;
08497 \}
08498 
\hypertarget{a00115_source_l08508}{}\hyperlink{a00024_a22c69299eb5569e0f6bf084877a37dc4}{08508} \textcolor{keywordtype}{void} \hyperlink{a00024_a22c69299eb5569e0f6bf084877a37dc4}{QCPAbstractPlottable::setSelectable}(\textcolor{keywordtype}{bool} selectable)
08509 \{
08510   \hyperlink{a00024_aceee52342c8e75727abcbd164986fdcb}{mSelectable} = \hyperlink{a00024_af895574da1ec0d050711b6c9deda296a}{selectable};
08511 \}
08512 
\hypertarget{a00115_source_l08527}{}\hyperlink{a00024_afbd5428c2952f59d952e11ab5cd79176}{08527} \textcolor{keywordtype}{void} \hyperlink{a00024_afbd5428c2952f59d952e11ab5cd79176}{QCPAbstractPlottable::setSelected}(\textcolor{keywordtype}{bool} selected)
08528 \{
08529   \textcolor{keywordflow}{if} (\hyperlink{a00024_a43f68a0603e9bcd016bdfa6d9d5c41c9}{mSelected} != selected)
08530   \{
08531     \hyperlink{a00024_a43f68a0603e9bcd016bdfa6d9d5c41c9}{mSelected} = \hyperlink{a00024_ab901903adcb0e29467d63de72340ab29}{selected};
08532     emit \hyperlink{a00024_a3af66432b1dca93b28e00e78a8c7c1d9}{selectionChanged}(\hyperlink{a00024_a43f68a0603e9bcd016bdfa6d9d5c41c9}{mSelected});
08533   \}
08534 \}
08535 
\hypertarget{a00115_source_l08547}{}\hyperlink{a00024_a7e8fc3be43c27ccacd70a7bf9d74a5cd}{08547} \textcolor{keywordtype}{void} \hyperlink{a00024_a7e8fc3be43c27ccacd70a7bf9d74a5cd}{QCPAbstractPlottable::rescaleAxes}(\textcolor{keywordtype}{bool} onlyEnlarge)\textcolor{keyword}{ const}
08548 \textcolor{keyword}{}\{
08549   \hyperlink{a00024_a1acecfcca3e7fcda00fcbaa3c886386f}{rescaleKeyAxis}(onlyEnlarge);
08550   \hyperlink{a00024_abfd0805eb1d955c0111a990246658324}{rescaleValueAxis}(onlyEnlarge);
08551 \}
08552 
\hypertarget{a00115_source_l08558}{}\hyperlink{a00024_a1acecfcca3e7fcda00fcbaa3c886386f}{08558} \textcolor{keywordtype}{void} \hyperlink{a00024_a1acecfcca3e7fcda00fcbaa3c886386f}{QCPAbstractPlottable::rescaleKeyAxis}(\textcolor{keywordtype}{bool} onlyEnlarge)\textcolor{keyword}{ const}
08559 \textcolor{keyword}{}\{
08560   \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} signDomain = \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth};
08561   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a8563e13407bc0616da7f7c84e02de170}{scaleType}() == QCPAxis::stLogarithmic)
08562     signDomain = (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 ? \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} : 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive});
08563   
08564   \textcolor{keywordtype}{bool} validRange;
08565   \hyperlink{a00049}{QCPRange} newRange = \hyperlink{a00024_a7aa24ed0b3c39bd99338c7b9f145a71b}{getKeyRange}(validRange, signDomain);
08566   \textcolor{keywordflow}{if} (validRange)
08567   \{
08568     \textcolor{keywordflow}{if} (onlyEnlarge)
08569     \{
08570       \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})
08571         newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
08572       \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
08573         newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
08574     \}
08575     \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(newRange);
08576   \}
08577 \}
08578 
\hypertarget{a00115_source_l08584}{}\hyperlink{a00024_abfd0805eb1d955c0111a990246658324}{08584} \textcolor{keywordtype}{void} \hyperlink{a00024_abfd0805eb1d955c0111a990246658324}{QCPAbstractPlottable::rescaleValueAxis}(\textcolor{keywordtype}{bool} onlyEnlarge)\textcolor{keyword}{ const}
08585 \textcolor{keyword}{}\{
08586   \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} signDomain = \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth};
08587   \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a8563e13407bc0616da7f7c84e02de170}{scaleType}() == QCPAxis::stLogarithmic)
08588     signDomain = (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} < 0 ? \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} : 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive});
08589   
08590   \textcolor{keywordtype}{bool} validRange;
08591   \hyperlink{a00049}{QCPRange} newRange = \hyperlink{a00024_aed35cfebe5546feea7af2638dd869d5f}{getValueRange}(validRange, signDomain);
08592   
08593   \textcolor{keywordflow}{if} (validRange)
08594   \{
08595     \textcolor{keywordflow}{if} (onlyEnlarge)
08596     \{
08597       \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower})
08598         newRange.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
08599       \textcolor{keywordflow}{if} (\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
08600         newRange.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
08601     \}
08602     \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a57d6ee9e9009fe88cb19db476ec70bca}{setRange}(newRange);
08603   \}
08604 \}
08605 
\hypertarget{a00115_source_l08618}{}\hyperlink{a00024_a70f8cabfd808f7d5204b9f18c45c13f5}{08618} \textcolor{keywordtype}{bool} \hyperlink{a00024_a70f8cabfd808f7d5204b9f18c45c13f5}{QCPAbstractPlottable::addToLegend}()
08619 \{
08620   \textcolor{keywordflow}{if} (!\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->legend->hasItemWithPlottable(\textcolor{keyword}{this}))
08621   \{
08622     \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->legend->addItem(\textcolor{keyword}{new} \hyperlink{a00024_a104c78e91302afd6842a903e472f552f}{QCPPlottableLegendItem}(
      \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->legend, \textcolor{keyword}{this}));
08623     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
08624   \} \textcolor{keywordflow}{else}
08625     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
08626 \}
08627 
\hypertarget{a00115_source_l08638}{}\hyperlink{a00024_aa1f350e510326d012b9a9c9249736c83}{08638} \textcolor{keywordtype}{bool} \hyperlink{a00024_aa1f350e510326d012b9a9c9249736c83}{QCPAbstractPlottable::removeFromLegend}()\textcolor{keyword}{ const}
08639 \textcolor{keyword}{}\{
08640   \textcolor{keywordflow}{if} (\hyperlink{a00048}{QCPPlottableLegendItem} *lip = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->legend->itemWithPlottable
      (\textcolor{keyword}{this}))
08641     \textcolor{keywordflow}{return} \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->legend->removeItem(lip);
08642   \textcolor{keywordflow}{else}
08643     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
08644 \}
08645 
08646 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l08647}{}\hyperlink{a00024_ac01960b0827913922f5364d559c124ed}{08647} QRect \hyperlink{a00024_ac01960b0827913922f5364d559c124ed}{QCPAbstractPlottable::clipRect}()\textcolor{keyword}{ const}
08648 \textcolor{keyword}{}\{
08649   \textcolor{keywordflow}{return} \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}() | \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}();
08650 \}
08651 
\hypertarget{a00115_source_l08662}{}\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{08662} \textcolor{keywordtype}{void} \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{QCPAbstractPlottable::coordsToPixels}(\textcolor{keywordtype}{double} 
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, \textcolor{keywordtype}{double} &x, \textcolor{keywordtype}{double} &y)\textcolor{keyword}{ const}
08663 \textcolor{keyword}{}\{
08664   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
08665   \{
08666     x = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(key);
08667     y = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(value);
08668   \} \textcolor{keywordflow}{else}
08669   \{
08670     y = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(key);
08671     x = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(value);
08672   \}
08673 \}
08674 
\hypertarget{a00115_source_l08680}{}\hyperlink{a00024_a9fd1c9df8391781f05b0be22fbe91e13}{08680} \textcolor{keyword}{const} QPointF \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{QCPAbstractPlottable::coordsToPixels}(\textcolor{keywordtype}{double} 
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
08681 \textcolor{keyword}{}\{
08682   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
08683     \textcolor{keywordflow}{return} QPointF(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(key), \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(value));
08684   \textcolor{keywordflow}{else}
08685     \textcolor{keywordflow}{return} QPointF(\hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(value), 
      \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(key));
08686 \}
08687 
\hypertarget{a00115_source_l08698}{}\hyperlink{a00024_a10408828446e9e0681c46d65120f382e}{08698} \textcolor{keywordtype}{void} \hyperlink{a00024_a10408828446e9e0681c46d65120f382e}{QCPAbstractPlottable::pixelsToCoords}(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} &
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
08699 \textcolor{keyword}{}\{
08700   \textcolor{keywordflow}{if} (\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
08701   \{
08702     key = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(x);
08703     value = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(y);
08704   \} \textcolor{keywordflow}{else}
08705   \{
08706     key = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(y);
08707     value = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(x);
08708   \}
08709 \}
08710 
\hypertarget{a00115_source_l08716}{}\hyperlink{a00024_a3e2c361cfcdfd5d803ada4d333a07e15}{08716} \textcolor{keywordtype}{void} \hyperlink{a00024_a10408828446e9e0681c46d65120f382e}{QCPAbstractPlottable::pixelsToCoords}(\textcolor{keyword}{const} QPointF &pixelPos, \textcolor{keywordtype}{
      double} &\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
08717 \textcolor{keyword}{}\{
08718   \hyperlink{a00024_a10408828446e9e0681c46d65120f382e}{pixelsToCoords}(pixelPos.x(), pixelPos.y(), \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value});
08719 \}
08720 
\hypertarget{a00115_source_l08726}{}\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{08726} QPen \hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{QCPAbstractPlottable::mainPen}()\textcolor{keyword}{ const}
08727 \textcolor{keyword}{}\{
08728   \textcolor{keywordflow}{return} \hyperlink{a00024_a43f68a0603e9bcd016bdfa6d9d5c41c9}{mSelected} ? \hyperlink{a00024_a10619472f5d5e10e9519a599f1cf5576}{mSelectedPen} : \hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen};
08729 \}
08730 
\hypertarget{a00115_source_l08736}{}\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{08736} QBrush \hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{QCPAbstractPlottable::mainBrush}()\textcolor{keyword}{ const}
08737 \textcolor{keyword}{}\{
08738   \textcolor{keywordflow}{return} \hyperlink{a00024_a43f68a0603e9bcd016bdfa6d9d5c41c9}{mSelected} ? \hyperlink{a00024_aea3c0da30c7a8be23ad5f2d9bca36762}{mSelectedBrush} : \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush};
08739 \}
08740 
\hypertarget{a00115_source_l08753}{}\hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{08753} \textcolor{keywordtype}{void} \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{QCPAbstractPlottable::applyDefaultAntialiasingHint}(
      \hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
08754 \textcolor{keyword}{}\{
08755   \hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{applyAntialiasingHint}(painter, \hyperlink{a00044_a3ab45a4c76a3333ce42eb217a81733ec}{mAntialiased}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca4145e4251b0cf2dbedabeea0a38f84f6}{QCP::aePlottables});
08756 \}
08757 
\hypertarget{a00115_source_l08768}{}\hyperlink{a00024_ac08a480155895e674dbfe5a5670e0ff3}{08768} \textcolor{keywordtype}{void} \hyperlink{a00024_ac08a480155895e674dbfe5a5670e0ff3}{QCPAbstractPlottable::applyFillAntialiasingHint}(
      \hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
08769 \textcolor{keyword}{}\{
08770   \hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{applyAntialiasingHint}(painter, \hyperlink{a00024_a152ac765bedf927fb240545d11d453ea}{mAntialiasedFill}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca788810f0aa930137de6ad6cc6d83d354}{QCP::aeFills});
08771 \}
08772 
\hypertarget{a00115_source_l08783}{}\hyperlink{a00024_a753272ee225a62827e90c3e1e78de4b1}{08783} \textcolor{keywordtype}{void} \hyperlink{a00024_a753272ee225a62827e90c3e1e78de4b1}{QCPAbstractPlottable::applyScattersAntialiasingHint}
      (\hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
08784 \textcolor{keyword}{}\{
08785   \hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{applyAntialiasingHint}(painter, \hyperlink{a00024_aa115755e525a8e3a86dc683f9cab755b}{mAntialiasedScatters}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0cae45ed8cd167bffe27d7f40da4bc17e9c}{QCP::aeScatters});
08786 \}
08787 
\hypertarget{a00115_source_l08798}{}\hyperlink{a00024_af687bfe6160255960558eb71f1f81e73}{08798} \textcolor{keywordtype}{void} \hyperlink{a00024_af687bfe6160255960558eb71f1f81e73}{QCPAbstractPlottable::applyErrorBarsAntialiasingHint}
      (\hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
08799 \textcolor{keyword}{}\{
08800   \hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{applyAntialiasingHint}(painter, \hyperlink{a00024_ad48660b2bd301576e92fb033d8f455ea}{mAntialiasedErrorBars}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca9dcf3882cb321bb305f71fdc0f09f63d}{QCP::aeErrorBars});
08801 \}
08802 
\hypertarget{a00115_source_l08813}{}\hyperlink{a00024_a5ea1cab44ca912dcdc96ed81ec5bed5d}{08813} \textcolor{keywordtype}{double} \hyperlink{a00024_a5ea1cab44ca912dcdc96ed81ec5bed5d}{QCPAbstractPlottable::distSqrToLine}(\textcolor{keyword}{const} QPointF &start, \textcolor{keyword}{const} 
      QPointF &end, \textcolor{keyword}{const} QPointF &point)\textcolor{keyword}{ const}
08814 \textcolor{keyword}{}\{
08815   QVector2D a(start);
08816   QVector2D b(end);
08817   QVector2D p(point);
08818   QVector2D v(b-a);
08819   
08820   \textcolor{keywordtype}{double} vLengthSqr = v.lengthSquared();
08821   \textcolor{keywordflow}{if} (!qFuzzyIsNull(vLengthSqr))
08822   \{
08823     \textcolor{keywordtype}{double} mu = QVector2D::dotProduct(p-a, v)/vLengthSqr;
08824     \textcolor{keywordflow}{if} (mu < 0)
08825       \textcolor{keywordflow}{return} (a-p).lengthSquared();
08826     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mu > 1)
08827       \textcolor{keywordflow}{return} (b-p).lengthSquared();
08828     \textcolor{keywordflow}{else}
08829       \textcolor{keywordflow}{return} ((a + mu*v)-p).lengthSquared();
08830   \} \textcolor{keywordflow}{else}
08831     \textcolor{keywordflow}{return} (a-p).lengthSquared();
08832 \}
08833 
08834 
08835 \textcolor{comment}{// ================================================================================}
08836 \textcolor{comment}{// =================== QCPAbstractLegendItem}
08837 \textcolor{comment}{// ================================================================================}
08838 
08864 \textcolor{comment}{/* start documentation of pure virtual functions */}
08865 
08880 \textcolor{comment}{/* end documentation of pure virtual functions */}
08881 \textcolor{comment}{/* start of documentation of signals */}
08882 
08889 \textcolor{comment}{/* end of documentation of signals */}
08890 
\hypertarget{a00115_source_l08895}{}\hyperlink{a00023_afaff87610e8da0fa238ecf552872d774}{08895} \hyperlink{a00023_afaff87610e8da0fa238ecf552872d774}{QCPAbstractLegendItem::QCPAbstractLegendItem}(
      \hyperlink{a00045}{QCPLegend} *parent) : 
08896   \hyperlink{a00059}{QObject}(parent),
08897   mParentLegend(parent),
08898   mAntialiased(false),
08899   mFont(parent->font()),
08900   mTextColor(parent->textColor()),
08901   mSelectedFont(parent->selectedFont()),
08902   mSelectedTextColor(parent->selectedTextColor()),
08903   mSelectable(true),
08904   mSelected(false)
08905 \{
08906 \}
08907 
\hypertarget{a00115_source_l08914}{}\hyperlink{a00023_a158dc34e221b304a3e3c577b9824a88d}{08914} \textcolor{keywordtype}{void} \hyperlink{a00023_a158dc34e221b304a3e3c577b9824a88d}{QCPAbstractLegendItem::setAntialiased}(\textcolor{keywordtype}{bool} enabled)
08915 \{
08916   \hyperlink{a00023_a796a604ca3309960968aec8067bfc327}{mAntialiased} = enabled;
08917 \}
08918 
\hypertarget{a00115_source_l08924}{}\hyperlink{a00023_a409c53455d8112f71d70c0c43eb10265}{08924} \textcolor{keywordtype}{void} \hyperlink{a00023_a409c53455d8112f71d70c0c43eb10265}{QCPAbstractLegendItem::setFont}(\textcolor{keyword}{const} QFont &font)
08925 \{
08926   \hyperlink{a00023_ae916a78ac0d2a60e20a17ca2f24f9754}{mFont} = \hyperlink{a00023_ae476404706638d84fadc01021df2b19e}{font};
08927 \}
08928 
\hypertarget{a00115_source_l08934}{}\hyperlink{a00023_a6ebace6aaffaedcdab2d74e88acc2d1e}{08934} \textcolor{keywordtype}{void} \hyperlink{a00023_a6ebace6aaffaedcdab2d74e88acc2d1e}{QCPAbstractLegendItem::setTextColor}(\textcolor{keyword}{const} QColor &
      \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
08935 \{
08936   \hyperlink{a00023_a974b21e9930227d281344bd2242d289d}{mTextColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
08937 \}
08938 
\hypertarget{a00115_source_l08945}{}\hyperlink{a00023_a91db5aee48617a9d3206e61376807365}{08945} \textcolor{keywordtype}{void} \hyperlink{a00023_a91db5aee48617a9d3206e61376807365}{QCPAbstractLegendItem::setSelectedFont}(\textcolor{keyword}{const} QFont &font)
08946 \{
08947   \hyperlink{a00023_ab971df604306b192875a7d097feb1e21}{mSelectedFont} = \hyperlink{a00023_ae476404706638d84fadc01021df2b19e}{font};
08948 \}
08949 
\hypertarget{a00115_source_l08956}{}\hyperlink{a00023_a4d01d008ee1a5bfe9905b0397a421936}{08956} \textcolor{keywordtype}{void} \hyperlink{a00023_a4d01d008ee1a5bfe9905b0397a421936}{QCPAbstractLegendItem::setSelectedTextColor}(\textcolor{keyword}{const} QColor &
      \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
08957 \{
08958   \hyperlink{a00023_a4965c13854d970b24c284f0a4f005fbd}{mSelectedTextColor} = \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color};
08959 \}
08960 
\hypertarget{a00115_source_l08966}{}\hyperlink{a00023_a9913ef48730551b696e7f98a2391c599}{08966} \textcolor{keywordtype}{void} \hyperlink{a00023_a9913ef48730551b696e7f98a2391c599}{QCPAbstractLegendItem::setSelectable}(\textcolor{keywordtype}{bool} selectable)
08967 \{
08968   \hyperlink{a00023_aa84029f57b1b32f642fb7db63c3fc2c2}{mSelectable} = \hyperlink{a00023_a0a0205f33f37edae50826c24cb8f1983}{selectable};
08969 \}
08970 
\hypertarget{a00115_source_l08980}{}\hyperlink{a00023_a6eed93b0ab99cb3eabb043fb08179c2b}{08980} \textcolor{keywordtype}{void} \hyperlink{a00023_a6eed93b0ab99cb3eabb043fb08179c2b}{QCPAbstractLegendItem::setSelected}(\textcolor{keywordtype}{bool} selected)
08981 \{
08982   \textcolor{keywordflow}{if} (\hyperlink{a00023_ae58ebebbd0c36cc6fe897483369984d2}{mSelected} != selected)
08983   \{
08984     \hyperlink{a00023_ae58ebebbd0c36cc6fe897483369984d2}{mSelected} = \hyperlink{a00023_ac776e68e3367704452131c6aa9908bb9}{selected};
08985     emit \hyperlink{a00023_a7cb61fdfbaf69c590bacb8f9e7099d9e}{selectionChanged}(\hyperlink{a00023_ae58ebebbd0c36cc6fe897483369984d2}{mSelected});
08986     \hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00045_ac214f7503cf46225f08f91003f554bdd}{updateSelectionState}();
08987   \}
08988 \}
08989 
\hypertarget{a00115_source_l08996}{}\hyperlink{a00023_a71291e0a2983bddb821289cb6954831c}{08996} \textcolor{keywordtype}{void} \hyperlink{a00023_a71291e0a2983bddb821289cb6954831c}{QCPAbstractLegendItem::applyAntialiasingHint}(
      \hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
08997 \textcolor{keyword}{}\{
08998   \textcolor{keywordflow}{if} (\hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->notAntialiasedElements().testFlag(
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca1aca7a50c1b95403958733a4acafe773}{QCP::aeLegendItems}))
08999     painter->\hyperlink{a00047_aaba1deb9188244d9ea65b035112b4d05}{setAntialiasing}(\textcolor{keyword}{false});
09000   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->antialiasedElements().testFlag(
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca1aca7a50c1b95403958733a4acafe773}{QCP::aeLegendItems}))
09001     painter->\hyperlink{a00047_aaba1deb9188244d9ea65b035112b4d05}{setAntialiasing}(\textcolor{keyword}{true});
09002   \textcolor{keywordflow}{else}
09003     painter->\hyperlink{a00047_aaba1deb9188244d9ea65b035112b4d05}{setAntialiasing}(\hyperlink{a00023_a796a604ca3309960968aec8067bfc327}{mAntialiased});
09004 \}
09005 
09006 
09007 \textcolor{comment}{// ================================================================================}
09008 \textcolor{comment}{// =================== QCPPlottableLegendItem}
09009 \textcolor{comment}{// ================================================================================}
\hypertarget{a00115_source_l09040}{}\hyperlink{a00048_ac1072591fe409d3dabad51b23ee4d6c5}{09040} \textcolor{comment}{}\hyperlink{a00048_ac1072591fe409d3dabad51b23ee4d6c5}{QCPPlottableLegendItem::QCPPlottableLegendItem}(
      \hyperlink{a00045}{QCPLegend} *parent, \hyperlink{a00024}{QCPAbstractPlottable} *\hyperlink{a00116_a5c198d46ea2a2255a1b73e2c590f0364}{plottable}) :
09041   \hyperlink{a00023}{QCPAbstractLegendItem}(parent),
09042   mPlottable(plottable),
09043   mTextWrap(false)
09044 \{
09045 \}
09046 
\hypertarget{a00115_source_l09055}{}\hyperlink{a00048_ad5155ff022427947dc5c015cbf8e28b7}{09055} \textcolor{keywordtype}{void} \hyperlink{a00048_ad5155ff022427947dc5c015cbf8e28b7}{QCPPlottableLegendItem::setTextWrap}(\textcolor{keywordtype}{bool} wrap)
09056 \{
09057   \hyperlink{a00048_a074d2372cb8954d30ff8ad533462ce96}{mTextWrap} = wrap;
09058 \}
09059 
\hypertarget{a00115_source_l09065}{}\hyperlink{a00048_ab36270e6b022a6961fa44136f35c0e4b}{09065} QPen \hyperlink{a00048_ab36270e6b022a6961fa44136f35c0e4b}{QCPPlottableLegendItem::getIconBorderPen}()\textcolor{keyword}{ const}
09066 \textcolor{keyword}{}\{
09067   \textcolor{keywordflow}{return} \hyperlink{a00023_ae58ebebbd0c36cc6fe897483369984d2}{mSelected} ? \hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00045_a165630cad7e41f89b54f65cdef3310e8}{selectedIconBorderPen}() : 
      \hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00045_a2c4719d79630b0d0c75ef2333c59a912}{iconBorderPen}();
09068 \}
09069 
\hypertarget{a00115_source_l09075}{}\hyperlink{a00048_ad762b07439c738660ba93e78c1d03667}{09075} QColor \hyperlink{a00048_ad762b07439c738660ba93e78c1d03667}{QCPPlottableLegendItem::getTextColor}()\textcolor{keyword}{ const}
09076 \textcolor{keyword}{}\{
09077   \textcolor{keywordflow}{return} \hyperlink{a00023_ae58ebebbd0c36cc6fe897483369984d2}{mSelected} ? \hyperlink{a00023_a4965c13854d970b24c284f0a4f005fbd}{mSelectedTextColor} : \hyperlink{a00023_a974b21e9930227d281344bd2242d289d}{mTextColor};
09078 \}
09079 
\hypertarget{a00115_source_l09085}{}\hyperlink{a00048_a8a85c8a25affb4895423d730164d61de}{09085} QFont \hyperlink{a00048_a8a85c8a25affb4895423d730164d61de}{QCPPlottableLegendItem::getFont}()\textcolor{keyword}{ const}
09086 \textcolor{keyword}{}\{
09087   \textcolor{keywordflow}{return} \hyperlink{a00023_ae58ebebbd0c36cc6fe897483369984d2}{mSelected} ? \hyperlink{a00023_ab971df604306b192875a7d097feb1e21}{mSelectedFont} : \hyperlink{a00023_ae916a78ac0d2a60e20a17ca2f24f9754}{mFont};
09088 \}
09089 
\hypertarget{a00115_source_l09100}{}\hyperlink{a00048_ad5f15d26b1c7e2532455528a4c3c578b}{09100} \textcolor{keywordtype}{void} \hyperlink{a00048_ad5f15d26b1c7e2532455528a4c3c578b}{QCPPlottableLegendItem::draw}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keyword}{const} QRect &
      rect)\textcolor{keyword}{ const}
09101 \textcolor{keyword}{}\{
09102   \textcolor{keywordflow}{if} (!\hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}) \textcolor{keywordflow}{return};
09103   painter->setFont(\hyperlink{a00048_a8a85c8a25affb4895423d730164d61de}{getFont}());
09104   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(QPen(\hyperlink{a00048_ad762b07439c738660ba93e78c1d03667}{getTextColor}()));
09105   \textcolor{keywordtype}{int} iconTextPadding = \hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00045_a9d6d07042a284c4ba5f9e3cb5c9281ef}{iconTextPadding}();
09106   QSize iconSize = \hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00045_a27dfb770b14adc0e8811bef8129780a5}{iconSize}();
09107   QRect textRect;
09108   QRect iconRect(rect.topLeft(), iconSize);
09109   \textcolor{keywordflow}{if} (\hyperlink{a00048_a074d2372cb8954d30ff8ad533462ce96}{mTextWrap})
09110   \{
09111     \textcolor{comment}{// take width from rect since our text should wrap there (only icon must fit at least):}
09112     textRect = painter->fontMetrics().boundingRect(0, 0, rect.width()-iconTextPadding-iconSize.width(), 
      rect.height(), Qt::TextDontClip | Qt::TextWordWrap, \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name}());
09113     \textcolor{keywordflow}{if} (textRect.height() < iconSize.height()) \textcolor{comment}{// text smaller than icon, center text vertically in icon
       height}
09114     \{
09115       painter->drawText(rect.x()+iconSize.width()+iconTextPadding, rect.y(), rect.width()-iconTextPadding-
      iconSize.width(), iconSize.height(), Qt::TextDontClip | Qt::TextWordWrap, 
      \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name}());
09116     \} \textcolor{keywordflow}{else} \textcolor{comment}{// text bigger than icon, position top of text with top of icon}
09117     \{
09118       painter->drawText(rect.x()+iconSize.width()+iconTextPadding, rect.y(), rect.width()-iconTextPadding-
      iconSize.width(), textRect.height(), Qt::TextDontClip | Qt::TextWordWrap, 
      \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name}());
09119     \}
09120   \} \textcolor{keywordflow}{else}
09121   \{
09122     \textcolor{comment}{// text can't wrap (except with explicit newlines), center at current item size (icon size)}
09123     textRect = painter->fontMetrics().boundingRect(0, 0, 0, rect.height(), Qt::TextDontClip, 
      \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name}());
09124     \textcolor{keywordflow}{if} (textRect.height() < iconSize.height()) \textcolor{comment}{// text smaller than icon, center text vertically in icon
       height}
09125     \{
09126       painter->drawText(rect.x()+iconSize.width()+iconTextPadding, rect.y(), rect.width(), iconSize.height(
      ), Qt::TextDontClip, \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name}());
09127     \} \textcolor{keywordflow}{else} \textcolor{comment}{// text bigger than icon, position top of text with top of icon}
09128     \{
09129       painter->drawText(rect.x()+iconSize.width()+iconTextPadding, rect.y(), rect.width(), textRect.height(
      ), Qt::TextDontClip, \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name}());
09130     \}
09131   \}
09132   \textcolor{comment}{// draw icon:}
09133   painter->\hyperlink{a00047_a8fd6821ee6fecbfa04444c9062912abd}{save}();
09134   painter->setClipRect(iconRect, Qt::IntersectClip);
09135   \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_ab28af4bd3965813be4223d8092aed38b}{drawLegendIcon}(painter, iconRect);
09136   painter->\hyperlink{a00047_a64908e6298d5bbd83457dc987cc3a022}{restore}();
09137   \textcolor{comment}{// draw icon border:}
09138   \textcolor{keywordflow}{if} (\hyperlink{a00048_ab36270e6b022a6961fa44136f35c0e4b}{getIconBorderPen}().style() != Qt::NoPen)
09139   \{
09140     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00048_ab36270e6b022a6961fa44136f35c0e4b}{getIconBorderPen}());
09141     painter->setBrush(Qt::NoBrush);
09142     painter->drawRect(iconRect);
09143   \}
09144 \}
09145 
\hypertarget{a00115_source_l09157}{}\hyperlink{a00048_af79ab526cc79f4ea5d9c601d139b2166}{09157} QSize \hyperlink{a00048_af79ab526cc79f4ea5d9c601d139b2166}{QCPPlottableLegendItem::size}(\textcolor{keyword}{const} QSize &targetSize)\textcolor{keyword}{ const}
09158 \textcolor{keyword}{}\{
09159   \textcolor{keywordflow}{if} (!\hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}) \textcolor{keywordflow}{return} QSize();
09160   QSize result(0, 0);
09161   QRect textRect;
09162   QFontMetrics fontMetrics(\hyperlink{a00048_a8a85c8a25affb4895423d730164d61de}{getFont}());
09163   \textcolor{keywordtype}{int} iconTextPadding = \hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00045_a9d6d07042a284c4ba5f9e3cb5c9281ef}{iconTextPadding}();
09164   QSize iconSize = \hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00045_a27dfb770b14adc0e8811bef8129780a5}{iconSize}();
09165   \textcolor{keywordflow}{if} (\hyperlink{a00048_a074d2372cb8954d30ff8ad533462ce96}{mTextWrap})
09166   \{
09167     \textcolor{comment}{// take width from targetSize since our text can wrap (Only icon must fit at least):}
09168     textRect = fontMetrics.boundingRect(0, 0, targetSize.width()-iconTextPadding-iconSize.width(), iconSize
      .height(), Qt::TextDontClip | Qt::TextWordWrap, \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name}());
09169   \} \textcolor{keywordflow}{else}
09170   \{
09171     \textcolor{comment}{// text can't wrap (except with explicit newlines), center at current item size (icon size)}
09172     textRect = fontMetrics.boundingRect(0, 0, 0, iconSize.height(), Qt::TextDontClip, 
      \hyperlink{a00048_ada647fb4b22971a1a424e15b4f6af0d9}{mPlottable}->\hyperlink{a00024_a1affc1972938e4364a9325e4e4e4dcea}{name}());
09173   \}
09174   result.setWidth(iconSize.width() + \hyperlink{a00023_aafcd9fc6fcb10f4a8d46037011afafe8}{mParentLegend}->\hyperlink{a00045_a9d6d07042a284c4ba5f9e3cb5c9281ef}{iconTextPadding}() + 
      textRect.width());
09175   result.setHeight(qMax(textRect.height(), iconSize.height()));
09176   \textcolor{keywordflow}{return} result;
09177 \}
09178 
09179 \textcolor{comment}{// ================================================================================}
09180 \textcolor{comment}{// =================== QCPCurve}
09181 \textcolor{comment}{// ================================================================================}
\hypertarget{a00115_source_l09216}{}\hyperlink{a00028_a36de58e2652b3fa47bdf9187d421d3ce}{09216} \textcolor{comment}{}\hyperlink{a00028_a36de58e2652b3fa47bdf9187d421d3ce}{QCPCurve::QCPCurve}(\hyperlink{a00025}{QCPAxis} *keyAxis, \hyperlink{a00025}{QCPAxis} *valueAxis) :
09217   \hyperlink{a00024}{QCPAbstractPlottable}(keyAxis, valueAxis)
09218 \{
09219   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData} = \textcolor{keyword}{new} \hyperlink{a00116_a444d37ec9cb2951b3a7fe443c34d1658}{QCPCurveDataMap};
09220   \hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen}.setColor(Qt::blue);
09221   \hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen}.setStyle(Qt::SolidLine);
09222   \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush}.setColor(Qt::blue);
09223   \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush}.setStyle(Qt::NoBrush);
09224   \hyperlink{a00024_a10619472f5d5e10e9519a599f1cf5576}{mSelectedPen} = \hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen};
09225   \hyperlink{a00024_a10619472f5d5e10e9519a599f1cf5576}{mSelectedPen}.setWidthF(2.5);
09226   \hyperlink{a00024_a10619472f5d5e10e9519a599f1cf5576}{mSelectedPen}.setColor(QColor(80, 80, 255)); \textcolor{comment}{// lighter than Qt::blue of mPen}
09227   \hyperlink{a00024_aea3c0da30c7a8be23ad5f2d9bca36762}{mSelectedBrush} = \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush};
09228   
09229   \hyperlink{a00028_acbb799ad22e8b78b1abe58bae2a4c413}{setScatterSize}(6);
09230   \hyperlink{a00028_a478a6f67c135f354c0401ba01fc088a0}{setScatterStyle}(\hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone});
09231   \hyperlink{a00028_a4a377ec863ff81a1875c3094a6177c19}{setLineStyle}(\hyperlink{a00028_a2710e9f79302152cff794c6e16cc01f1ade5822ce6fbf131d3df131795c2e1003}{lsLine});
09232 \}
09233 
\hypertarget{a00115_source_l09234}{}\hyperlink{a00028_a99ee5136754884a220cc0bcacfe419a3}{09234} \hyperlink{a00028_a99ee5136754884a220cc0bcacfe419a3}{QCPCurve::~QCPCurve}()
09235 \{
09236   \textcolor{keyword}{delete} \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData};
09237 \}
09238 
\hypertarget{a00115_source_l09246}{}\hyperlink{a00028_a631ac886708460013b30052f49cbc9da}{09246} \textcolor{keywordtype}{void} \hyperlink{a00028_a631ac886708460013b30052f49cbc9da}{QCPCurve::setData}(\hyperlink{a00116_a444d37ec9cb2951b3a7fe443c34d1658}{QCPCurveDataMap} *data, \textcolor{keywordtype}{bool} copy)
09247 \{
09248   \textcolor{keywordflow}{if} (copy)
09249   \{
09250     *\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData} = *\hyperlink{a00028_a2d458796254673b72dead4a226c5e4d9}{data};
09251   \} \textcolor{keywordflow}{else}
09252   \{
09253     \textcolor{keyword}{delete} \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData};
09254     \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData} = \hyperlink{a00028_a2d458796254673b72dead4a226c5e4d9}{data};
09255   \}
09256 \}
09257 
\hypertarget{a00115_source_l09264}{}\hyperlink{a00028_affe80e011e2ced62a88f614acd6ab8d1}{09264} \textcolor{keywordtype}{void} \hyperlink{a00028_a631ac886708460013b30052f49cbc9da}{QCPCurve::setData}(\textcolor{keyword}{const} QVector<double> &t, \textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
09265 \{
09266   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->clear();
09267   \textcolor{keywordtype}{int} n = t.size();
09268   n = qMin(n, key.size());
09269   n = qMin(n, value.size());
09270   \hyperlink{a00029}{QCPCurveData} newData;
09271   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
09272   \{
09273     newData.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t} = t[i];
09274     newData.key = key[i];
09275     newData.value = value[i];
09276     \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->insertMulti(newData.t, newData);
09277   \}
09278 \}
09279 
\hypertarget{a00115_source_l09285}{}\hyperlink{a00028_a963d4c45777deef15848a8f56172d066}{09285} \textcolor{keywordtype}{void} \hyperlink{a00028_a631ac886708460013b30052f49cbc9da}{QCPCurve::setData}(\textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
09286 \{
09287   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->clear();
09288   \textcolor{keywordtype}{int} n = key.size();
09289   n = qMin(n, value.size());
09290   \hyperlink{a00029}{QCPCurveData} newData;
09291   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
09292   \{
09293     newData.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t} = i; \textcolor{comment}{// no t vector given, so we assign t the index of the key/value pair}
09294     newData.key = key[i];
09295     newData.value = value[i];
09296     \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->insertMulti(newData.t, newData);
09297   \}
09298 \}
09299 
\hypertarget{a00115_source_l09305}{}\hyperlink{a00028_a478a6f67c135f354c0401ba01fc088a0}{09305} \textcolor{keywordtype}{void} \hyperlink{a00028_a478a6f67c135f354c0401ba01fc088a0}{QCPCurve::setScatterStyle}(\hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26f}{QCP::ScatterStyle} style)
09306 \{
09307   \hyperlink{a00028_a5700a112cb679dc983648f67151d5cae}{mScatterStyle} = style;
09308 \}
09309 
\hypertarget{a00115_source_l09317}{}\hyperlink{a00028_acbb799ad22e8b78b1abe58bae2a4c413}{09317} \textcolor{keywordtype}{void} \hyperlink{a00028_acbb799ad22e8b78b1abe58bae2a4c413}{QCPCurve::setScatterSize}(\textcolor{keywordtype}{double} size)
09318 \{
09319   \hyperlink{a00028_a504f8e596491386d133de153c73a0777}{mScatterSize} = size;
09320 \}
09321 
\hypertarget{a00115_source_l09328}{}\hyperlink{a00028_aa34367ca7fe302477929078187de26ff}{09328} \textcolor{keywordtype}{void} \hyperlink{a00028_aa34367ca7fe302477929078187de26ff}{QCPCurve::setScatterPixmap}(\textcolor{keyword}{const} QPixmap &pixmap)
09329 \{
09330   \hyperlink{a00028_a04103a65b13b2218265e74c567a7061e}{mScatterPixmap} = pixmap;
09331 \}
09332 
\hypertarget{a00115_source_l09340}{}\hyperlink{a00028_a4a377ec863ff81a1875c3094a6177c19}{09340} \textcolor{keywordtype}{void} \hyperlink{a00028_a4a377ec863ff81a1875c3094a6177c19}{QCPCurve::setLineStyle}(\hyperlink{a00028_a2710e9f79302152cff794c6e16cc01f1}{QCPCurve::LineStyle} style)
09341 \{
09342   \hyperlink{a00028_ae1f35ae2b15aee8e15bcdfec5be95156}{mLineStyle} = style;
09343 \}
09344 
\hypertarget{a00115_source_l09349}{}\hyperlink{a00028_a4e24023c3b9ac75440c7a260172c99af}{09349} \textcolor{keywordtype}{void} \hyperlink{a00028_a4e24023c3b9ac75440c7a260172c99af}{QCPCurve::addData}(\textcolor{keyword}{const} \hyperlink{a00116_a444d37ec9cb2951b3a7fe443c34d1658}{QCPCurveDataMap} &dataMap)
09350 \{
09351   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->unite(dataMap);
09352 \}
09353 
\hypertarget{a00115_source_l09358}{}\hyperlink{a00028_ad304326aba096911f92452d8bfe0470e}{09358} \textcolor{keywordtype}{void} \hyperlink{a00028_a4e24023c3b9ac75440c7a260172c99af}{QCPCurve::addData}(\textcolor{keyword}{const} \hyperlink{a00029}{QCPCurveData} &data)
09359 \{
09360   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->insertMulti(data.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t}, data);
09361 \}
09362 
\hypertarget{a00115_source_l09367}{}\hyperlink{a00028_a13398b236f6926014e404eeb5b9f415c}{09367} \textcolor{keywordtype}{void} \hyperlink{a00028_a4e24023c3b9ac75440c7a260172c99af}{QCPCurve::addData}(\textcolor{keywordtype}{double} t, \textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
09368 \{
09369   \hyperlink{a00029}{QCPCurveData} newData;
09370   newData.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t} = t;
09371   newData.\hyperlink{a00029_a8a4ec5f2b9a396149fd842e309701bd4}{key} = \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
09372   newData.\hyperlink{a00029_a72b39b8e1dbf7b45382ebd48419b6828}{value} = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
09373   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->insertMulti(newData.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t}, newData);
09374 \}
09375 
\hypertarget{a00115_source_l09384}{}\hyperlink{a00028_ada4762e793cd5707b33f35b8a4b0f8fb}{09384} \textcolor{keywordtype}{void} \hyperlink{a00028_a4e24023c3b9ac75440c7a260172c99af}{QCPCurve::addData}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
09385 \{
09386   \hyperlink{a00029}{QCPCurveData} newData;
09387   \textcolor{keywordflow}{if} (!\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->isEmpty())
09388     newData.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t} = (\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constEnd()-1).\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}()+1;
09389   \textcolor{keywordflow}{else}
09390     newData.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t} = 0;
09391   newData.\hyperlink{a00029_a8a4ec5f2b9a396149fd842e309701bd4}{key} = \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
09392   newData.\hyperlink{a00029_a72b39b8e1dbf7b45382ebd48419b6828}{value} = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
09393   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->insertMulti(newData.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t}, newData);
09394 \}
09395 
\hypertarget{a00115_source_l09400}{}\hyperlink{a00028_a27c8b3dddd4067d626397ee199626722}{09400} \textcolor{keywordtype}{void} \hyperlink{a00028_a4e24023c3b9ac75440c7a260172c99af}{QCPCurve::addData}(\textcolor{keyword}{const} QVector<double> &ts, \textcolor{keyword}{const} QVector<double> &keys, \textcolor{keyword}{const} 
      QVector<double> &values)
09401 \{
09402   \textcolor{keywordtype}{int} n = ts.size();
09403   n = qMin(n, keys.size());
09404   n = qMin(n, values.size());
09405   \hyperlink{a00029}{QCPCurveData} newData;
09406   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
09407   \{
09408     newData.\hyperlink{a00029_aecc395525be28e9178a088793beb3ff3}{t} = ts[i];
09409     newData.key = keys[i];
09410     newData.value = values[i];
09411     \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->insertMulti(newData.t, newData);
09412   \}
09413 \}
09414 
\hypertarget{a00115_source_l09419}{}\hyperlink{a00028_af6f4284fbc2f34e676f24dce03c34fe5}{09419} \textcolor{keywordtype}{void} \hyperlink{a00028_af6f4284fbc2f34e676f24dce03c34fe5}{QCPCurve::removeDataBefore}(\textcolor{keywordtype}{double} t)
09420 \{
09421   QCPCurveDataMap::iterator it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->begin();
09422   \textcolor{keywordflow}{while} (it != \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->end() && it.key() < t)
09423     it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->erase(it);
09424 \}
09425 
\hypertarget{a00115_source_l09430}{}\hyperlink{a00028_a0365cb947c4e6d405ee22e00191d5f52}{09430} \textcolor{keywordtype}{void} \hyperlink{a00028_a0365cb947c4e6d405ee22e00191d5f52}{QCPCurve::removeDataAfter}(\textcolor{keywordtype}{double} t)
09431 \{
09432   \textcolor{keywordflow}{if} (\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->isEmpty()) \textcolor{keywordflow}{return};
09433   QCPCurveDataMap::iterator it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->upperBound(t);
09434   \textcolor{keywordflow}{while} (it != \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->end())
09435     it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->erase(it);
09436 \}
09437 
\hypertarget{a00115_source_l09445}{}\hyperlink{a00028_ad45bb5479be799163028ef2b776f7221}{09445} \textcolor{keywordtype}{void} \hyperlink{a00028_ad45bb5479be799163028ef2b776f7221}{QCPCurve::removeData}(\textcolor{keywordtype}{double} fromt, \textcolor{keywordtype}{double} tot)
09446 \{
09447   \textcolor{keywordflow}{if} (fromt >= tot || \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->isEmpty()) \textcolor{keywordflow}{return};
09448   QCPCurveDataMap::iterator it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->upperBound(fromt);
09449   QCPCurveDataMap::iterator itEnd = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->upperBound(tot);
09450   \textcolor{keywordflow}{while} (it != itEnd)
09451     it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->erase(it);
09452 \}
09453 
\hypertarget{a00115_source_l09463}{}\hyperlink{a00028_a30c91acfa591ec534c49fed4c0fca39a}{09463} \textcolor{keywordtype}{void} \hyperlink{a00028_ad45bb5479be799163028ef2b776f7221}{QCPCurve::removeData}(\textcolor{keywordtype}{double} t)
09464 \{
09465   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->remove(t);
09466 \}
09467 
\hypertarget{a00115_source_l09472}{}\hyperlink{a00028_ae0462c61dbfbac07db0736ec64110241}{09472} \textcolor{keywordtype}{void} \hyperlink{a00028_ae0462c61dbfbac07db0736ec64110241}{QCPCurve::clearData}()
09473 \{
09474   \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->clear();
09475 \}
09476 
09477 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l09478}{}\hyperlink{a00028_a01f92730eb23ad5b222be95f2b7aa500}{09478} \textcolor{keywordtype}{double} \hyperlink{a00028_a01f92730eb23ad5b222be95f2b7aa500}{QCPCurve::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
09479 \textcolor{keyword}{}\{
09480   \textcolor{keywordflow}{if} (\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->isEmpty() || !\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
09481     \textcolor{keywordflow}{return} -1;
09482   
09483   \textcolor{keywordflow}{return} \hyperlink{a00028_acd7a68c6f268ce1ab845eaf69fc2c6a6}{pointDistance}(pos);
09484 \}
09485 
09486 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l09487}{}\hyperlink{a00028_a2361302d2fc6ec669849bd3bca00c4b2}{09487} \textcolor{keywordtype}{void} \hyperlink{a00028_a2361302d2fc6ec669849bd3bca00c4b2}{QCPCurve::draw}(\hyperlink{a00047}{QCPPainter} *painter)
09488 \{
09489   \textcolor{keywordflow}{if} (\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->isEmpty()) \textcolor{keywordflow}{return};
09490   
09491   \textcolor{comment}{// allocate line vector:}
09492   QVector<QPointF> *lineData = \textcolor{keyword}{new} QVector<QPointF>;
09493   \textcolor{comment}{// fill with curve data:}
09494   \hyperlink{a00028_afa895f8ba9ae34fea6ecea295fd7b1e5}{getCurveData}(lineData);
09495   \textcolor{comment}{// draw curve fill:}
09496   \textcolor{keywordflow}{if} (\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}().style() != Qt::NoBrush && \hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}().\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color}().alpha() != 0)
09497   \{
09498     \hyperlink{a00024_ac08a480155895e674dbfe5a5670e0ff3}{applyFillAntialiasingHint}(painter);
09499     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(Qt::NoPen);
09500     painter->setBrush(\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}());
09501     painter->drawPolygon(QPolygonF(*lineData));
09502   \}
09503   \textcolor{comment}{// draw curve line:}
09504   \textcolor{keywordflow}{if} (\hyperlink{a00028_ae1f35ae2b15aee8e15bcdfec5be95156}{mLineStyle} != \hyperlink{a00028_a2710e9f79302152cff794c6e16cc01f1aec1601a191cdf0b4e761c4c66092cc48}{lsNone} && \hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}().style() != Qt::NoPen && 
      \hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}().\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color}().alpha() != 0)
09505   \{
09506     \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
09507     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}());
09508     painter->setBrush(Qt::NoBrush);
09509     \textcolor{comment}{// if drawing solid line and not in PDF, use much faster line drawing instead of polyline:}
09510     \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->plottingHints().testFlag(QCP::phFastPolylines) &&
09511         painter->pen().style() == Qt::SolidLine &&
09512         !painter->\hyperlink{a00047_ac272648ed66f0602f2250de45cbbeb33}{pdfExportMode}())
09513     \{
09514       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1; i<lineData->size(); ++i)
09515         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(lineData->at(i-1), lineData->at(i));
09516     \} \textcolor{keywordflow}{else}
09517     \{  
09518       painter->drawPolyline(QPolygonF(*lineData));
09519     \}
09520   \}
09521   \textcolor{comment}{// draw scatters:}
09522   \textcolor{keywordflow}{if} (\hyperlink{a00028_a5700a112cb679dc983648f67151d5cae}{mScatterStyle} != \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone})
09523     \hyperlink{a00028_a45593f30b81beec4b6130b6b53306087}{drawScatterPlot}(painter, lineData);
09524   \textcolor{comment}{// free allocated line data:}
09525   \textcolor{keyword}{delete} lineData;
09526 \}
09527 
09528 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l09529}{}\hyperlink{a00028_a8e9b46de865a9f07cc9d62c904ab8198}{09529} \textcolor{keywordtype}{void} \hyperlink{a00028_a8e9b46de865a9f07cc9d62c904ab8198}{QCPCurve::drawLegendIcon}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keyword}{const} QRect &rect)\textcolor{keyword}{
       const}
09530 \textcolor{keyword}{}\{
09531   \textcolor{comment}{// draw fill:}
09532   \textcolor{keywordflow}{if} (\hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush}.style() != Qt::NoBrush)
09533   \{
09534     \hyperlink{a00024_ac08a480155895e674dbfe5a5670e0ff3}{applyFillAntialiasingHint}(painter);
09535     painter->fillRect(QRectF(rect.left(), rect.top()+rect.height()/2.0, rect.width(), rect.height()/3.0), 
      \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush});
09536   \}
09537   \textcolor{comment}{// draw line vertically centered:}
09538   \textcolor{keywordflow}{if} (\hyperlink{a00028_ae1f35ae2b15aee8e15bcdfec5be95156}{mLineStyle} != \hyperlink{a00028_a2710e9f79302152cff794c6e16cc01f1aec1601a191cdf0b4e761c4c66092cc48}{lsNone})
09539   \{
09540     \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
09541     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen});
09542     painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(rect.left(), rect.top()+rect.height()/2.0, rect.right()+5, rect.top()+
      rect.height()/2.0)); \textcolor{comment}{// +5 on x2 else last segment is missing from dashed/dotted pens}
09543   \}
09544   \textcolor{comment}{// draw scatter symbol:}
09545   \textcolor{keywordflow}{if} (\hyperlink{a00028_a5700a112cb679dc983648f67151d5cae}{mScatterStyle} != \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone})
09546   \{
09547     \textcolor{keywordflow}{if} (\hyperlink{a00028_a5700a112cb679dc983648f67151d5cae}{mScatterStyle} == \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3046d385199d0903dd492322ba133e75}{QCP::ssPixmap} && (
      \hyperlink{a00028_a04103a65b13b2218265e74c567a7061e}{mScatterPixmap}.size().width() > rect.width() || \hyperlink{a00028_a04103a65b13b2218265e74c567a7061e}{mScatterPixmap}.size().height() 
      > rect.height()))
09548     \{
09549       \textcolor{comment}{// handle pixmap scatters that are larger than legend icon rect separately.}
09550       \textcolor{comment}{// We resize them and draw them manually, instead of calling drawScatter:}
09551       QSize newSize = \hyperlink{a00028_a04103a65b13b2218265e74c567a7061e}{mScatterPixmap}.size();
09552       newSize.scale(rect.size(), Qt::KeepAspectRatio);
09553       QRect targetRect;
09554       targetRect.setSize(newSize);
09555       targetRect.moveCenter(rect.center());
09556       \textcolor{keywordtype}{bool} smoothBackup = painter->testRenderHint(QPainter::SmoothPixmapTransform);
09557       painter->setRenderHint(QPainter::SmoothPixmapTransform, \textcolor{keyword}{true});
09558       painter->drawPixmap(targetRect, \hyperlink{a00028_a04103a65b13b2218265e74c567a7061e}{mScatterPixmap});
09559       painter->setRenderHint(QPainter::SmoothPixmapTransform, smoothBackup);
09560     \} \textcolor{keywordflow}{else}
09561     \{
09562       \hyperlink{a00024_a753272ee225a62827e90c3e1e78de4b1}{applyScattersAntialiasingHint}(painter);
09563       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen});
09564       painter->\hyperlink{a00047_a3aa145eb9865752d583c40ef995c5049}{drawScatter}(QRectF(rect).center().x(), QRectF(rect).center().y(), 
      \hyperlink{a00028_a504f8e596491386d133de153c73a0777}{mScatterSize}, \hyperlink{a00028_a5700a112cb679dc983648f67151d5cae}{mScatterStyle});
09565     \}
09566   \}
09567 \}
09568 
\hypertarget{a00115_source_l09574}{}\hyperlink{a00028_a45593f30b81beec4b6130b6b53306087}{09574} \textcolor{keywordtype}{void} \hyperlink{a00028_a45593f30b81beec4b6130b6b53306087}{QCPCurve::drawScatterPlot}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keyword}{const} 
      QVector<QPointF> *pointData)\textcolor{keyword}{ const}
09575 \textcolor{keyword}{}\{
09576   \textcolor{comment}{// draw scatter point symbols:}
09577   \hyperlink{a00024_a753272ee225a62827e90c3e1e78de4b1}{applyScattersAntialiasingHint}(painter);
09578   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}());
09579   painter->setBrush(\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}());
09580   painter->\hyperlink{a00047_a0f636de68b40d2e169ab15a8ca067107}{setScatterPixmap}(\hyperlink{a00028_a04103a65b13b2218265e74c567a7061e}{mScatterPixmap});
09581   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<pointData->size(); ++i)
09582     painter->\hyperlink{a00047_a3aa145eb9865752d583c40ef995c5049}{drawScatter}(pointData->at(i).x(), pointData->at(i).y(), 
      \hyperlink{a00028_a504f8e596491386d133de153c73a0777}{mScatterSize}, \hyperlink{a00028_a5700a112cb679dc983648f67151d5cae}{mScatterStyle});
09583 \}
09584 
\hypertarget{a00115_source_l09591}{}\hyperlink{a00028_afa895f8ba9ae34fea6ecea295fd7b1e5}{09591} \textcolor{keywordtype}{void} \hyperlink{a00028_afa895f8ba9ae34fea6ecea295fd7b1e5}{QCPCurve::getCurveData}(QVector<QPointF> *lineData)\textcolor{keyword}{ const}
09592 \textcolor{keyword}{}\{
09593   \textcolor{comment}{/* Extended sides of axis rect R divide space into 9 regions:}
09594 \textcolor{comment}{     1\_\_|\_4\_|\_\_7  }
09595 \textcolor{comment}{     2\_\_|\_R\_|\_\_8}
09596 \textcolor{comment}{     3  | 6 |  9 }
09597 \textcolor{comment}{     General idea: If the two points of a line segment are in the same region (that is not R), the line
       segment corner is removed.}
09598 \textcolor{comment}{     Curves outside R become straight lines closely outside of R which greatly reduces drawing time, yet
       keeps the look of lines and}
09599 \textcolor{comment}{     fills inside R consistent.}
09600 \textcolor{comment}{     The region R has index 5.}
09601 \textcolor{comment}{  */}
09602   lineData->reserve(\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->size());
09603   QCPCurveDataMap::const\_iterator it;
09604   \textcolor{keywordtype}{int} lastRegion = 5;
09605   \textcolor{keywordtype}{int} currentRegion = 5;
09606   \textcolor{keywordtype}{double} RLeft = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
09607   \textcolor{keywordtype}{double} RRight = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
09608   \textcolor{keywordtype}{double} RBottom = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower};
09609   \textcolor{keywordtype}{double} RTop = \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
09610   \textcolor{keywordtype}{double} x, y; \textcolor{comment}{// current key/value}
09611   \textcolor{keywordtype}{bool} addedLastAlready = \textcolor{keyword}{true};
09612   \textcolor{keywordtype}{bool} firstPoint = \textcolor{keyword}{true}; \textcolor{comment}{// first point must always be drawn, to make sure fill works correctly}
09613   \textcolor{keywordflow}{for} (it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constBegin(); it != \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constEnd(); ++it)
09614   \{
09615     x = it.value().key;
09616     y = it.value().value;
09617     \textcolor{comment}{// determine current region:}
09618     \textcolor{keywordflow}{if} (x < RLeft) \textcolor{comment}{// region 123}
09619     \{
09620       \textcolor{keywordflow}{if} (y > RTop)
09621         currentRegion = 1;
09622       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (y < RBottom)
09623         currentRegion = 3;
09624       \textcolor{keywordflow}{else}
09625         currentRegion = 2;
09626     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x > RRight) \textcolor{comment}{// region 789}
09627     \{
09628       \textcolor{keywordflow}{if} (y > RTop)
09629         currentRegion = 7;
09630       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (y < RBottom)
09631         currentRegion = 9;
09632       \textcolor{keywordflow}{else}
09633         currentRegion = 8;
09634     \} \textcolor{keywordflow}{else} \textcolor{comment}{// region 456}
09635     \{
09636       \textcolor{keywordflow}{if} (y > RTop)
09637         currentRegion = 4;
09638       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (y < RBottom)
09639         currentRegion = 6;
09640       \textcolor{keywordflow}{else}
09641         currentRegion = 5;
09642     \}
09643     
09644     \textcolor{comment}{/*}
09645 \textcolor{comment}{      Watch out, the next part is very tricky. It modifies the curve such that it seems like the}
09646 \textcolor{comment}{      whole thing is still drawn, but actually the points outside the axisRect are simplified}
09647 \textcolor{comment}{      ("optimized") greatly. There are some subtle special cases when line segments are large and}
09648 \textcolor{comment}{      thereby each subsequent point may be in a different region or even skip some.}
09649 \textcolor{comment}{    */}
09650     \textcolor{comment}{// determine whether to keep current point:}
09651     \textcolor{keywordflow}{if} (currentRegion == 5 || (firstPoint && \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush}.style() != Qt::NoBrush)) \textcolor{comment}{// current is in R, add
       current and last if it wasn't added already}
09652     \{
09653       \textcolor{keywordflow}{if} (!addedLastAlready) \textcolor{comment}{// in case curve just entered R, make sure the last point outside R is also
       drawn correctly}
09654         lineData->append(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}((it-1).\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, (it-1).
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})); \textcolor{comment}{// add last point to vector}
09655       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (lastRegion != 5) \textcolor{comment}{// added last already. If that's the case, we probably added it at
       optimized position. So go back and make sure it's at original position (else the angle changes under which this
       segment enters R)}
09656       \{
09657         \textcolor{keywordflow}{if} (!firstPoint) \textcolor{comment}{// because on firstPoint, currentRegion is 5 and addedLastAlready is true,
       although there is no last point}
09658           lineData->replace(lineData->size()-1, \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}((it-1).
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, (it-1).\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}));
09659       \}
09660       lineData->append(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(it.value().key, it.value().value)); \textcolor{comment}{// add current
       point to vector}
09661       addedLastAlready = \textcolor{keyword}{true}; \textcolor{comment}{// so in next iteration, we don't add this point twice}
09662     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (currentRegion != lastRegion) \textcolor{comment}{// changed region, add current and last if not added already}
09663     \{
09664       \textcolor{comment}{// using outsideCoordsToPixels instead of coorsToPixels for optimized point placement (places points
       just outside axisRect instead of potentially far away)}
09665       
09666       \textcolor{comment}{// if we're coming from R or we skip diagonally over the corner regions (so line might still be
       visible in R), we can't place points optimized}
09667       \textcolor{keywordflow}{if} (lastRegion == 5 || \textcolor{comment}{// coming from R}
09668           ((lastRegion==2 && currentRegion==4) || (lastRegion==4 && currentRegion==2)) || \textcolor{comment}{// skip top left
       diagonal}
09669           ((lastRegion==4 && currentRegion==8) || (lastRegion==8 && currentRegion==4)) || \textcolor{comment}{// skip top right
       diagonal}
09670           ((lastRegion==8 && currentRegion==6) || (lastRegion==6 && currentRegion==8)) || \textcolor{comment}{// skip bottom
       right diagonal}
09671           ((lastRegion==6 && currentRegion==2) || (lastRegion==2 && currentRegion==6))    \textcolor{comment}{// skip bottom
       left diagonal}
09672           )
09673       \{
09674         \textcolor{comment}{// always add last point if not added already, original:}
09675         \textcolor{keywordflow}{if} (!addedLastAlready)
09676           lineData->append(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}((it-1).\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, (it-1).
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}));
09677         \textcolor{comment}{// add current point, original:}
09678         lineData->append(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(it.value().key, it.value().value));
09679       \} \textcolor{keywordflow}{else} \textcolor{comment}{// no special case that forbids optimized point placement, so do it:}
09680       \{
09681         \textcolor{comment}{// always add last point if not added already, optimized:}
09682         \textcolor{keywordflow}{if} (!addedLastAlready)
09683           lineData->append(\hyperlink{a00028_aec2099a1569775209f73bbb0d3da7c16}{outsideCoordsToPixels}((it-1).
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, (it-1).\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, currentRegion));
09684         \textcolor{comment}{// add current point, optimized:}
09685         lineData->append(\hyperlink{a00028_aec2099a1569775209f73bbb0d3da7c16}{outsideCoordsToPixels}(it.value().key, it.value().value, 
      currentRegion));
09686       \}
09687       addedLastAlready = \textcolor{keyword}{true}; \textcolor{comment}{// so that if next point enters 5, or crosses another region boundary, we
       don't add this point twice}
09688     \} \textcolor{keywordflow}{else} \textcolor{comment}{// neither in R, nor crossed a region boundary, skip current point}
09689     \{
09690       addedLastAlready = \textcolor{keyword}{false};
09691     \}
09692     lastRegion = currentRegion;
09693     firstPoint = \textcolor{keyword}{false};
09694   \}
09695   \textcolor{comment}{// If curve ends outside R, we want to add very last point so the fill looks like it should when the
       curve started inside R:}
09696   \textcolor{keywordflow}{if} (lastRegion != 5 && \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush}.style() != Qt::NoBrush && !\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->isEmpty())
09697     lineData->append(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}((\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constEnd()-1).
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().key, (\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constEnd()-1).\hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}().value));
09698 \}
09699 
\hypertarget{a00115_source_l09706}{}\hyperlink{a00028_acd7a68c6f268ce1ab845eaf69fc2c6a6}{09706} \textcolor{keywordtype}{double} \hyperlink{a00028_acd7a68c6f268ce1ab845eaf69fc2c6a6}{QCPCurve::pointDistance}(\textcolor{keyword}{const} QPointF &pixelPoint)\textcolor{keyword}{ const}
09707 \textcolor{keyword}{}\{
09708   \textcolor{keywordflow}{if} (\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->isEmpty())
09709   \{
09710     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"requested point distance on curve"} << \hyperlink{a00024_ac29ffef424e2488675930de18cde612a}{mName} << \textcolor{stringliteral}{"without data"};
09711     \textcolor{keywordflow}{return} 500;
09712   \}
09713   \textcolor{keywordflow}{if} (\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->size() == 1)
09714   \{
09715     QPointF dataPoint = \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constBegin().key(), 
      \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constBegin().value().value);
09716     \textcolor{keywordflow}{return} QVector2D(dataPoint-pixelPoint).length();
09717   \}
09718   
09719   \textcolor{comment}{// calculate minimum distance to line segments:}
09720   QVector<QPointF> *lineData = \textcolor{keyword}{new} QVector<QPointF>;
09721   \hyperlink{a00028_afa895f8ba9ae34fea6ecea295fd7b1e5}{getCurveData}(lineData);
09722   \textcolor{keywordtype}{double} minDistSqr = std::numeric\_limits<double>::max();
09723   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<lineData->size()-1; ++i)
09724   \{
09725     \textcolor{keywordtype}{double} currentDistSqr = \hyperlink{a00024_a5ea1cab44ca912dcdc96ed81ec5bed5d}{distSqrToLine}(lineData->at(i), lineData->at(i+1), pixelPoint);
09726     \textcolor{keywordflow}{if} (currentDistSqr < minDistSqr)
09727       minDistSqr = currentDistSqr;
09728   \}
09729   \textcolor{keyword}{delete} lineData;
09730   \textcolor{keywordflow}{return} sqrt(minDistSqr);
09731 \}
09732 
\hypertarget{a00115_source_l09743}{}\hyperlink{a00028_aec2099a1569775209f73bbb0d3da7c16}{09743} QPointF \hyperlink{a00028_aec2099a1569775209f73bbb0d3da7c16}{QCPCurve::outsideCoordsToPixels}(\textcolor{keywordtype}{double} 
      \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value}, \textcolor{keywordtype}{int} region)\textcolor{keyword}{ const}
09744 \textcolor{keyword}{}\{
09745   \textcolor{keywordtype}{int} margin = 10;
09746   QRect \hyperlink{a00116_ad1541f59ff23332e3245b74af2fd3833}{axisRect} = \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}() | \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}->
      \hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}();
09747   QPointF result = \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(key, value);
09748   \textcolor{keywordflow}{switch} (region)
09749   \{
09750     \textcolor{keywordflow}{case} 2: result.setX(axisRect.left()-margin); \textcolor{keywordflow}{break}; \textcolor{comment}{// left}
09751     \textcolor{keywordflow}{case} 8: result.setX(axisRect.right()+margin); \textcolor{keywordflow}{break}; \textcolor{comment}{// right}
09752     \textcolor{keywordflow}{case} 4: result.setY(axisRect.top()-margin); \textcolor{keywordflow}{break}; \textcolor{comment}{// top}
09753     \textcolor{keywordflow}{case} 6: result.setY(axisRect.bottom()+margin); \textcolor{keywordflow}{break}; \textcolor{comment}{// bottom}
09754     \textcolor{keywordflow}{case} 1: result.setX(axisRect.left()-margin);
09755             result.setY(axisRect.top()-margin); \textcolor{keywordflow}{break}; \textcolor{comment}{// top left}
09756     \textcolor{keywordflow}{case} 7: result.setX(axisRect.right()+margin);
09757             result.setY(axisRect.top()-margin); \textcolor{keywordflow}{break}; \textcolor{comment}{// top right}
09758     \textcolor{keywordflow}{case} 9: result.setX(axisRect.right()+margin);
09759             result.setY(axisRect.bottom()+margin); \textcolor{keywordflow}{break}; \textcolor{comment}{// bottom right}
09760     \textcolor{keywordflow}{case} 3: result.setX(axisRect.left()-margin);
09761             result.setY(axisRect.bottom()+margin); \textcolor{keywordflow}{break}; \textcolor{comment}{// bottom left}
09762   \}
09763   \textcolor{keywordflow}{return} result;
09764 \}
09765 
09766 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l09767}{}\hyperlink{a00028_aed062a72e98372480a683cdd201b5612}{09767} \hyperlink{a00049}{QCPRange} \hyperlink{a00028_aed062a72e98372480a683cdd201b5612}{QCPCurve::getKeyRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain)\textcolor{keyword}{ const}
09768 \textcolor{keyword}{}\{
09769   \hyperlink{a00049}{QCPRange} range;
09770   \textcolor{keywordtype}{bool} haveLower = \textcolor{keyword}{false};
09771   \textcolor{keywordtype}{bool} haveUpper = \textcolor{keyword}{false};
09772   
09773   \textcolor{keywordtype}{double} current;
09774   
09775   QCPCurveDataMap::const\_iterator it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constBegin();
09776   \textcolor{keywordflow}{while} (it != \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constEnd())
09777   \{
09778     current = it.value().key;
09779     \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth} || (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} && current < 0) || (
      inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive} && current > 0))
09780     \{
09781       \textcolor{keywordflow}{if} (current < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower)
09782       \{
09783         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current;
09784         haveLower = \textcolor{keyword}{true};
09785       \}
09786       \textcolor{keywordflow}{if} (current > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper)
09787       \{
09788         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current;
09789         haveUpper = \textcolor{keyword}{true};
09790       \}
09791     \}
09792     ++it;
09793   \}
09794   
09795   validRange = haveLower && haveUpper;
09796   \textcolor{keywordflow}{return} range;
09797 \}
09798 
09799 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l09800}{}\hyperlink{a00028_a5e788d369793e0179c5a46fce3bcb0fb}{09800} \hyperlink{a00049}{QCPRange} \hyperlink{a00028_a5e788d369793e0179c5a46fce3bcb0fb}{QCPCurve::getValueRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain)\textcolor{keyword}{ const}
09801 \textcolor{keyword}{}\{
09802   \hyperlink{a00049}{QCPRange} range;
09803   \textcolor{keywordtype}{bool} haveLower = \textcolor{keyword}{false};
09804   \textcolor{keywordtype}{bool} haveUpper = \textcolor{keyword}{false};
09805   
09806   \textcolor{keywordtype}{double} current;
09807   
09808   QCPCurveDataMap::const\_iterator it = \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constBegin();
09809   \textcolor{keywordflow}{while} (it != \hyperlink{a00028_a88d533e455bca96004b049e99168731b}{mData}->constEnd())
09810   \{
09811     current = it.value().value;
09812     \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth} || (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} && current < 0) || (
      inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive} && current > 0))
09813     \{
09814       \textcolor{keywordflow}{if} (current < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower)
09815       \{
09816         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current;
09817         haveLower = \textcolor{keyword}{true};
09818       \}
09819       \textcolor{keywordflow}{if} (current > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper)
09820       \{
09821         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current;
09822         haveUpper = \textcolor{keyword}{true};
09823       \}
09824     \}
09825     ++it;
09826   \}
09827   
09828   validRange = haveLower && haveUpper;
09829   \textcolor{keywordflow}{return} range;
09830 \}
09831 
09832 \textcolor{comment}{// ================================================================================}
09833 \textcolor{comment}{// =================== QCPBars}
09834 \textcolor{comment}{// ================================================================================}
\hypertarget{a00115_source_l09889}{}\hyperlink{a00027_a64006999ad9dff308f40df41cef176ad}{09889} \textcolor{comment}{}\hyperlink{a00027_a64006999ad9dff308f40df41cef176ad}{QCPBars::QCPBars}(\hyperlink{a00025}{QCPAxis} *keyAxis, \hyperlink{a00025}{QCPAxis} *valueAxis) :
09890   \hyperlink{a00024}{QCPAbstractPlottable}(keyAxis, valueAxis),
09891   mBarBelow(0),
09892   mBarAbove(0)
09893 \{
09894   \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData} = \textcolor{keyword}{new} \hyperlink{a00116_aa846c77472cae93def9f1609d0c57191}{QCPBarDataMap};
09895   \hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen}.setColor(Qt::blue);
09896   \hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen}.setStyle(Qt::SolidLine);
09897   \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush}.setColor(QColor(40, 50, 255, 30));
09898   \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush}.setStyle(Qt::SolidPattern);
09899   \hyperlink{a00024_a10619472f5d5e10e9519a599f1cf5576}{mSelectedPen} = \hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen};
09900   \hyperlink{a00024_a10619472f5d5e10e9519a599f1cf5576}{mSelectedPen}.setWidthF(2.5);
09901   \hyperlink{a00024_a10619472f5d5e10e9519a599f1cf5576}{mSelectedPen}.setColor(QColor(80, 80, 255)); \textcolor{comment}{// lighter than Qt::blue of mPen}
09902   \hyperlink{a00024_aea3c0da30c7a8be23ad5f2d9bca36762}{mSelectedBrush} = \hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush};
09903   
09904   \hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth} = 0.75;
09905 \}
09906 
\hypertarget{a00115_source_l09907}{}\hyperlink{a00027_a4d880e28031ef120603f543379be2f22}{09907} \hyperlink{a00027_a4d880e28031ef120603f543379be2f22}{QCPBars::~QCPBars}()
09908 \{
09909   \textcolor{keywordflow}{if} (\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} || \hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove})
09910     \hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{connectBars}(\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}, \hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove}); \textcolor{comment}{// take this bar out of any stacking}
09911   \textcolor{keyword}{delete} \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData};
09912 \}
09913 
\hypertarget{a00115_source_l09917}{}\hyperlink{a00027_afec6116579d44d5b706e0fa5e5332507}{09917} \textcolor{keywordtype}{void} \hyperlink{a00027_afec6116579d44d5b706e0fa5e5332507}{QCPBars::setWidth}(\textcolor{keywordtype}{double} width)
09918 \{
09919   \hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth} = \hyperlink{a00027_a42798c38abd5f5db22bd45d77f429625}{width};
09920 \}
09921 
\hypertarget{a00115_source_l09929}{}\hyperlink{a00027_aa3435aab19e0a49e4e7b41bd36a8d96b}{09929} \textcolor{keywordtype}{void} \hyperlink{a00027_aa3435aab19e0a49e4e7b41bd36a8d96b}{QCPBars::setData}(\hyperlink{a00116_aa846c77472cae93def9f1609d0c57191}{QCPBarDataMap} *data, \textcolor{keywordtype}{bool} copy)
09930 \{
09931   \textcolor{keywordflow}{if} (copy)
09932   \{
09933     *\hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData} = *\hyperlink{a00027_a4938c4eb29e48d4f15037886bcd4082d}{data};
09934   \} \textcolor{keywordflow}{else}
09935   \{
09936     \textcolor{keyword}{delete} \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData};
09937     \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData} = \hyperlink{a00027_a4938c4eb29e48d4f15037886bcd4082d}{data};
09938   \}
09939 \}
09940 
\hypertarget{a00115_source_l09947}{}\hyperlink{a00027_a3efded5df4a82ecb201f7c28099fa2e5}{09947} \textcolor{keywordtype}{void} \hyperlink{a00027_aa3435aab19e0a49e4e7b41bd36a8d96b}{QCPBars::setData}(\textcolor{keyword}{const} QVector<double> &\hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keyword}{const} QVector<double> &
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
09948 \{
09949   \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->clear();
09950   \textcolor{keywordtype}{int} n = key.size();
09951   n = qMin(n, value.size());
09952   \hyperlink{a00026}{QCPBarData} newData;
09953   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
09954   \{
09955     newData.\hyperlink{a00026_afe544b035ef19027ea3d65adeaf81b42}{key} = key[i];
09956     newData.value = value[i];
09957     \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->insertMulti(newData.key, newData);
09958   \}
09959 \}
09960 
\hypertarget{a00115_source_l09975}{}\hyperlink{a00027_a69fc371346980f19177c3d1ecdad78ee}{09975} \textcolor{keywordtype}{void} \hyperlink{a00027_a69fc371346980f19177c3d1ecdad78ee}{QCPBars::moveBelow}(\hyperlink{a00027}{QCPBars} *bars)
09976 \{
09977   \textcolor{keywordflow}{if} (bars == \textcolor{keyword}{this}) \textcolor{keywordflow}{return};
09978   \textcolor{keywordflow}{if} (bars->\hyperlink{a00024_a72c7a09c22963f2c943f07112b311103}{keyAxis}() != \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis} || bars->\hyperlink{a00024_a3106f9d34d330a6097a8ec5905e5b519}{valueAxis}() != 
      \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis})
09979   \{
09980     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"passed QCPBars* doesn't have same key and value axis as this QCPBars"};
09981     \textcolor{keywordflow}{return};
09982   \}
09983   \textcolor{comment}{// remove from stacking:}
09984   \hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{connectBars}(\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}, \hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove}); \textcolor{comment}{// Note: also works if one (or both) of
       them is 0}
09985   \textcolor{comment}{// if new bar given, insert this bar below it:}
09986   \textcolor{keywordflow}{if} (bars)
09987   \{
09988     \textcolor{keywordflow}{if} (bars->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow})
09989       \hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{connectBars}(bars->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}, \textcolor{keyword}{this});
09990     \hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{connectBars}(\textcolor{keyword}{this}, bars);
09991   \}
09992 \}
09993 
\hypertarget{a00115_source_l10008}{}\hyperlink{a00027_ac22e00a6a41509538c21b04f0a57318c}{10008} \textcolor{keywordtype}{void} \hyperlink{a00027_ac22e00a6a41509538c21b04f0a57318c}{QCPBars::moveAbove}(\hyperlink{a00027}{QCPBars} *bars)
10009 \{
10010   \textcolor{keywordflow}{if} (bars == \textcolor{keyword}{this}) \textcolor{keywordflow}{return};
10011   \textcolor{keywordflow}{if} (bars && (bars->\hyperlink{a00024_a72c7a09c22963f2c943f07112b311103}{keyAxis}() != \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis} || bars->\hyperlink{a00024_a3106f9d34d330a6097a8ec5905e5b519}{valueAxis}() != 
      \hyperlink{a00024_acfc46d619ab9598be33b64146da45822}{mValueAxis}))
10012   \{
10013     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"passed QCPBars* doesn't have same key and value axis as this QCPBars"};
10014     \textcolor{keywordflow}{return};
10015   \}
10016   \textcolor{comment}{// remove from stacking:}
10017   \hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{connectBars}(\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}, \hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove}); \textcolor{comment}{// Note: also works if one (or both) of
       them is 0}
10018   \textcolor{comment}{// if new bar given, insert this bar above it:}
10019   \textcolor{keywordflow}{if} (bars)
10020   \{
10021     \textcolor{keywordflow}{if} (bars->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove})
10022       \hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{connectBars}(\textcolor{keyword}{this}, bars->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove});
10023     \hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{connectBars}(bars, \textcolor{keyword}{this});
10024   \}
10025 \}
10026 
\hypertarget{a00115_source_l10031}{}\hyperlink{a00027_a1f29cf08615040993209147fa68de3f2}{10031} \textcolor{keywordtype}{void} \hyperlink{a00027_a1f29cf08615040993209147fa68de3f2}{QCPBars::addData}(\textcolor{keyword}{const} \hyperlink{a00116_aa846c77472cae93def9f1609d0c57191}{QCPBarDataMap} &dataMap)
10032 \{
10033   \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->unite(dataMap);
10034 \}
10035 
\hypertarget{a00115_source_l10040}{}\hyperlink{a00027_a142158b1addefd53259002dd3ab22c3a}{10040} \textcolor{keywordtype}{void} \hyperlink{a00027_a1f29cf08615040993209147fa68de3f2}{QCPBars::addData}(\textcolor{keyword}{const} \hyperlink{a00026}{QCPBarData} &data)
10041 \{
10042   \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->insertMulti(data.\hyperlink{a00026_afe544b035ef19027ea3d65adeaf81b42}{key}, data);
10043 \}
10044 
\hypertarget{a00115_source_l10049}{}\hyperlink{a00027_a684dd105403a5497fda42f2094fecbb7}{10049} \textcolor{keywordtype}{void} \hyperlink{a00027_a1f29cf08615040993209147fa68de3f2}{QCPBars::addData}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
10050 \{
10051   \hyperlink{a00026}{QCPBarData} newData;
10052   newData.\hyperlink{a00026_afe544b035ef19027ea3d65adeaf81b42}{key} = \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
10053   newData.\hyperlink{a00026_acab57005d8916d61b64e9ddef6113b60}{value} = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
10054   \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->insertMulti(newData.\hyperlink{a00026_afe544b035ef19027ea3d65adeaf81b42}{key}, newData);
10055 \}
10056 
\hypertarget{a00115_source_l10061}{}\hyperlink{a00027_a3679a0a9decab0fa03f8f4c6e3344d52}{10061} \textcolor{keywordtype}{void} \hyperlink{a00027_a1f29cf08615040993209147fa68de3f2}{QCPBars::addData}(\textcolor{keyword}{const} QVector<double> &keys, \textcolor{keyword}{const} QVector<double> &values)
10062 \{
10063   \textcolor{keywordtype}{int} n = keys.size();
10064   n = qMin(n, values.size());
10065   \hyperlink{a00026}{QCPBarData} newData;
10066   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<n; ++i)
10067   \{
10068     newData.\hyperlink{a00026_afe544b035ef19027ea3d65adeaf81b42}{key} = keys[i];
10069     newData.value = values[i];
10070     \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->insertMulti(newData.key, newData);
10071   \}
10072 \}
10073 
\hypertarget{a00115_source_l10078}{}\hyperlink{a00027_a9d12779a3fad4820aad2c428f368298d}{10078} \textcolor{keywordtype}{void} \hyperlink{a00027_a9d12779a3fad4820aad2c428f368298d}{QCPBars::removeDataBefore}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
10079 \{
10080   QCPBarDataMap::iterator it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->begin();
10081   \textcolor{keywordflow}{while} (it != \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->end() && it.key() < \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
10082     it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->erase(it);
10083 \}
10084 
\hypertarget{a00115_source_l10089}{}\hyperlink{a00027_a99de6e7abbbf03fb41fa604c7f08aa8b}{10089} \textcolor{keywordtype}{void} \hyperlink{a00027_a99de6e7abbbf03fb41fa604c7f08aa8b}{QCPBars::removeDataAfter}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
10090 \{
10091   \textcolor{keywordflow}{if} (\hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->isEmpty()) \textcolor{keywordflow}{return};
10092   QCPBarDataMap::iterator it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->upperBound(key);
10093   \textcolor{keywordflow}{while} (it != \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->end())
10094     it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->erase(it);
10095 \}
10096 
\hypertarget{a00115_source_l10104}{}\hyperlink{a00027_a1fe9bcb57d670defea1bb65cadf43765}{10104} \textcolor{keywordtype}{void} \hyperlink{a00027_a1fe9bcb57d670defea1bb65cadf43765}{QCPBars::removeData}(\textcolor{keywordtype}{double} fromKey, \textcolor{keywordtype}{double} toKey)
10105 \{
10106   \textcolor{keywordflow}{if} (fromKey >= toKey || \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->isEmpty()) \textcolor{keywordflow}{return};
10107   QCPBarDataMap::iterator it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->upperBound(fromKey);
10108   QCPBarDataMap::iterator itEnd = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->upperBound(toKey);
10109   \textcolor{keywordflow}{while} (it != itEnd)
10110     it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->erase(it);
10111 \}
10112 
\hypertarget{a00115_source_l10121}{}\hyperlink{a00027_a837cc9848ad3edd40a6130b508493f93}{10121} \textcolor{keywordtype}{void} \hyperlink{a00027_a1fe9bcb57d670defea1bb65cadf43765}{QCPBars::removeData}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
10122 \{
10123   \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->remove(key);
10124 \}
10125 
\hypertarget{a00115_source_l10130}{}\hyperlink{a00027_a11dbbd707132f07f862dff13c5789c2b}{10130} \textcolor{keywordtype}{void} \hyperlink{a00027_a11dbbd707132f07f862dff13c5789c2b}{QCPBars::clearData}()
10131 \{
10132   \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->clear();
10133 \}
10134 
10135 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10136}{}\hyperlink{a00027_a3b4aeb6d87d57dce496f5f83c21eabba}{10136} \textcolor{keywordtype}{double} \hyperlink{a00027_a3b4aeb6d87d57dce496f5f83c21eabba}{QCPBars::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
10137 \textcolor{keyword}{}\{
10138   QCPBarDataMap::ConstIterator it;
10139   \textcolor{keywordtype}{double} posKey, posValue;
10140   \hyperlink{a00024_a10408828446e9e0681c46d65120f382e}{pixelsToCoords}(pos, posKey, posValue);
10141   \textcolor{keywordflow}{for} (it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->constBegin(); it != \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->constEnd(); ++it)
10142   \{
10143     \textcolor{keywordtype}{double} baseValue = \hyperlink{a00027_ab60a3c4b8e7c59f0f14e25590d96fa4e}{getBaseValue}(it.key(), it.value().value >=0);
10144     \hyperlink{a00049}{QCPRange} keyRange(it.key()-\hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5, it.key()+\hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5);
10145     \hyperlink{a00049}{QCPRange} valueRange(baseValue, baseValue+it.value().value);
10146     \textcolor{keywordflow}{if} (keyRange.contains(posKey) && valueRange.contains(posValue))
10147       \textcolor{keywordflow}{return} \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance()*0.99;
10148   \}
10149   \textcolor{keywordflow}{return} -1;
10150 \}
10151 
10152 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10153}{}\hyperlink{a00027_a42b894e34dac799f90ff3700706b31df}{10153} \textcolor{keywordtype}{void} \hyperlink{a00027_a42b894e34dac799f90ff3700706b31df}{QCPBars::draw}(\hyperlink{a00047}{QCPPainter} *painter)
10154 \{
10155   \textcolor{keywordflow}{if} (\hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->isEmpty()) \textcolor{keywordflow}{return};
10156   
10157   QCPBarDataMap::const\_iterator it;
10158   \textcolor{keywordflow}{for} (it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->constBegin(); it != \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->constEnd(); ++it)
10159   \{
10160     \textcolor{keywordflow}{if} (it.key()+\hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5 < \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || it.key()-
      \hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5 > \hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper})
10161       \textcolor{keywordflow}{continue};
10162     QPolygonF barPolygon = \hyperlink{a00027_a1d118a76662cfd691a78c6f573e3f78c}{getBarPolygon}(it.key(), it.value().value);
10163     \textcolor{comment}{// draw bar fill:}
10164     \textcolor{keywordflow}{if} (\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}().style() != Qt::NoBrush && \hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}().color().alpha() != 0)
10165     \{
10166       \hyperlink{a00024_ac08a480155895e674dbfe5a5670e0ff3}{applyFillAntialiasingHint}(painter);
10167       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(Qt::NoPen);
10168       painter->setBrush(\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}());
10169       painter->drawPolygon(barPolygon);
10170     \}
10171     \textcolor{comment}{// draw bar line:}
10172     \textcolor{keywordflow}{if} (\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}().style() != Qt::NoPen && \hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}().\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color}().alpha() != 0)
10173     \{
10174       \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
10175       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}());
10176       painter->setBrush(Qt::NoBrush);
10177       painter->drawPolyline(barPolygon);
10178     \}
10179   \}
10180 \}
10181 
10182 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10183}{}\hyperlink{a00027_af54543a87581003b3176d8b2931754c5}{10183} \textcolor{keywordtype}{void} \hyperlink{a00027_af54543a87581003b3176d8b2931754c5}{QCPBars::drawLegendIcon}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keyword}{const} QRect &rect)\textcolor{keyword}{ const}
10184 \textcolor{keyword}{}\{
10185   \textcolor{comment}{// draw filled rect:}
10186   \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
10187   painter->setBrush(\hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush});
10188   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen});
10189   QRectF r = QRectF(0, 0, rect.width()*0.67, rect.height()*0.67);
10190   r.moveCenter(rect.center());
10191   painter->drawRect(r);
10192 \}
10193 
\hypertarget{a00115_source_l10199}{}\hyperlink{a00027_a1d118a76662cfd691a78c6f573e3f78c}{10199} QPolygonF \hyperlink{a00027_a1d118a76662cfd691a78c6f573e3f78c}{QCPBars::getBarPolygon}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} 
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})\textcolor{keyword}{ const}
10200 \textcolor{keyword}{}\{
10201   QPolygonF result;
10202   \textcolor{keywordtype}{double} baseValue = \hyperlink{a00027_ab60a3c4b8e7c59f0f14e25590d96fa4e}{getBaseValue}(key, value >= 0);
10203   result << \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(key-\hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5, baseValue);
10204   result << \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(key-\hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5, baseValue+value);
10205   result << \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(key+\hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5, baseValue+value);
10206   result << \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(key+\hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5, baseValue);
10207   \textcolor{keywordflow}{return} result;
10208 \}
10209 
\hypertarget{a00115_source_l10219}{}\hyperlink{a00027_ab60a3c4b8e7c59f0f14e25590d96fa4e}{10219} \textcolor{keywordtype}{double} \hyperlink{a00027_ab60a3c4b8e7c59f0f14e25590d96fa4e}{QCPBars::getBaseValue}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{bool} positive)\textcolor{keyword}{ const}
10220 \textcolor{keyword}{}\{
10221   \textcolor{keywordflow}{if} (\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow})
10222   \{
10223     \textcolor{keywordtype}{double} max = 0;
10224     \textcolor{comment}{// find bars of mBarBelow that are approximately at key and find largest one:}
10225     QCPBarDataMap::const\_iterator it = \hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}->\hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->lowerBound(key-
      \hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.1);
10226     QCPBarDataMap::const\_iterator itEnd = \hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}->\hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->upperBound(key+
      \hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.1);
10227     \textcolor{keywordflow}{while} (it != itEnd)
10228     \{
10229       \textcolor{keywordflow}{if} ((positive && it.value().value > max) ||
10230           (!positive && it.value().value < max))
10231         max = it.value().value;
10232       ++it;
10233     \}
10234     \textcolor{comment}{// recurse down the bar-stack to find the total height:}
10235     \textcolor{keywordflow}{return} max + \hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}->\hyperlink{a00027_ab60a3c4b8e7c59f0f14e25590d96fa4e}{getBaseValue}(key, positive);
10236   \} \textcolor{keywordflow}{else}
10237     \textcolor{keywordflow}{return} 0;
10238 \}
10239 
\hypertarget{a00115_source_l10248}{}\hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{10248} \textcolor{keywordtype}{void} \hyperlink{a00027_a6ea37802cd22f97235cab614b14b9f19}{QCPBars::connectBars}(\hyperlink{a00027}{QCPBars} *lower, \hyperlink{a00027}{QCPBars} *upper)
10249 \{
10250   \textcolor{keywordflow}{if} (!lower && !upper) \textcolor{keywordflow}{return};
10251   
10252   \textcolor{keywordflow}{if} (!lower) \textcolor{comment}{// disconnect upper at bottom}
10253   \{
10254     \textcolor{comment}{// disconnect old bar below upper:}
10255     \textcolor{keywordflow}{if} (upper->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} && upper->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove} == upper)
10256       upper->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove} = 0;
10257     upper->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} = 0;
10258   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!upper) \textcolor{comment}{// disconnect lower at top}
10259   \{
10260     \textcolor{comment}{// disconnect old bar above lower:}
10261     \textcolor{keywordflow}{if} (lower->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove} && lower->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove}->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} == lower)
10262       lower->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove}->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} = 0;
10263     lower->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove} = 0;
10264   \} \textcolor{keywordflow}{else} \textcolor{comment}{// connect lower and upper}
10265   \{
10266     \textcolor{comment}{// disconnect old bar above lower:}
10267     \textcolor{keywordflow}{if} (lower->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove} && lower->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove}->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} == lower)
10268       lower->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove}->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} = 0;
10269     \textcolor{comment}{// disconnect old bar below upper:}
10270     \textcolor{keywordflow}{if} (upper->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} && upper->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove} == upper)
10271       upper->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow}->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove} = 0;
10272     lower->\hyperlink{a00027_ade19776a2a6d393f15c0e27d4bb8e594}{mBarAbove} = upper;
10273     upper->\hyperlink{a00027_a02eb7de7a2c03dc5699f329bb1c5f6e1}{mBarBelow} = lower;
10274   \}
10275 \}
10276 
10277 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10278}{}\hyperlink{a00027_adbf608df1ba1d28c0bc7a929b18d997b}{10278} \hyperlink{a00049}{QCPRange} \hyperlink{a00027_adbf608df1ba1d28c0bc7a929b18d997b}{QCPBars::getKeyRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain)\textcolor{keyword}{ const}
10279 \textcolor{keyword}{}\{
10280   \hyperlink{a00049}{QCPRange} range;
10281   \textcolor{keywordtype}{bool} haveLower = \textcolor{keyword}{false};
10282   \textcolor{keywordtype}{bool} haveUpper = \textcolor{keyword}{false};
10283   
10284   \textcolor{keywordtype}{double} current;
10285   \textcolor{keywordtype}{double} barWidthHalf = \hyperlink{a00027_a7c4e0f2246f8133f48a9c3f24cf5b920}{mWidth}*0.5;
10286   QCPBarDataMap::const\_iterator it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->constBegin();
10287   \textcolor{keywordflow}{while} (it != \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->constEnd())
10288   \{
10289     current = it.value().key;
10290     \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth} || (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} && current+barWidthHalf < 0) 
      || (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive} && current-barWidthHalf > 0))
10291     \{
10292       \textcolor{keywordflow}{if} (current-barWidthHalf < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower)
10293       \{
10294         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current-barWidthHalf;
10295         haveLower = \textcolor{keyword}{true};
10296       \}
10297       \textcolor{keywordflow}{if} (current+barWidthHalf > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper)
10298       \{
10299         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current+barWidthHalf;
10300         haveUpper = \textcolor{keyword}{true};
10301       \}
10302     \}
10303     ++it;
10304   \}
10305   
10306   validRange = haveLower && haveUpper;
10307   \textcolor{keywordflow}{return} range;
10308 \}
10309 
10310 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10311}{}\hyperlink{a00027_acbcbf97f591d3b8a130b2fdf0a8af74b}{10311} \hyperlink{a00049}{QCPRange} \hyperlink{a00027_acbcbf97f591d3b8a130b2fdf0a8af74b}{QCPBars::getValueRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain)\textcolor{keyword}{ const}
10312 \textcolor{keyword}{}\{
10313   \hyperlink{a00049}{QCPRange} range;
10314   \textcolor{keywordtype}{bool} haveLower = \textcolor{keyword}{true}; \textcolor{comment}{// set to true, because 0 should always be visible in bar charts}
10315   \textcolor{keywordtype}{bool} haveUpper = \textcolor{keyword}{true}; \textcolor{comment}{// set to true, because 0 should always be visible in bar charts}
10316   
10317   \textcolor{keywordtype}{double} current;
10318   
10319   QCPBarDataMap::const\_iterator it = \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->constBegin();
10320   \textcolor{keywordflow}{while} (it != \hyperlink{a00027_aef28d29d51ef84b608ecd22c55d531ff}{mData}->constEnd())
10321   \{
10322     current = it.value().value + \hyperlink{a00027_ab60a3c4b8e7c59f0f14e25590d96fa4e}{getBaseValue}(it.value().key, it.value().value >= 0);
10323     \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth} || (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} && current < 0) || (
      inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive} && current > 0))
10324     \{
10325       \textcolor{keywordflow}{if} (current < range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} || !haveLower)
10326       \{
10327         range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} = current;
10328         haveLower = \textcolor{keyword}{true};
10329       \}
10330       \textcolor{keywordflow}{if} (current > range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} || !haveUpper)
10331       \{
10332         range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} = current;
10333         haveUpper = \textcolor{keyword}{true};
10334       \}
10335     \}
10336     ++it;
10337   \}
10338   
10339   validRange = range.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < range.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper};
10340   \textcolor{keywordflow}{return} range;
10341 \}
10342 
10343 
10344 \textcolor{comment}{// ================================================================================}
10345 \textcolor{comment}{// =================== QCPStatisticalBox}
10346 \textcolor{comment}{// ================================================================================}
10347 
\hypertarget{a00115_source_l10409}{}\hyperlink{a00050_a75c2b3e7fcd0741cc981693a2ba63b27}{10409} \hyperlink{a00050_a75c2b3e7fcd0741cc981693a2ba63b27}{QCPStatisticalBox::QCPStatisticalBox}(\hyperlink{a00025}{QCPAxis} *keyAxis, 
      \hyperlink{a00025}{QCPAxis} *valueAxis) :
10410   \hyperlink{a00024}{QCPAbstractPlottable}(keyAxis, valueAxis),
10411   mKey(0),
10412   mMinimum(0),
10413   mLowerQuartile(0),
10414   mMedian(0),
10415   mUpperQuartile(0),
10416   mMaximum(0)
10417 \{
10418   \hyperlink{a00050_a1cb2469552f6f6615b1f6d7398463e5c}{setOutlierStyle}(\hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa13ed43d724ecefa84baae4179de3bd8d}{QCP::ssCircle});
10419   \hyperlink{a00050_ae784a5ea2da652e24445d36fbc0b0854}{setOutlierSize}(5);
10420   \hyperlink{a00050_adf378812446bd66f34d1f7f293d991cd}{setWhiskerWidth}(0.2);
10421   \hyperlink{a00050_a0b62775bd67301b1eba5c785f2b26f14}{setWidth}(0.5);
10422   
10423   \hyperlink{a00024_ab74b09ae4c0e7e13142fe4b5bf46cac7}{setPen}(QPen(Qt::black));
10424   \hyperlink{a00024_a6911603cad23ab0469b108224517516f}{setSelectedPen}(QPen(Qt::blue, 2.5));
10425   \hyperlink{a00050_a7260ac55b669f5d0a74f16d5ca84c52c}{setMedianPen}(QPen(Qt::black, 3, Qt::SolidLine, Qt::FlatCap));
10426   \hyperlink{a00050_a4a5034cb3b9b040444df05ab1684620b}{setWhiskerPen}(QPen(Qt::black, 0, Qt::DashLine, Qt::FlatCap));
10427   \hyperlink{a00050_aa8d3e503897788e1abf68dc74b5f147f}{setWhiskerBarPen}(QPen(Qt::black));
10428   \hyperlink{a00050_ac9079d5e27f1daf4d546f5a21246fc28}{setOutlierPen}(QPen(Qt::blue));
10429   \hyperlink{a00024_a7a4b92144dca6453a1f0f210e27edc74}{setBrush}(Qt::NoBrush);
10430   \hyperlink{a00024_ae8c816874089f7a44001e8618e81a9dc}{setSelectedBrush}(Qt::NoBrush);
10431 \}
10432 
\hypertarget{a00115_source_l10433}{}\hyperlink{a00050_a5a222d7a646b36bf6e77d6e6e1264690}{10433} \hyperlink{a00050_a5a222d7a646b36bf6e77d6e6e1264690}{QCPStatisticalBox::~QCPStatisticalBox}()
10434 \{
10435 \}
10436 
\hypertarget{a00115_source_l10440}{}\hyperlink{a00050_a84a1c6d34b2f9af40bca0c527d51e97e}{10440} \textcolor{keywordtype}{void} \hyperlink{a00050_a84a1c6d34b2f9af40bca0c527d51e97e}{QCPStatisticalBox::setKey}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
10441 \{
10442   \hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey} = \hyperlink{a00050_a767af754f39872d6308b900a0d1758ca}{key};
10443 \}
10444 
\hypertarget{a00115_source_l10451}{}\hyperlink{a00050_a84ff7cc61ba44890f0c3e0c99c19941e}{10451} \textcolor{keywordtype}{void} \hyperlink{a00050_a84ff7cc61ba44890f0c3e0c99c19941e}{QCPStatisticalBox::setMinimum}(\textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
10452 \{
10453   \hyperlink{a00050_a7143ece4e7e5f9ac010739fbc390bf0c}{mMinimum} = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
10454 \}
10455 
\hypertarget{a00115_source_l10463}{}\hyperlink{a00050_a680941af5e23d902013962fa67223f9e}{10463} \textcolor{keywordtype}{void} \hyperlink{a00050_a680941af5e23d902013962fa67223f9e}{QCPStatisticalBox::setLowerQuartile}(\textcolor{keywordtype}{double} 
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
10464 \{
10465   \hyperlink{a00050_acac86cac93d9fa3d820b5aaa04ed96f6}{mLowerQuartile} = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
10466 \}
10467 
\hypertarget{a00115_source_l10475}{}\hyperlink{a00050_a65970e77a897da4ecb4b15300868aad3}{10475} \textcolor{keywordtype}{void} \hyperlink{a00050_a65970e77a897da4ecb4b15300868aad3}{QCPStatisticalBox::setMedian}(\textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
10476 \{
10477   \hyperlink{a00050_ae43287ca13c8166bde2ac19bf0969d23}{mMedian} = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
10478 \}
10479 
\hypertarget{a00115_source_l10487}{}\hyperlink{a00050_a65a1375f941c5a2077b5201229e89346}{10487} \textcolor{keywordtype}{void} \hyperlink{a00050_a65a1375f941c5a2077b5201229e89346}{QCPStatisticalBox::setUpperQuartile}(\textcolor{keywordtype}{double} 
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
10488 \{
10489   \hyperlink{a00050_a865afbcca332ee851aa45807381bc80e}{mUpperQuartile} = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
10490 \}
10491 
\hypertarget{a00115_source_l10498}{}\hyperlink{a00050_acec5ad1901f00f2c5387cfb4d9787eb3}{10498} \textcolor{keywordtype}{void} \hyperlink{a00050_acec5ad1901f00f2c5387cfb4d9787eb3}{QCPStatisticalBox::setMaximum}(\textcolor{keywordtype}{double} \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
10499 \{
10500   \hyperlink{a00050_a16266f1e0e4e8e95b5d141c49479ef2e}{mMaximum} = \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value};
10501 \}
10502 
\hypertarget{a00115_source_l10510}{}\hyperlink{a00050_af9bc09620e0bf93bf444ee35e5800d1d}{10510} \textcolor{keywordtype}{void} \hyperlink{a00050_af9bc09620e0bf93bf444ee35e5800d1d}{QCPStatisticalBox::setOutliers}(\textcolor{keyword}{const} QVector<double> &values)
10511 \{
10512   \hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers} = values;
10513 \}
10514 
\hypertarget{a00115_source_l10520}{}\hyperlink{a00050_adf50c57b635edb12470c0e4a986aff37}{10520} \textcolor{keywordtype}{void} \hyperlink{a00050_adf50c57b635edb12470c0e4a986aff37}{QCPStatisticalBox::setData}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} minimum, \textcolor{keywordtype}{double} 
      lowerQuartile, \textcolor{keywordtype}{double} median, \textcolor{keywordtype}{double} upperQuartile, \textcolor{keywordtype}{double} maximum)
10521 \{
10522   \hyperlink{a00050_a84a1c6d34b2f9af40bca0c527d51e97e}{setKey}(key);
10523   \hyperlink{a00050_a84ff7cc61ba44890f0c3e0c99c19941e}{setMinimum}(minimum);
10524   \hyperlink{a00050_a680941af5e23d902013962fa67223f9e}{setLowerQuartile}(lowerQuartile);
10525   \hyperlink{a00050_a65970e77a897da4ecb4b15300868aad3}{setMedian}(median);
10526   \hyperlink{a00050_a65a1375f941c5a2077b5201229e89346}{setUpperQuartile}(upperQuartile);
10527   \hyperlink{a00050_acec5ad1901f00f2c5387cfb4d9787eb3}{setMaximum}(maximum);
10528 \}
10529 
\hypertarget{a00115_source_l10535}{}\hyperlink{a00050_a0b62775bd67301b1eba5c785f2b26f14}{10535} \textcolor{keywordtype}{void} \hyperlink{a00050_a0b62775bd67301b1eba5c785f2b26f14}{QCPStatisticalBox::setWidth}(\textcolor{keywordtype}{double} width)
10536 \{
10537   \hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth} = \hyperlink{a00050_a0733a7bd575fc5929ce6d507bcc2a04c}{width};
10538 \}
10539 
\hypertarget{a00115_source_l10545}{}\hyperlink{a00050_adf378812446bd66f34d1f7f293d991cd}{10545} \textcolor{keywordtype}{void} \hyperlink{a00050_adf378812446bd66f34d1f7f293d991cd}{QCPStatisticalBox::setWhiskerWidth}(\textcolor{keywordtype}{double} width)
10546 \{
10547   \hyperlink{a00050_a4d166474f845d5db626e8b11a0815a6f}{mWhiskerWidth} = \hyperlink{a00050_a0733a7bd575fc5929ce6d507bcc2a04c}{width};
10548 \}
10549 
\hypertarget{a00115_source_l10558}{}\hyperlink{a00050_a4a5034cb3b9b040444df05ab1684620b}{10558} \textcolor{keywordtype}{void} \hyperlink{a00050_a4a5034cb3b9b040444df05ab1684620b}{QCPStatisticalBox::setWhiskerPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
10559 \{
10560   \hyperlink{a00050_a25b7552499f0f090fcff02858b2265a5}{mWhiskerPen} = \hyperlink{a00024_a41d060007cc6b3037c9c04d22d0c0398}{pen};
10561 \}
10562 
\hypertarget{a00115_source_l10569}{}\hyperlink{a00050_aa8d3e503897788e1abf68dc74b5f147f}{10569} \textcolor{keywordtype}{void} \hyperlink{a00050_aa8d3e503897788e1abf68dc74b5f147f}{QCPStatisticalBox::setWhiskerBarPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
10570 \{
10571   \hyperlink{a00050_aa719b1d722a9f82364df1497a6dc1da8}{mWhiskerBarPen} = \hyperlink{a00024_a41d060007cc6b3037c9c04d22d0c0398}{pen};
10572 \}
10573 
\hypertarget{a00115_source_l10580}{}\hyperlink{a00050_a7260ac55b669f5d0a74f16d5ca84c52c}{10580} \textcolor{keywordtype}{void} \hyperlink{a00050_a7260ac55b669f5d0a74f16d5ca84c52c}{QCPStatisticalBox::setMedianPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
10581 \{
10582   \hyperlink{a00050_a1af5b601049c575f778ae270f40c9443}{mMedianPen} = \hyperlink{a00024_a41d060007cc6b3037c9c04d22d0c0398}{pen};
10583 \}
10584 
\hypertarget{a00115_source_l10590}{}\hyperlink{a00050_ae784a5ea2da652e24445d36fbc0b0854}{10590} \textcolor{keywordtype}{void} \hyperlink{a00050_ae784a5ea2da652e24445d36fbc0b0854}{QCPStatisticalBox::setOutlierSize}(\textcolor{keywordtype}{double} pixels)
10591 \{
10592   \hyperlink{a00050_a18599f1d2e0358ea26cdaedb9f53c409}{mOutlierSize} = pixels;
10593 \}
10594 
\hypertarget{a00115_source_l10600}{}\hyperlink{a00050_ac9079d5e27f1daf4d546f5a21246fc28}{10600} \textcolor{keywordtype}{void} \hyperlink{a00050_ac9079d5e27f1daf4d546f5a21246fc28}{QCPStatisticalBox::setOutlierPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
10601 \{
10602   \hyperlink{a00050_a356a264fcbca567a5d55fedaa9dfbc9c}{mOutlierPen} = \hyperlink{a00024_a41d060007cc6b3037c9c04d22d0c0398}{pen};
10603 \}
10604 
\hypertarget{a00115_source_l10610}{}\hyperlink{a00050_a1cb2469552f6f6615b1f6d7398463e5c}{10610} \textcolor{keywordtype}{void} \hyperlink{a00050_a1cb2469552f6f6615b1f6d7398463e5c}{QCPStatisticalBox::setOutlierStyle}(
      \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26f}{QCP::ScatterStyle} style)
10611 \{
10612   \hyperlink{a00050_abf80fa499e29db8995bcf7f4be28bb5c}{mOutlierStyle} = style;
10613 \}
10614 
10615 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10616}{}\hyperlink{a00050_a19112994449df0c20287858436cc68e3}{10616} \textcolor{keywordtype}{void} \hyperlink{a00050_a19112994449df0c20287858436cc68e3}{QCPStatisticalBox::clearData}()
10617 \{
10618   \hyperlink{a00050_af9bc09620e0bf93bf444ee35e5800d1d}{setOutliers}(QVector<double>());
10619   \hyperlink{a00050_a84a1c6d34b2f9af40bca0c527d51e97e}{setKey}(0);
10620   \hyperlink{a00050_a84ff7cc61ba44890f0c3e0c99c19941e}{setMinimum}(0);
10621   \hyperlink{a00050_a680941af5e23d902013962fa67223f9e}{setLowerQuartile}(0);
10622   \hyperlink{a00050_a65970e77a897da4ecb4b15300868aad3}{setMedian}(0);
10623   \hyperlink{a00050_a65a1375f941c5a2077b5201229e89346}{setUpperQuartile}(0);
10624   \hyperlink{a00050_acec5ad1901f00f2c5387cfb4d9787eb3}{setMaximum}(0);
10625 \}
10626 
10627 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10628}{}\hyperlink{a00050_acf75fbec885886546ae11ca194ad2aec}{10628} \textcolor{keywordtype}{double} \hyperlink{a00050_acf75fbec885886546ae11ca194ad2aec}{QCPStatisticalBox::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
10629 \textcolor{keyword}{}\{
10630   \textcolor{keywordtype}{double} posKey, posValue;
10631   \hyperlink{a00024_a10408828446e9e0681c46d65120f382e}{pixelsToCoords}(pos, posKey, posValue);
10632   \textcolor{comment}{// quartile box:}
10633   \hyperlink{a00049}{QCPRange} keyRange(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, \hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5);
10634   \hyperlink{a00049}{QCPRange} valueRange(\hyperlink{a00050_acac86cac93d9fa3d820b5aaa04ed96f6}{mLowerQuartile}, \hyperlink{a00050_a865afbcca332ee851aa45807381bc80e}{mUpperQuartile});
10635   \textcolor{keywordflow}{if} (keyRange.\hyperlink{a00049_a030ce95b527c32e01414d0351347b46d}{contains}(posKey) && valueRange.\hyperlink{a00049_a030ce95b527c32e01414d0351347b46d}{contains}(posValue))
10636     \textcolor{keywordflow}{return} \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance()*0.99;
10637   
10638   \textcolor{comment}{// min/max whiskers:}
10639   \textcolor{keywordflow}{if} (\hyperlink{a00049}{QCPRange}(\hyperlink{a00050_a7143ece4e7e5f9ac010739fbc390bf0c}{mMinimum}, \hyperlink{a00050_a16266f1e0e4e8e95b5d141c49479ef2e}{mMaximum}).contains(posValue))
10640     \textcolor{keywordflow}{return} qAbs(\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey})-\hyperlink{a00024_a692421b963472fa6e16156a74ba96832}{mKeyAxis}->
      \hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(posKey));
10641   
10642   \textcolor{keywordflow}{return} -1;
10643 \}
10644 
10645 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10646}{}\hyperlink{a00050_a753b62761217dd6b92f8a29e286a1317}{10646} \textcolor{keywordtype}{void} \hyperlink{a00050_a753b62761217dd6b92f8a29e286a1317}{QCPStatisticalBox::draw}(\hyperlink{a00047}{QCPPainter} *painter)
10647 \{
10648   QRectF quartileBox;
10649   \hyperlink{a00050_a9ad0abdb154fefb04e9872f0db8e2ec7}{drawQuartileBox}(painter, &quartileBox);
10650   
10651   painter->\hyperlink{a00047_a8fd6821ee6fecbfa04444c9062912abd}{save}();
10652   painter->setClipRect(quartileBox, Qt::IntersectClip);
10653   \hyperlink{a00050_a16fef8bc19e5a09d82033edcfe919495}{drawMedian}(painter);
10654   painter->\hyperlink{a00047_a64908e6298d5bbd83457dc987cc3a022}{restore}();
10655   
10656   \hyperlink{a00050_a6f8d093ec7e404529388d02da4c72b34}{drawWhiskers}(painter);
10657   \hyperlink{a00050_a60ebb332a497f51ace837767db5105b9}{drawOutliers}(painter);
10658 \}
10659 
10660 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10661}{}\hyperlink{a00050_af010b2f9e32b8183984486e4d66e46c4}{10661} \textcolor{keywordtype}{void} \hyperlink{a00050_af010b2f9e32b8183984486e4d66e46c4}{QCPStatisticalBox::drawLegendIcon}(
      \hyperlink{a00047}{QCPPainter} *painter, \textcolor{keyword}{const} QRect &rect)\textcolor{keyword}{ const}
10662 \textcolor{keyword}{}\{
10663   \textcolor{comment}{// draw filled rect:}
10664   \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
10665   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a67bc0622fd1b9fa14e54c14922dcec66}{mPen});
10666   painter->setBrush(\hyperlink{a00024_a33f00674c0161c13315ab9da0895418e}{mBrush});
10667   QRectF r = QRectF(0, 0, rect.width()*0.67, rect.height()*0.67);
10668   r.moveCenter(rect.center());
10669   painter->drawRect(r);
10670 \}
10671 
\hypertarget{a00115_source_l10678}{}\hyperlink{a00050_a9ad0abdb154fefb04e9872f0db8e2ec7}{10678} \textcolor{keywordtype}{void} \hyperlink{a00050_a9ad0abdb154fefb04e9872f0db8e2ec7}{QCPStatisticalBox::drawQuartileBox}(
      \hyperlink{a00047}{QCPPainter} *painter, QRectF *quartileBox)\textcolor{keyword}{ const}
10679 \textcolor{keyword}{}\{
10680   QRectF box;
10681   box.setTopLeft(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, 
      \hyperlink{a00050_a865afbcca332ee851aa45807381bc80e}{mUpperQuartile}));
10682   box.setBottomRight(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, 
      \hyperlink{a00050_acac86cac93d9fa3d820b5aaa04ed96f6}{mLowerQuartile}));
10683   \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
10684   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00024_a19276ed2382a3a06464417b8788b1451}{mainPen}());
10685   painter->setBrush(\hyperlink{a00024_ae74c123832da180c17e22203e748d9b7}{mainBrush}());
10686   painter->drawRect(box);
10687   \textcolor{keywordflow}{if} (quartileBox)
10688     *quartileBox = box;
10689 \}
10690 
\hypertarget{a00115_source_l10695}{}\hyperlink{a00050_a16fef8bc19e5a09d82033edcfe919495}{10695} \textcolor{keywordtype}{void} \hyperlink{a00050_a16fef8bc19e5a09d82033edcfe919495}{QCPStatisticalBox::drawMedian}(\hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
10696 \textcolor{keyword}{}\{
10697   QLineF medianLine;
10698   medianLine.setP1(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, 
      \hyperlink{a00050_ae43287ca13c8166bde2ac19bf0969d23}{mMedian}));
10699   medianLine.setP2(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, 
      \hyperlink{a00050_ae43287ca13c8166bde2ac19bf0969d23}{mMedian}));
10700   \hyperlink{a00024_a76e9d6cc7972dc1528f526d163766aca}{applyDefaultAntialiasingHint}(painter);
10701   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00050_a1af5b601049c575f778ae270f40c9443}{mMedianPen});
10702   painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(medianLine);
10703 \}
10704 
\hypertarget{a00115_source_l10709}{}\hyperlink{a00050_a6f8d093ec7e404529388d02da4c72b34}{10709} \textcolor{keywordtype}{void} \hyperlink{a00050_a6f8d093ec7e404529388d02da4c72b34}{QCPStatisticalBox::drawWhiskers}(\hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
10710 \textcolor{keyword}{}\{
10711   QLineF backboneMin, backboneMax, barMin, barMax;
10712   backboneMax.setPoints(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}, \hyperlink{a00050_a865afbcca332ee851aa45807381bc80e}{mUpperQuartile}), 
      \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}, \hyperlink{a00050_a16266f1e0e4e8e95b5d141c49479ef2e}{mMaximum}));
10713   backboneMin.setPoints(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}, \hyperlink{a00050_acac86cac93d9fa3d820b5aaa04ed96f6}{mLowerQuartile}), 
      \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}, \hyperlink{a00050_a7143ece4e7e5f9ac010739fbc390bf0c}{mMinimum}));
10714   barMax.setPoints(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_a4d166474f845d5db626e8b11a0815a6f}{mWhiskerWidth}*0.5, 
      \hyperlink{a00050_a16266f1e0e4e8e95b5d141c49479ef2e}{mMaximum}), \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_a4d166474f845d5db626e8b11a0815a6f}{mWhiskerWidth}*0.5, 
      \hyperlink{a00050_a16266f1e0e4e8e95b5d141c49479ef2e}{mMaximum}));
10715   barMin.setPoints(\hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_a4d166474f845d5db626e8b11a0815a6f}{mWhiskerWidth}*0.5, 
      \hyperlink{a00050_a7143ece4e7e5f9ac010739fbc390bf0c}{mMinimum}), \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_a4d166474f845d5db626e8b11a0815a6f}{mWhiskerWidth}*0.5, 
      \hyperlink{a00050_a7143ece4e7e5f9ac010739fbc390bf0c}{mMinimum}));
10716   \hyperlink{a00024_af687bfe6160255960558eb71f1f81e73}{applyErrorBarsAntialiasingHint}(painter);
10717   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00050_a25b7552499f0f090fcff02858b2265a5}{mWhiskerPen});
10718   painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(backboneMin);
10719   painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(backboneMax);
10720   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00050_aa719b1d722a9f82364df1497a6dc1da8}{mWhiskerBarPen});
10721   painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(barMin);
10722   painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(barMax);
10723 \}
10724 
\hypertarget{a00115_source_l10729}{}\hyperlink{a00050_a60ebb332a497f51ace837767db5105b9}{10729} \textcolor{keywordtype}{void} \hyperlink{a00050_a60ebb332a497f51ace837767db5105b9}{QCPStatisticalBox::drawOutliers}(\hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
10730 \textcolor{keyword}{}\{
10731   \hyperlink{a00024_a753272ee225a62827e90c3e1e78de4b1}{applyScattersAntialiasingHint}(painter);
10732   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00050_a356a264fcbca567a5d55fedaa9dfbc9c}{mOutlierPen});
10733   painter->setBrush(Qt::NoBrush);
10734   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers}.size(); ++i)
10735   \{
10736     QPointF dataPoint = \hyperlink{a00024_ade710a776104b14c1c835168ce1bfc5c}{coordsToPixels}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}, \hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers}.at(i));
10737     painter->\hyperlink{a00047_a3aa145eb9865752d583c40ef995c5049}{drawScatter}(dataPoint.x(), dataPoint.y(), \hyperlink{a00050_a18599f1d2e0358ea26cdaedb9f53c409}{mOutlierSize}, 
      \hyperlink{a00050_abf80fa499e29db8995bcf7f4be28bb5c}{mOutlierStyle});
10738   \}
10739 \}
10740 
10741 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10742}{}\hyperlink{a00050_a2f66940ae92d7ad438834c861fc2d57f}{10742} \hyperlink{a00049}{QCPRange} \hyperlink{a00050_a2f66940ae92d7ad438834c861fc2d57f}{QCPStatisticalBox::getKeyRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain)\textcolor{keyword}{ const}
10743 \textcolor{keyword}{}\{
10744   validRange = \hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth} > 0;
10745   \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth})
10746   \{
10747     \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, \hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5);
10748   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative})
10749   \{
10750     \textcolor{keywordflow}{if} (\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5 < 0)
10751       \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, \hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5);
10752     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey} < 0)
10753       \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, \hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey});
10754     \textcolor{keywordflow}{else}
10755     \{
10756       validRange = \textcolor{keyword}{false};
10757       \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}();
10758     \}
10759   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive})
10760   \{
10761     \textcolor{keywordflow}{if} (\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5 > 0)
10762       \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}-\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5, \hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5);
10763     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey} > 0)
10764       \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}(\hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}, \hyperlink{a00050_a86fd1d3be5c5bc11d11eda7517069af4}{mKey}+\hyperlink{a00050_af365e40b0f706c3d76f857c7957f629d}{mWidth}*0.5);
10765     \textcolor{keywordflow}{else}
10766     \{
10767       validRange = \textcolor{keyword}{false};
10768       \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}();
10769     \}
10770   \}
10771   validRange = \textcolor{keyword}{false};
10772   \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}();
10773 \}
10774 
10775 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l10776}{}\hyperlink{a00050_a2db77e9a3c2cc016381340968a250be0}{10776} \hyperlink{a00049}{QCPRange} \hyperlink{a00050_a2db77e9a3c2cc016381340968a250be0}{QCPStatisticalBox::getValueRange}(\textcolor{keywordtype}{bool} &validRange, 
      \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8}{SignDomain} inSignDomain)\textcolor{keyword}{ const}
10777 \textcolor{keyword}{}\{
10778   \textcolor{keywordflow}{if} (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a082b98cfb91a7363a3b5cd17b0c1cd60}{sdBoth})
10779   \{
10780     \textcolor{keywordtype}{double} lower = qMin(\hyperlink{a00050_a7143ece4e7e5f9ac010739fbc390bf0c}{mMinimum}, qMin(\hyperlink{a00050_ae43287ca13c8166bde2ac19bf0969d23}{mMedian}, \hyperlink{a00050_acac86cac93d9fa3d820b5aaa04ed96f6}{mLowerQuartile}));
10781     \textcolor{keywordtype}{double} upper = qMax(\hyperlink{a00050_a16266f1e0e4e8e95b5d141c49479ef2e}{mMaximum}, qMax(\hyperlink{a00050_ae43287ca13c8166bde2ac19bf0969d23}{mMedian}, \hyperlink{a00050_a865afbcca332ee851aa45807381bc80e}{mUpperQuartile}));
10782     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers}.size(); ++i)
10783     \{
10784       \textcolor{keywordflow}{if} (\hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers}.at(i) < lower)
10785         lower = \hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers}.at(i);
10786       \textcolor{keywordflow}{if} (\hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers}.at(i) > upper)
10787         upper = \hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers}.at(i);
10788     \}
10789     validRange = upper > lower;
10790     \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}(lower, upper);
10791   \} \textcolor{keywordflow}{else}
10792   \{
10793     QVector<double> values; \textcolor{comment}{// values that must be considered (i.e. all outliers and the five
       box-parameters)}
10794     values.reserve(\hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers}.size() + 5);
10795     values << \hyperlink{a00050_a16266f1e0e4e8e95b5d141c49479ef2e}{mMaximum} << \hyperlink{a00050_a865afbcca332ee851aa45807381bc80e}{mUpperQuartile} << \hyperlink{a00050_ae43287ca13c8166bde2ac19bf0969d23}{mMedian} << 
      \hyperlink{a00050_acac86cac93d9fa3d820b5aaa04ed96f6}{mLowerQuartile} << \hyperlink{a00050_a7143ece4e7e5f9ac010739fbc390bf0c}{mMinimum};
10796     values << \hyperlink{a00050_a415e2f77a89396c2af999afe027bdf6c}{mOutliers};
10797     \textcolor{comment}{// go through values and find the ones in legal range:}
10798     \textcolor{keywordtype}{bool} haveUpper = \textcolor{keyword}{false};
10799     \textcolor{keywordtype}{bool} haveLower = \textcolor{keyword}{false};
10800     \textcolor{keywordtype}{double} upper = 0;
10801     \textcolor{keywordtype}{double} lower = 0;
10802     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<values.size(); ++i)
10803     \{
10804       \textcolor{keywordflow}{if} ((inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a0fc9a70796ef60ad18ddd18056e6dc63}{sdNegative} && values.at(i) < 0) ||
10805           (inSignDomain == \hyperlink{a00024_a661743478a1d3c09d28ec2711d7653d8a02951859f243a4d24e779cfbb5471030}{sdPositive} && values.at(i) > 0))
10806       \{
10807         \textcolor{keywordflow}{if} (values.at(i) > upper || !haveUpper)
10808         \{
10809           upper = values.at(i);
10810           haveUpper = \textcolor{keyword}{true};
10811         \}
10812         \textcolor{keywordflow}{if} (values.at(i) < lower || !haveLower)
10813         \{
10814           lower = values.at(i);
10815           haveLower = \textcolor{keyword}{true};
10816         \}
10817       \}
10818     \}
10819     \textcolor{comment}{// return the bounds if we found some sensible values:}
10820     \textcolor{keywordflow}{if} (haveLower && haveUpper && lower < upper)
10821     \{
10822       validRange = \textcolor{keyword}{true};
10823       \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}(lower, upper);
10824     \} \textcolor{keywordflow}{else}
10825     \{
10826       validRange = \textcolor{keyword}{false};
10827       \textcolor{keywordflow}{return} \hyperlink{a00049}{QCPRange}();
10828     \}
10829   \}
10830 \}
10831 
10832 
10833 \textcolor{comment}{// ================================================================================}
10834 \textcolor{comment}{// =================== QCPAbstractItem}
10835 \textcolor{comment}{// ================================================================================}
10836 
10956 \textcolor{comment}{/* start of documentation of inline functions */}
10957 
10973 \textcolor{comment}{/* end of documentation of inline functions */}
10974 \textcolor{comment}{/* start documentation of pure virtual functions */}
10975 
11011 \textcolor{comment}{/* end documentation of pure virtual functions */}
11012 \textcolor{comment}{/* start documentation of signals */}
11013 
11019 \textcolor{comment}{/* end documentation of signals */}
11020 
\hypertarget{a00115_source_l11024}{}\hyperlink{a00022_a9922507d8b4503a1fe1ed0b1030e23b6}{11024} \hyperlink{a00022_a9922507d8b4503a1fe1ed0b1030e23b6}{QCPAbstractItem::QCPAbstractItem}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
11025   \hyperlink{a00044}{QCPLayerable}(parentPlot),
11026   mClipToAxisRect(true),
11027   mClipKeyAxis(parentPlot->\hyperlink{a00116_a384438707adbcc96b0fa1324106f7129}{xAxis}),
11028   mClipValueAxis(parentPlot->\hyperlink{a00116_af168096ce67002b1fbce18ae5dd1b652}{yAxis}),
11029   mSelectable(true),
11030   mSelected(false)
11031 \{
11032 \}
11033 
\hypertarget{a00115_source_l11034}{}\hyperlink{a00022_a375bd1b7d3218b04a6ff7ff06fff917c}{11034} \hyperlink{a00022_a375bd1b7d3218b04a6ff7ff06fff917c}{QCPAbstractItem::~QCPAbstractItem}()
11035 \{
11036   \textcolor{comment}{// don't delete mPositions because every position is also an anchor and thus in mAnchors}
11037   qDeleteAll(\hyperlink{a00022_a909a3abab783de302ebf0a0e6f2bbc15}{mAnchors});
11038 \}
11039 
\hypertarget{a00115_source_l11045}{}\hyperlink{a00022_a39e05b9d4176b9accafc746d16ca6a06}{11045} \textcolor{keywordtype}{void} \hyperlink{a00022_a39e05b9d4176b9accafc746d16ca6a06}{QCPAbstractItem::setClipToAxisRect}(\textcolor{keywordtype}{bool} clip)
11046 \{
11047   \hyperlink{a00022_ad2a70ff6b658fcb84a9427f69d3f587d}{mClipToAxisRect} = clip;
11048 \}
11049 
\hypertarget{a00115_source_l11056}{}\hyperlink{a00022_aa80abbbdcbfc40994443b03108160aee}{11056} \textcolor{keywordtype}{void} \hyperlink{a00022_aa80abbbdcbfc40994443b03108160aee}{QCPAbstractItem::setClipAxes}(\hyperlink{a00025}{QCPAxis} *keyAxis, 
      \hyperlink{a00025}{QCPAxis} *valueAxis)
11057 \{
11058   \hyperlink{a00022_aa789a7e04cef1f8291409eef58068518}{mClipKeyAxis} = keyAxis;
11059   \hyperlink{a00022_a5305649de1638fcd59b4356f101d81a9}{mClipValueAxis} = valueAxis;
11060 \}
11061 
\hypertarget{a00115_source_l11068}{}\hyperlink{a00022_a8c3e15a8a99fd011c3c017324cd9e4b1}{11068} \textcolor{keywordtype}{void} \hyperlink{a00022_a8c3e15a8a99fd011c3c017324cd9e4b1}{QCPAbstractItem::setClipKeyAxis}(\hyperlink{a00025}{QCPAxis} *axis)
11069 \{
11070   \hyperlink{a00022_aa789a7e04cef1f8291409eef58068518}{mClipKeyAxis} = axis;
11071 \}
11072 
\hypertarget{a00115_source_l11079}{}\hyperlink{a00022_a3cf88353e12d1d0d3bdc20a3b17e1a01}{11079} \textcolor{keywordtype}{void} \hyperlink{a00022_a3cf88353e12d1d0d3bdc20a3b17e1a01}{QCPAbstractItem::setClipValueAxis}(\hyperlink{a00025}{QCPAxis} *axis)
11080 \{
11081   \hyperlink{a00022_a5305649de1638fcd59b4356f101d81a9}{mClipValueAxis} = axis;
11082 \}
11083 
\hypertarget{a00115_source_l11093}{}\hyperlink{a00022_a8a8e32a55bc478b849756a78c2d87fd2}{11093} \textcolor{keywordtype}{void} \hyperlink{a00022_a8a8e32a55bc478b849756a78c2d87fd2}{QCPAbstractItem::setSelectable}(\textcolor{keywordtype}{bool} selectable)
11094 \{
11095   \hyperlink{a00022_ad81eb35c8726a0f458db9df9732e0e41}{mSelectable} = \hyperlink{a00022_a9189e752025533e1595eaade0009a3bc}{selectable};
11096 \}
11097 
\hypertarget{a00115_source_l11112}{}\hyperlink{a00022_a203de94ad586cc44d16c9565f49d3378}{11112} \textcolor{keywordtype}{void} \hyperlink{a00022_a203de94ad586cc44d16c9565f49d3378}{QCPAbstractItem::setSelected}(\textcolor{keywordtype}{bool} selected)
11113 \{
11114   \textcolor{keywordflow}{if} (\hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} != selected)
11115   \{
11116     \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} = \hyperlink{a00022_a225865808640d8d9a7dd19f09a2e93f2}{selected};
11117     emit \hyperlink{a00022_aa5cffb034fc65dbb91c77e02c1c14251}{selectionChanged}(\hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected});
11118   \}
11119 \}
11120 
\hypertarget{a00115_source_l11131}{}\hyperlink{a00022_af71345bd150f87fa1d2442837b87bb59}{11131} \hyperlink{a00038}{QCPItemPosition} *\hyperlink{a00022_af71345bd150f87fa1d2442837b87bb59}{QCPAbstractItem::position}(\textcolor{keyword}{const} QString &name)\textcolor{keyword}{
       const}
11132 \textcolor{keyword}{}\{
11133   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00022_af94ff71b6a15ea6d028ab8bd8eccd012}{mPositions}.size(); ++i)
11134   \{
11135     \textcolor{keywordflow}{if} (\hyperlink{a00022_af94ff71b6a15ea6d028ab8bd8eccd012}{mPositions}.at(i)->name() == name)
11136       \textcolor{keywordflow}{return} \hyperlink{a00022_af94ff71b6a15ea6d028ab8bd8eccd012}{mPositions}.at(i);
11137   \}
11138   qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"position with name not found:"} << name;
11139   \textcolor{keywordflow}{return} 0;
11140 \}
11141 
\hypertarget{a00115_source_l11152}{}\hyperlink{a00022_abed974cba7cc02608c71dad4638e008d}{11152} \hyperlink{a00032}{QCPItemAnchor} *\hyperlink{a00022_abed974cba7cc02608c71dad4638e008d}{QCPAbstractItem::anchor}(\textcolor{keyword}{const} QString &name)\textcolor{keyword}{ const}
11153 \textcolor{keyword}{}\{
11154   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00022_a909a3abab783de302ebf0a0e6f2bbc15}{mAnchors}.size(); ++i)
11155   \{
11156     \textcolor{keywordflow}{if} (\hyperlink{a00022_a909a3abab783de302ebf0a0e6f2bbc15}{mAnchors}.at(i)->name() == name)
11157       \textcolor{keywordflow}{return} \hyperlink{a00022_a909a3abab783de302ebf0a0e6f2bbc15}{mAnchors}.at(i);
11158   \}
11159   qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"anchor with name not found:"} << name;
11160   \textcolor{keywordflow}{return} 0;
11161 \}
11162 
\hypertarget{a00115_source_l11171}{}\hyperlink{a00022_acbce9e5ba5252541d19db0c40303357a}{11171} \textcolor{keywordtype}{bool} \hyperlink{a00022_acbce9e5ba5252541d19db0c40303357a}{QCPAbstractItem::hasAnchor}(\textcolor{keyword}{const} QString &name)\textcolor{keyword}{ const}
11172 \textcolor{keyword}{}\{
11173   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00022_a909a3abab783de302ebf0a0e6f2bbc15}{mAnchors}.size(); ++i)
11174   \{
11175     \textcolor{keywordflow}{if} (\hyperlink{a00022_a909a3abab783de302ebf0a0e6f2bbc15}{mAnchors}.at(i)->name() == name)
11176       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
11177   \}
11178   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
11179 \}
11180 
\hypertarget{a00115_source_l11190}{}\hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{11190} QRect \hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{QCPAbstractItem::clipRect}()\textcolor{keyword}{ const}
11191 \textcolor{keyword}{}\{
11192   \textcolor{keywordflow}{if} (\hyperlink{a00022_ad2a70ff6b658fcb84a9427f69d3f587d}{mClipToAxisRect})
11193   \{
11194     \textcolor{keywordflow}{if} (\hyperlink{a00022_aa789a7e04cef1f8291409eef58068518}{mClipKeyAxis} && \hyperlink{a00022_a5305649de1638fcd59b4356f101d81a9}{mClipValueAxis})
11195       \textcolor{keywordflow}{return} \hyperlink{a00022_aa789a7e04cef1f8291409eef58068518}{mClipKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}() | \hyperlink{a00022_a5305649de1638fcd59b4356f101d81a9}{mClipValueAxis}->
      \hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}();
11196     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00022_aa789a7e04cef1f8291409eef58068518}{mClipKeyAxis})
11197       \textcolor{keywordflow}{return} \hyperlink{a00022_aa789a7e04cef1f8291409eef58068518}{mClipKeyAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}();
11198     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00022_a5305649de1638fcd59b4356f101d81a9}{mClipValueAxis})
11199       \textcolor{keywordflow}{return} \hyperlink{a00022_a5305649de1638fcd59b4356f101d81a9}{mClipValueAxis}->\hyperlink{a00025_a7fe5b84f4891838b63ed5181f5811dc5}{axisRect}();
11200   \}
11201   
11202   \textcolor{keywordflow}{return} \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->viewport();
11203 \}
11204 
\hypertarget{a00115_source_l11217}{}\hyperlink{a00022_a0839031abdd71067e2256a4d53c7a011}{11217} \textcolor{keywordtype}{void} \hyperlink{a00022_a0839031abdd71067e2256a4d53c7a011}{QCPAbstractItem::applyDefaultAntialiasingHint}(
      \hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
11218 \textcolor{keyword}{}\{
11219   \hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{applyAntialiasingHint}(painter, \hyperlink{a00044_a3ab45a4c76a3333ce42eb217a81733ec}{mAntialiased}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0caf7712a85d6b0c75b24301d2fe9484db3}{QCP::aeItems});
11220 \}
11221 
\hypertarget{a00115_source_l11234}{}\hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{11234} \textcolor{keywordtype}{double} \hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{QCPAbstractItem::distSqrToLine}(\textcolor{keyword}{const} QPointF &start, \textcolor{keyword}{const} QPointF &
      end, \textcolor{keyword}{const} QPointF &point)\textcolor{keyword}{ const}
11235 \textcolor{keyword}{}\{
11236   QVector2D a(start);
11237   QVector2D b(end);
11238   QVector2D p(point);
11239   QVector2D v(b-a);
11240   
11241   \textcolor{keywordtype}{double} vLengthSqr = v.lengthSquared();
11242   \textcolor{keywordflow}{if} (!qFuzzyIsNull(vLengthSqr))
11243   \{
11244     \textcolor{keywordtype}{double} mu = QVector2D::dotProduct(p-a, v)/vLengthSqr;
11245     \textcolor{keywordflow}{if} (mu < 0)
11246       \textcolor{keywordflow}{return} (a-p).lengthSquared();
11247     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mu > 1)
11248       \textcolor{keywordflow}{return} (b-p).lengthSquared();
11249     \textcolor{keywordflow}{else}
11250       \textcolor{keywordflow}{return} ((a + mu*v)-p).lengthSquared();
11251   \} \textcolor{keywordflow}{else}
11252     \textcolor{keywordflow}{return} (a-p).lengthSquared();
11253 \}
11254 
\hypertarget{a00115_source_l11272}{}\hyperlink{a00022_a4c0e14c4e92df91174cb7183fb363069}{11272} \textcolor{keywordtype}{double} \hyperlink{a00022_a4c0e14c4e92df91174cb7183fb363069}{QCPAbstractItem::rectSelectTest}(\textcolor{keyword}{const} QRectF &rect, \textcolor{keyword}{const} QPointF &
      pos, \textcolor{keywordtype}{bool} filledRect)\textcolor{keyword}{ const}
11273 \textcolor{keyword}{}\{
11274   \textcolor{keywordtype}{double} result = -1;
11275 
11276   \textcolor{comment}{// distance to border:}
11277   QList<QLineF> lines;
11278   lines << QLineF(rect.topLeft(), rect.topRight()) << QLineF(rect.bottomLeft(), rect.bottomRight())
11279         << QLineF(rect.topLeft(), rect.bottomLeft()) << QLineF(rect.topRight(), rect.bottomRight());
11280   \textcolor{keywordtype}{double} minDistSqr = std::numeric\_limits<double>::max();
11281   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<lines.size(); ++i)
11282   \{
11283     \textcolor{keywordtype}{double} distSqr = \hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{distSqrToLine}(lines.at(i).p1(), lines.at(i).p2(), pos);
11284     \textcolor{keywordflow}{if} (distSqr < minDistSqr)
11285       minDistSqr = distSqr;
11286   \}
11287   result = qSqrt(minDistSqr);
11288   
11289   \textcolor{comment}{// filled rect, allow click inside to count as hit:}
11290   \textcolor{keywordflow}{if} (filledRect && result > \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance()*0.99)
11291   \{
11292     \textcolor{keywordflow}{if} (rect.contains(pos))
11293       result = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance()*0.99;
11294   \}
11295   \textcolor{keywordflow}{return} result;
11296 \}
11297 
\hypertarget{a00115_source_l11308}{}\hyperlink{a00022_a94bde62b8a2fc133666dcbb8035deeed}{11308} QPointF \hyperlink{a00022_a94bde62b8a2fc133666dcbb8035deeed}{QCPAbstractItem::anchorPixelPoint}(\textcolor{keywordtype}{int} anchorId)\textcolor{keyword}{ const}
11309 \textcolor{keyword}{}\{
11310   qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"called on item which shouldn't have any anchors (anchorPixelPos not
       reimplemented). anchorId"} << anchorId;
11311   \textcolor{keywordflow}{return} QPointF();
11312 \}
11313 
\hypertarget{a00115_source_l11328}{}\hyperlink{a00022_a75036d39c4d4e2e1a7dd145fff915d32}{11328} \hyperlink{a00038}{QCPItemPosition} *\hyperlink{a00022_a75036d39c4d4e2e1a7dd145fff915d32}{QCPAbstractItem::createPosition}(\textcolor{keyword}{const} 
      QString &name)
11329 \{
11330   \textcolor{keywordflow}{if} (\hyperlink{a00022_acbce9e5ba5252541d19db0c40303357a}{hasAnchor}(name))
11331     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"anchor/position with name exists already:"} << name;
11332   \hyperlink{a00038}{QCPItemPosition} *newPosition = \textcolor{keyword}{new} \hyperlink{a00038}{QCPItemPosition}(
      \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}, \textcolor{keyword}{this}, name);
11333   \hyperlink{a00022_af94ff71b6a15ea6d028ab8bd8eccd012}{mPositions}.append(newPosition);
11334   \hyperlink{a00022_a909a3abab783de302ebf0a0e6f2bbc15}{mAnchors}.append(newPosition); \textcolor{comment}{// every position is also an anchor}
11335   newPosition->\hyperlink{a00038_aa476abf71ed8fa4c537457ebb1a754ad}{setType}(\hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c}{QCPItemPosition::ptPlotCoords});
11336   newPosition->\hyperlink{a00038_a2185f45c75ac8cb9be89daeaaad50e37}{setAxes}(\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->xAxis, \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->yAxis);
11337   newPosition->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0);
11338   \textcolor{keywordflow}{return} newPosition;
11339 \}
11340 
\hypertarget{a00115_source_l11360}{}\hyperlink{a00022_af3fc92527802078ca395138748b629a7}{11360} \hyperlink{a00032}{QCPItemAnchor} *\hyperlink{a00022_af3fc92527802078ca395138748b629a7}{QCPAbstractItem::createAnchor}(\textcolor{keyword}{const} QString &name,
       \textcolor{keywordtype}{int} anchorId)
11361 \{
11362   \textcolor{keywordflow}{if} (\hyperlink{a00022_acbce9e5ba5252541d19db0c40303357a}{hasAnchor}(name))
11363     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"anchor/position with name exists already:"} << name;
11364   \hyperlink{a00032}{QCPItemAnchor} *newAnchor = \textcolor{keyword}{new} \hyperlink{a00022_a61767d414fd57af9eb1741b34268c7fc}{QCPItemAnchor}(
      \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}, \textcolor{keyword}{this}, name, anchorId);
11365   \hyperlink{a00022_a909a3abab783de302ebf0a0e6f2bbc15}{mAnchors}.append(newAnchor);
11366   \textcolor{keywordflow}{return} newAnchor;
11367 \}
11368 
11369 
11370 \textcolor{comment}{// ================================================================================}
11371 \textcolor{comment}{// =================== QCPItemPosition}
11372 \textcolor{comment}{// ================================================================================}
11373 
\hypertarget{a00115_source_l11405}{}\hyperlink{a00038_a3efc524f37fdcd22907545eb77555ce4}{11405} \hyperlink{a00038_a3efc524f37fdcd22907545eb77555ce4}{QCPItemPosition::QCPItemPosition}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot, 
      \hyperlink{a00022}{QCPAbstractItem} *parentItem, \textcolor{keyword}{const} QString name) :
11406   \hyperlink{a00032}{QCPItemAnchor}(parentPlot, parentItem, name),
11407   mPositionType(ptAbsolute),
11408   mKeyAxis(0),
11409   mValueAxis(0),
11410   mKey(0),
11411   mValue(0),
11412   mParentAnchor(0)
11413 \{
11414 \}
11415 
\hypertarget{a00115_source_l11416}{}\hyperlink{a00038_ad8a289016f7a62332f9c865c39ab2047}{11416} \hyperlink{a00038_ad8a289016f7a62332f9c865c39ab2047}{QCPItemPosition::~QCPItemPosition}()
11417 \{
11418   \textcolor{comment}{// unregister as parent at children:}
11419   \textcolor{comment}{// Note: this is done in ~QCPItemAnchor again, but it's important QCPItemPosition does it itself, because
       only then}
11420   \textcolor{comment}{//       the setParentAnchor(0) call the correct QCPItemPosition::pixelPos function instead of
       QCPItemAnchor::pixelPos}
11421   QList<QCPItemPosition*> currentChildren(\hyperlink{a00032_a5f0e67f395a63e2dd0e29ff1dcaf37b7}{mChildren}.toList());
11422   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<currentChildren.size(); ++i)
11423     currentChildren.at(i)->setParentAnchor(0); \textcolor{comment}{// this acts back on this anchor and child removes itself
       from mChildren}
11424   \textcolor{comment}{// unregister as child in parent:}
11425   \textcolor{keywordflow}{if} (\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor})
11426     \hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor}->\hyperlink{a00032_ab65ec61984575f737f43c2bb59dd0d76}{removeChild}(\textcolor{keyword}{this});
11427 \}
11428 
\hypertarget{a00115_source_l11449}{}\hyperlink{a00038_aa476abf71ed8fa4c537457ebb1a754ad}{11449} \textcolor{keywordtype}{void} \hyperlink{a00038_aa476abf71ed8fa4c537457ebb1a754ad}{QCPItemPosition::setType}(
      \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8}{QCPItemPosition::PositionType} type)
11450 \{
11451   \textcolor{keywordflow}{if} (\hyperlink{a00038_ac9c7bbca809601323d3ae2542ef2801a}{mPositionType} != type)
11452   \{
11453     QPointF pixelP = \hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}();
11454     \hyperlink{a00038_ac9c7bbca809601323d3ae2542ef2801a}{mPositionType} = \hyperlink{a00038_ad64a1a26fbed5b8917e0eb8843099fd6}{type};
11455     \hyperlink{a00038_ab404e56d9ac2ac2df0382c57933a71ef}{setPixelPoint}(pixelP);
11456   \}
11457 \}
11458 
\hypertarget{a00115_source_l11474}{}\hyperlink{a00038_ac094d67a95d2dceafa0d50b9db3a7e51}{11474} \textcolor{keywordtype}{bool} \hyperlink{a00038_ac094d67a95d2dceafa0d50b9db3a7e51}{QCPItemPosition::setParentAnchor}(
      \hyperlink{a00032}{QCPItemAnchor} *parentAnchor, \textcolor{keywordtype}{bool} keepPixelPosition)
11475 \{
11476   \textcolor{comment}{// make sure self is not assigned as parent:}
11477   \textcolor{keywordflow}{if} (parentAnchor == \textcolor{keyword}{this})
11478   \{
11479     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"can't set self as parent anchor"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      \hyperlink{a00038_a0db87cc41efabc1cf94acee7ebe14eee}{parentAnchor});
11480     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
11481   \}
11482   \textcolor{comment}{// make sure no recursive parent-child-relationships are created:}
11483   \hyperlink{a00032}{QCPItemAnchor} *currentParent = \hyperlink{a00038_a0db87cc41efabc1cf94acee7ebe14eee}{parentAnchor};
11484   \textcolor{keywordflow}{while} (currentParent)
11485   \{
11486     \textcolor{keywordflow}{if} (\hyperlink{a00038}{QCPItemPosition} *currentParentPos = dynamic\_cast<QCPItemPosition*>(currentParent))
11487     \{
11488       \textcolor{comment}{// is a QCPItemPosition, might have further parent, so keep iterating}
11489       \textcolor{keywordflow}{if} (currentParentPos == \textcolor{keyword}{this})
11490       \{
11491         qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"can't create recursive parent-child-relationship"} << \textcolor{keyword}{reinterpret\_cast<}
      quintptr\textcolor{keyword}{>}(\hyperlink{a00038_a0db87cc41efabc1cf94acee7ebe14eee}{parentAnchor});
11492         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
11493       \}
11494       currentParent = currentParentPos->mParentAnchor;
11495     \} \textcolor{keywordflow}{else}
11496     \{
11497       \textcolor{comment}{// is a QCPItemAnchor, can't have further parent, so just compare parent items}
11498       \textcolor{keywordflow}{if} (currentParent->\hyperlink{a00032_a80fad480ad3bb980446ed6ebc00818ae}{mParentItem} == \hyperlink{a00032_a80fad480ad3bb980446ed6ebc00818ae}{mParentItem})
11499       \{
11500         qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"can't create recursive parent-child-relationship"} << \textcolor{keyword}{reinterpret\_cast<}
      quintptr\textcolor{keyword}{>}(\hyperlink{a00038_a0db87cc41efabc1cf94acee7ebe14eee}{parentAnchor});
11501         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
11502       \}
11503       \textcolor{keywordflow}{break};
11504     \}
11505   \}
11506   
11507   \textcolor{comment}{// if previously no parent set and PosType is still ptPlotCoords, set to ptAbsolute:}
11508   \textcolor{keywordflow}{if} (!\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor} && \hyperlink{a00038_ac9c7bbca809601323d3ae2542ef2801a}{mPositionType} == \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c}{ptPlotCoords})
11509     \hyperlink{a00038_aa476abf71ed8fa4c537457ebb1a754ad}{setType}(\hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8a564f5e53e550ead1ec5fc7fc7d0b73e0}{ptAbsolute});
11510   
11511   \textcolor{comment}{// save pixel position:}
11512   QPointF pixelP;
11513   \textcolor{keywordflow}{if} (keepPixelPosition)
11514     pixelP = \hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}();
11515   \textcolor{comment}{// unregister at current parent anchor:}
11516   \textcolor{keywordflow}{if} (\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor})
11517     \hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor}->\hyperlink{a00032_ab65ec61984575f737f43c2bb59dd0d76}{removeChild}(\textcolor{keyword}{this});
11518   \textcolor{comment}{// register at new parent anchor:}
11519   \textcolor{keywordflow}{if} (parentAnchor)
11520     parentAnchor->\hyperlink{a00032_ad11517e2ce5c2f9a798e78fb45e2e0d0}{addChild}(\textcolor{keyword}{this});
11521   \hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor} = \hyperlink{a00038_a0db87cc41efabc1cf94acee7ebe14eee}{parentAnchor};
11522   \textcolor{comment}{// restore pixel position under new parent:}
11523   \textcolor{keywordflow}{if} (keepPixelPosition)
11524     \hyperlink{a00038_ab404e56d9ac2ac2df0382c57933a71ef}{setPixelPoint}(pixelP);
11525   \textcolor{keywordflow}{else}
11526     \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0);
11527   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
11528 \}
11529 
\hypertarget{a00115_source_l11542}{}\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{11542} \textcolor{keywordtype}{void} \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{QCPItemPosition::setCoords}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key}, \textcolor{keywordtype}{double} 
      \hyperlink{a00116_aee90379adb0307effb138f4871edbc5c}{value})
11543 \{
11544   \hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey} = \hyperlink{a00038_ac3cb2bddf5f89e5181830be30b93d090}{key};
11545   \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue} = \hyperlink{a00038_a6817f7356d3a2b63e8446c6b6106dae1}{value};
11546 \}
11547 
\hypertarget{a00115_source_l11553}{}\hyperlink{a00038_acc70b3abc143287f806e5f154e5e07b0}{11553} \textcolor{keywordtype}{void} \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{QCPItemPosition::setCoords}(\textcolor{keyword}{const} QPointF &pos)
11554 \{
11555   \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(pos.x(), pos.y());
11556 \}
11557 
\hypertarget{a00115_source_l11564}{}\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{11564} QPointF \hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{QCPItemPosition::pixelPoint}()\textcolor{keyword}{ const}
11565 \textcolor{keyword}{}\{
11566   \textcolor{keywordflow}{switch} (\hyperlink{a00038_ac9c7bbca809601323d3ae2542ef2801a}{mPositionType})
11567   \{
11568     \textcolor{keywordflow}{case} \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8a564f5e53e550ead1ec5fc7fc7d0b73e0}{ptAbsolute}:
11569     \{
11570       \textcolor{keywordflow}{if} (\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor})
11571         \textcolor{keywordflow}{return} QPointF(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey}, \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue}) + \hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor}->
      \hyperlink{a00032_ae92def8f9297c5d73f5806c586517bb3}{pixelPoint}();
11572       \textcolor{keywordflow}{else}
11573         \textcolor{keywordflow}{return} QPointF(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey}, \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue});
11574     \}
11575     
11576     \textcolor{keywordflow}{case} \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8ac7d6aa89ceacb39658b0d6da061c789a}{ptViewportRatio}:
11577     \{
11578       \textcolor{keywordflow}{if} (\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor})
11579       \{
11580         \textcolor{keywordflow}{return} QPointF(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey}*\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().width(),
11581                        \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue}*\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().height()) + 
      \hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor}->\hyperlink{a00032_ae92def8f9297c5d73f5806c586517bb3}{pixelPoint}();
11582       \} \textcolor{keywordflow}{else}
11583       \{
11584         \textcolor{keywordflow}{return} QPointF(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey}*\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().width(),
11585                        \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue}*\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().height()) + 
      \hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().topLeft();
11586       \}
11587     \}
11588       
11589     \textcolor{keywordflow}{case} \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8a01080fd00eaf09fa238ef6b73bbfef75}{ptAxisRectRatio}:
11590     \{
11591       \textcolor{keywordflow}{if} (\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor})
11592       \{
11593         \textcolor{keywordflow}{return} QPointF(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey}*\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().width(),
11594                        \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue}*\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().height()) + 
      \hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor}->\hyperlink{a00032_ae92def8f9297c5d73f5806c586517bb3}{pixelPoint}();
11595       \} \textcolor{keywordflow}{else}
11596       \{
11597         \textcolor{keywordflow}{return} QPointF(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey}*\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().width(),
11598                        \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue}*\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().height()) + 
      \hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().topLeft();
11599       \}
11600     \}
11601     
11602     \textcolor{keywordflow}{case} \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c}{ptPlotCoords}:
11603     \{
11604       \textcolor{keywordtype}{double} x, y;
11605       \textcolor{keywordflow}{if} (\hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis} && \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis})
11606       \{
11607         \textcolor{comment}{// both key and value axis are given, translate key/value to x/y coordinates:}
11608         \textcolor{keywordflow}{if} (\hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
11609         \{
11610           x = \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey});
11611           y = \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue});
11612         \} \textcolor{keywordflow}{else}
11613         \{
11614           y = \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey});
11615           x = \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue});
11616         \}
11617       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis})
11618       \{
11619         \textcolor{comment}{// only key axis is given, depending on orientation only transform x or y to key coordinate, other
       stays pixel:}
11620         \textcolor{keywordflow}{if} (\hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
11621         \{
11622           x = \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey});
11623           y = \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue};
11624         \} \textcolor{keywordflow}{else}
11625         \{
11626           y = \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey});
11627           x = \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue};
11628         \}
11629       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis})
11630       \{
11631         \textcolor{comment}{// only value axis is given, depending on orientation only transform x or y to value coordinate,
       other stays pixel:}
11632         \textcolor{keywordflow}{if} (\hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
11633         \{
11634           x = \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue});
11635           y = \hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey};
11636         \} \textcolor{keywordflow}{else}
11637         \{
11638           y = \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue});
11639           x = \hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey};
11640         \}
11641       \} \textcolor{keywordflow}{else}
11642       \{
11643         \textcolor{comment}{// no axis given, basically the same as if mAnchorType were atNone}
11644         x = \hyperlink{a00038_a4ff3931ad115603dfb4c7000b24bb415}{mKey};
11645         y = \hyperlink{a00038_a67bf5df69f587d53731724a7d61c6c3f}{mValue};
11646       \}
11647       \textcolor{keywordflow}{return} QPointF(x, y);
11648     \}
11649   \}
11650   \textcolor{keywordflow}{return} QPointF();
11651 \}
11652 
\hypertarget{a00115_source_l11657}{}\hyperlink{a00038_a2185f45c75ac8cb9be89daeaaad50e37}{11657} \textcolor{keywordtype}{void} \hyperlink{a00038_a2185f45c75ac8cb9be89daeaaad50e37}{QCPItemPosition::setAxes}(\hyperlink{a00025}{QCPAxis} *keyAxis, 
      \hyperlink{a00025}{QCPAxis} *valueAxis)
11658 \{
11659   \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis} = \hyperlink{a00038_ab99de7ae5766d246defb2de9f47eaf51}{keyAxis};
11660   \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis} = \hyperlink{a00038_a8d3a039fb2e69df86b4015daa30dfd2d}{valueAxis};
11661 \}
11662 
\hypertarget{a00115_source_l11673}{}\hyperlink{a00038_ab404e56d9ac2ac2df0382c57933a71ef}{11673} \textcolor{keywordtype}{void} \hyperlink{a00038_ab404e56d9ac2ac2df0382c57933a71ef}{QCPItemPosition::setPixelPoint}(\textcolor{keyword}{const} QPointF &pixelPoint)
11674 \{
11675   \textcolor{keywordflow}{switch} (\hyperlink{a00038_ac9c7bbca809601323d3ae2542ef2801a}{mPositionType})
11676   \{
11677     \textcolor{keywordflow}{case} \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8a564f5e53e550ead1ec5fc7fc7d0b73e0}{ptAbsolute}:
11678     \{
11679       \textcolor{keywordflow}{if} (\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor})
11680         \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(pixelPoint-\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor}->\hyperlink{a00032_ae92def8f9297c5d73f5806c586517bb3}{pixelPoint}());
11681       \textcolor{keywordflow}{else}
11682         \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(pixelPoint);
11683       \textcolor{keywordflow}{break};
11684     \}
11685       
11686     \textcolor{keywordflow}{case} \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8ac7d6aa89ceacb39658b0d6da061c789a}{ptViewportRatio}:
11687     \{
11688       \textcolor{keywordflow}{if} (\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor})
11689       \{
11690         QPointF p(pixelPoint-\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor}->\hyperlink{a00032_ae92def8f9297c5d73f5806c586517bb3}{pixelPoint}());
11691         p.rx() /= (double)\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().width();
11692         p.ry() /= (double)\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().height();
11693         \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(p);
11694       \} \textcolor{keywordflow}{else}
11695       \{
11696         QPointF p(pixelPoint-\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().topLeft());
11697         p.rx() /= (double)\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().width();
11698         p.ry() /= (double)\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->viewport().height();
11699         \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(p);
11700       \}
11701       \textcolor{keywordflow}{break};
11702     \}
11703       
11704     \textcolor{keywordflow}{case} \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8a01080fd00eaf09fa238ef6b73bbfef75}{ptAxisRectRatio}:
11705     \{
11706       \textcolor{keywordflow}{if} (\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor})
11707       \{
11708         QPointF p(pixelPoint-\hyperlink{a00038_a21e37c5a8cabe747a2c60773b23eddeb}{mParentAnchor}->\hyperlink{a00032_ae92def8f9297c5d73f5806c586517bb3}{pixelPoint}());
11709         p.rx() /= (double)\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().width();
11710         p.ry() /= (double)\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().height();
11711         \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(p);
11712       \} \textcolor{keywordflow}{else}
11713       \{
11714         QPointF p(pixelPoint-\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().topLeft());
11715         p.rx() /= (double)\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().width();
11716         p.ry() /= (double)\hyperlink{a00032_a59b968410831ba91a25cc75a77dde6f5}{mParentPlot}->axisRect().height();
11717         \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(p);
11718       \}
11719       \textcolor{keywordflow}{break};
11720     \}
11721       
11722     \textcolor{keywordflow}{case} \hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c}{ptPlotCoords}:
11723     \{
11724       \textcolor{keywordtype}{double} newKey, newValue;
11725       \textcolor{keywordflow}{if} (\hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis} && \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis})
11726       \{
11727         \textcolor{comment}{// both key and value axis are given, translate point to key/value coordinates:}
11728         \textcolor{keywordflow}{if} (\hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
11729         \{
11730           newKey = \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(pixelPoint.x());
11731           newValue = \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(pixelPoint.y());
11732         \} \textcolor{keywordflow}{else}
11733         \{
11734           newKey = \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(pixelPoint.y());
11735           newValue = \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(pixelPoint.x());
11736         \}
11737       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis})
11738       \{
11739         \textcolor{comment}{// only key axis is given, depending on orientation only transform x or y to key coordinate, other
       stays pixel:}
11740         \textcolor{keywordflow}{if} (\hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
11741         \{
11742           newKey = \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(pixelPoint.x());
11743           newValue = pixelPoint.y();
11744         \} \textcolor{keywordflow}{else}
11745         \{
11746           newKey = \hyperlink{a00038_a05b13a027fd0b07663fd70b8ab1c8842}{mKeyAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(pixelPoint.y());
11747           newValue = pixelPoint.x();
11748         \}
11749       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis})
11750       \{
11751         \textcolor{comment}{// only value axis is given, depending on orientation only transform x or y to value coordinate,
       other stays pixel:}
11752         \textcolor{keywordflow}{if} (\hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
11753         \{
11754           newKey = pixelPoint.y();
11755           newValue = \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(pixelPoint.x());
11756         \} \textcolor{keywordflow}{else}
11757         \{
11758           newKey = pixelPoint.x();
11759           newValue = \hyperlink{a00038_acd281f6bd352758ff00d852f1f0fa06f}{mValueAxis}->\hyperlink{a00025_ae9289ef7043b9d966af88eaa95b037d1}{pixelToCoord}(pixelPoint.y());
11760         \}
11761       \} \textcolor{keywordflow}{else}
11762       \{
11763         \textcolor{comment}{// no axis given, basically the same as if mAnchorType were atNone}
11764         newKey = pixelPoint.x();
11765         newValue = pixelPoint.y();
11766       \}
11767       \hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(newKey, newValue);
11768       \textcolor{keywordflow}{break};
11769     \}
11770   \}
11771 \}
11772 
11773 
11774 \textcolor{comment}{// ================================================================================}
11775 \textcolor{comment}{// =================== QCPItemStraightLine}
11776 \textcolor{comment}{// ================================================================================}
11777 
\hypertarget{a00115_source_l11791}{}\hyperlink{a00040_a41fd2e1f006983449eca9830930c3b10}{11791} \hyperlink{a00040_a41fd2e1f006983449eca9830930c3b10}{QCPItemStraightLine::QCPItemStraightLine}(
      \hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
11792   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
11793   point1(createPosition(\textcolor{stringliteral}{"point1"})),
11794   point2(createPosition(\textcolor{stringliteral}{"point2"}))
11795 \{
11796   \hyperlink{a00040_ac131a6ffe456f2cc7364dce541fe0120}{point1}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0);
11797   \hyperlink{a00040_ad26c0a732e471f63f75d481dcd48cfc9}{point2}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(1, 1);
11798   
11799   \hyperlink{a00040_a9f36c9c9e60d7d9ac084c80380ac8601}{setPen}(QPen(Qt::black));
11800   \hyperlink{a00040_a5c33559498d33543fa95cf0a36e851ff}{setSelectedPen}(QPen(Qt::blue,2));
11801 \}
11802 
\hypertarget{a00115_source_l11803}{}\hyperlink{a00040_a1f0730759916ce203baeaad1ad2af3ea}{11803} \hyperlink{a00040_a1f0730759916ce203baeaad1ad2af3ea}{QCPItemStraightLine::~QCPItemStraightLine}()
11804 \{
11805 \}
11806 
\hypertarget{a00115_source_l11812}{}\hyperlink{a00040_a9f36c9c9e60d7d9ac084c80380ac8601}{11812} \textcolor{keywordtype}{void} \hyperlink{a00040_a9f36c9c9e60d7d9ac084c80380ac8601}{QCPItemStraightLine::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
11813 \{
11814   \hyperlink{a00040_a15106ddc2ebd73ed5c1bc57aa92bee8f}{mPen} = \hyperlink{a00040_ad858ab1a444391aab778f765453ea222}{pen};
11815 \}
11816 
\hypertarget{a00115_source_l11822}{}\hyperlink{a00040_a5c33559498d33543fa95cf0a36e851ff}{11822} \textcolor{keywordtype}{void} \hyperlink{a00040_a5c33559498d33543fa95cf0a36e851ff}{QCPItemStraightLine::setSelectedPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
11823 \{
11824   \hyperlink{a00040_a0307a0d56a018656adbf798bc84c2a4b}{mSelectedPen} = \hyperlink{a00040_ad858ab1a444391aab778f765453ea222}{pen};
11825 \}
11826 
11827 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l11828}{}\hyperlink{a00040_a8cd13e1da2d82613934401e2a9eec26d}{11828} \textcolor{keywordtype}{double} \hyperlink{a00040_a8cd13e1da2d82613934401e2a9eec26d}{QCPItemStraightLine::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
11829 \textcolor{keyword}{}\{
11830   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
11831     \textcolor{keywordflow}{return} -1;
11832   
11833   \textcolor{keywordflow}{return} \hyperlink{a00040_adc9b6c5bd33c7f806b748b79dfa25926}{distToStraightLine}(QVector2D(\hyperlink{a00040_ac131a6ffe456f2cc7364dce541fe0120}{point1}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}()), QVector2D(
      \hyperlink{a00040_ad26c0a732e471f63f75d481dcd48cfc9}{point2}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}()-\hyperlink{a00040_ac131a6ffe456f2cc7364dce541fe0120}{point1}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}()), QVector2D(pos));
11834 \}
11835 
11836 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l11837}{}\hyperlink{a00040_a2daa1e1253216c26565d56a2d5530170}{11837} \textcolor{keywordtype}{void} \hyperlink{a00040_a2daa1e1253216c26565d56a2d5530170}{QCPItemStraightLine::draw}(\hyperlink{a00047}{QCPPainter} *painter)
11838 \{
11839   QVector2D start(\hyperlink{a00040_ac131a6ffe456f2cc7364dce541fe0120}{point1}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
11840   QVector2D end(\hyperlink{a00040_ad26c0a732e471f63f75d481dcd48cfc9}{point2}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
11841   \textcolor{comment}{// get visible segment of straight line inside clipRect:}
11842   \textcolor{keywordtype}{double} clipPad = \hyperlink{a00040_a63ef39814c5b560dbb7b13e3fec1d940}{mainPen}().widthF();
11843   QLineF line = \hyperlink{a00040_af18ac29577b5b96fece15b0ffea70177}{getRectClippedStraightLine}(start, end-start, 
      \hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}().adjusted(-clipPad, -clipPad, clipPad, clipPad));
11844   \textcolor{comment}{// paint visible segment, if existent:}
11845   \textcolor{keywordflow}{if} (!line.isNull())
11846   \{
11847     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00040_a63ef39814c5b560dbb7b13e3fec1d940}{mainPen}());
11848     painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(line);
11849   \}
11850 \}
11851 
\hypertarget{a00115_source_l11859}{}\hyperlink{a00040_adc9b6c5bd33c7f806b748b79dfa25926}{11859} \textcolor{keywordtype}{double} \hyperlink{a00040_adc9b6c5bd33c7f806b748b79dfa25926}{QCPItemStraightLine::distToStraightLine}(\textcolor{keyword}{const} QVector2D &base
      , \textcolor{keyword}{const} QVector2D &vec, \textcolor{keyword}{const} QVector2D &point)\textcolor{keyword}{ const}
11860 \textcolor{keyword}{}\{
11861   \textcolor{keywordflow}{return} qAbs((base.y()-point.y())*vec.x()-(base.x()-point.x())*vec.y())/vec.length();
11862 \}
11863 
\hypertarget{a00115_source_l11871}{}\hyperlink{a00040_af18ac29577b5b96fece15b0ffea70177}{11871} QLineF \hyperlink{a00040_af18ac29577b5b96fece15b0ffea70177}{QCPItemStraightLine::getRectClippedStraightLine}(\textcolor{keyword}{const}
       QVector2D &base, \textcolor{keyword}{const} QVector2D &vec, \textcolor{keyword}{const} QRect &rect)\textcolor{keyword}{ const}
11872 \textcolor{keyword}{}\{
11873   \textcolor{keywordtype}{double} bx, by;
11874   \textcolor{keywordtype}{double} gamma;
11875   QLineF result;
11876   \textcolor{keywordflow}{if} (vec.x() == 0 && vec.y() == 0)
11877     \textcolor{keywordflow}{return} result;
11878   \textcolor{keywordflow}{if} (qFuzzyIsNull(vec.x())) \textcolor{comment}{// line is vertical}
11879   \{
11880     \textcolor{comment}{// check top of rect:}
11881     bx = rect.left();
11882     by = rect.top();
11883     gamma = base.x()-bx + (by-base.y())*vec.x()/vec.y();
11884     \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.width())
11885       result.setLine(bx+gamma, rect.top(), bx+gamma, rect.bottom()); \textcolor{comment}{// no need to check bottom because we
       know line is vertical}
11886   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (qFuzzyIsNull(vec.y())) \textcolor{comment}{// line is horizontal}
11887   \{
11888     \textcolor{comment}{// check left of rect:}
11889     bx = rect.left();
11890     by = rect.top();
11891     gamma = base.y()-by + (bx-base.x())*vec.y()/vec.x();
11892     \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.height())
11893       result.setLine(rect.left(), by+gamma, rect.right(), by+gamma); \textcolor{comment}{// no need to check right because we
       know line is horizontal}
11894   \} \textcolor{keywordflow}{else} \textcolor{comment}{// line is skewed}
11895   \{
11896     QList<QVector2D> pointVectors;
11897     \textcolor{comment}{// check top of rect:}
11898     bx = rect.left();
11899     by = rect.top();
11900     gamma = base.x()-bx + (by-base.y())*vec.x()/vec.y();
11901     \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.width())
11902       pointVectors.append(QVector2D(bx+gamma, by));
11903     \textcolor{comment}{// check bottom of rect:}
11904     bx = rect.left();
11905     by = rect.bottom();
11906     gamma = base.x()-bx + (by-base.y())*vec.x()/vec.y();
11907     \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.width())
11908       pointVectors.append(QVector2D(bx+gamma, by));
11909     \textcolor{comment}{// check left of rect:}
11910     bx = rect.left();
11911     by = rect.top();
11912     gamma = base.y()-by + (bx-base.x())*vec.y()/vec.x();
11913     \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.height())
11914       pointVectors.append(QVector2D(bx, by+gamma));
11915     \textcolor{comment}{// check right of rect:}
11916     bx = rect.right();
11917     by = rect.top();
11918     gamma = base.y()-by + (bx-base.x())*vec.y()/vec.x();
11919     \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.height())
11920       pointVectors.append(QVector2D(bx, by+gamma));
11921     
11922     \textcolor{comment}{// evaluate points:}
11923     \textcolor{keywordflow}{if} (pointVectors.size() == 2)
11924     \{
11925       result.setPoints(pointVectors.at(0).toPointF(), pointVectors.at(1).toPointF());
11926     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pointVectors.size() > 2)
11927     \{
11928       \textcolor{comment}{// line probably goes through corner of rect, and we got two points there. single out the point pair
       with greatest distance:}
11929       \textcolor{keywordtype}{double} distSqrMax = 0;
11930       QVector2D pv1, pv2;
11931       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<pointVectors.size()-1; ++i)
11932       \{
11933         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=i+1; k<pointVectors.size(); ++k)
11934         \{
11935           \textcolor{keywordtype}{double} distSqr = (pointVectors.at(i)-pointVectors.at(k)).lengthSquared();
11936           \textcolor{keywordflow}{if} (distSqr > distSqrMax)
11937           \{
11938             pv1 = pointVectors.at(i);
11939             pv2 = pointVectors.at(k);
11940             distSqrMax = distSqr;
11941           \}
11942         \}
11943       \}
11944       result.setPoints(pv1.toPointF(), pv2.toPointF());
11945     \}
11946   \}
11947   \textcolor{keywordflow}{return} result;
11948 \}
11949 
\hypertarget{a00115_source_l11955}{}\hyperlink{a00040_a63ef39814c5b560dbb7b13e3fec1d940}{11955} QPen \hyperlink{a00040_a63ef39814c5b560dbb7b13e3fec1d940}{QCPItemStraightLine::mainPen}()\textcolor{keyword}{ const}
11956 \textcolor{keyword}{}\{
11957   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00040_a0307a0d56a018656adbf798bc84c2a4b}{mSelectedPen} : \hyperlink{a00040_a15106ddc2ebd73ed5c1bc57aa92bee8f}{mPen};
11958 \}
11959 
11960 
11961 \textcolor{comment}{// ================================================================================}
11962 \textcolor{comment}{// =================== QCPItemLine}
11963 \textcolor{comment}{// ================================================================================}
11964 
\hypertarget{a00115_source_l11980}{}\hyperlink{a00036_a17804b7f64961c6accf25b61e85142e3}{11980} \hyperlink{a00036_a17804b7f64961c6accf25b61e85142e3}{QCPItemLine::QCPItemLine}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
11981   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
11982   start(createPosition(\textcolor{stringliteral}{"start"})),
11983   end(createPosition(\textcolor{stringliteral}{"end"}))
11984 \{
11985   \hyperlink{a00036_a602da607a09498b0f152ada1d6851bc5}{start}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0);
11986   \hyperlink{a00036_a15598864c1c22a2497a1979c4980c4e1}{end}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(1, 1);
11987   
11988   \hyperlink{a00036_a572528dab61c1abe205822fbd5db4b27}{setPen}(QPen(Qt::black));
11989   \hyperlink{a00036_a3e2fec44503277e77717e9c24f87f1ea}{setSelectedPen}(QPen(Qt::blue,2));
11990 \}
11991 
\hypertarget{a00115_source_l11992}{}\hyperlink{a00036_a94b5aaae048171e5306dc4695b991283}{11992} \hyperlink{a00036_a94b5aaae048171e5306dc4695b991283}{QCPItemLine::~QCPItemLine}()
11993 \{
11994 \}
11995 
\hypertarget{a00115_source_l12001}{}\hyperlink{a00036_a572528dab61c1abe205822fbd5db4b27}{12001} \textcolor{keywordtype}{void} \hyperlink{a00036_a572528dab61c1abe205822fbd5db4b27}{QCPItemLine::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12002 \{
12003   \hyperlink{a00036_abbb544d5bb927dfe4e81a7f3ca4c65ac}{mPen} = \hyperlink{a00036_a235779dd079a263bedb20b3daecc40eb}{pen};
12004 \}
12005 
\hypertarget{a00115_source_l12011}{}\hyperlink{a00036_a3e2fec44503277e77717e9c24f87f1ea}{12011} \textcolor{keywordtype}{void} \hyperlink{a00036_a3e2fec44503277e77717e9c24f87f1ea}{QCPItemLine::setSelectedPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12012 \{
12013   \hyperlink{a00036_aff858ad6dde3b90024814ca4b116f278}{mSelectedPen} = \hyperlink{a00036_a235779dd079a263bedb20b3daecc40eb}{pen};
12014 \}
12015 
\hypertarget{a00115_source_l12024}{}\hyperlink{a00036_aebf3d687114d584e0459db6759e2c3c3}{12024} \textcolor{keywordtype}{void} \hyperlink{a00036_aebf3d687114d584e0459db6759e2c3c3}{QCPItemLine::setHead}(\textcolor{keyword}{const} \hyperlink{a00046}{QCPLineEnding} &head)
12025 \{
12026   \hyperlink{a00036_a51603f28ab7ddb1c1a95ea384791d3ed}{mHead} = \hyperlink{a00036_a5f6cbc5c763feae9dfbce71748fc43f1}{head};
12027 \}
12028 
\hypertarget{a00115_source_l12037}{}\hyperlink{a00036_ac264222c3297a7efe33df9345c811a5f}{12037} \textcolor{keywordtype}{void} \hyperlink{a00036_ac264222c3297a7efe33df9345c811a5f}{QCPItemLine::setTail}(\textcolor{keyword}{const} \hyperlink{a00046}{QCPLineEnding} &tail)
12038 \{
12039   \hyperlink{a00036_ab8ed61dfe15bbb1cbf9b95eae95e242f}{mTail} = \hyperlink{a00036_a5d2ca0f784933e80f3e6e1d15dceebb3}{tail};
12040 \}
12041 
12042 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12043}{}\hyperlink{a00036_abc195de27d00ffa02c9047489308a6a7}{12043} \textcolor{keywordtype}{double} \hyperlink{a00036_abc195de27d00ffa02c9047489308a6a7}{QCPItemLine::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
12044 \textcolor{keyword}{}\{
12045   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
12046     \textcolor{keywordflow}{return} -1;
12047   
12048   \textcolor{keywordflow}{return} qSqrt(\hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{distSqrToLine}(\hyperlink{a00036_a602da607a09498b0f152ada1d6851bc5}{start}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}(), 
      \hyperlink{a00036_a15598864c1c22a2497a1979c4980c4e1}{end}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}(), pos));
12049 \}
12050 
12051 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12052}{}\hyperlink{a00036_a1fc045dd33919f8006df0692aeb0e84a}{12052} \textcolor{keywordtype}{void} \hyperlink{a00036_a1fc045dd33919f8006df0692aeb0e84a}{QCPItemLine::draw}(\hyperlink{a00047}{QCPPainter} *painter)
12053 \{
12054   QVector2D startVec(\hyperlink{a00036_a602da607a09498b0f152ada1d6851bc5}{start}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
12055   QVector2D endVec(\hyperlink{a00036_a15598864c1c22a2497a1979c4980c4e1}{end}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
12056   \textcolor{keywordflow}{if} (startVec.toPoint() == endVec.toPoint())
12057     \textcolor{keywordflow}{return};
12058   \textcolor{comment}{// get visible segment of straight line inside clipRect:}
12059   \textcolor{keywordtype}{double} clipPad = qMax(\hyperlink{a00036_a51603f28ab7ddb1c1a95ea384791d3ed}{mHead}.\hyperlink{a00046_a586b45cf738881a70119e353dc1ed59c}{boundingDistance}(), \hyperlink{a00036_ab8ed61dfe15bbb1cbf9b95eae95e242f}{mTail}.
      \hyperlink{a00046_a586b45cf738881a70119e353dc1ed59c}{boundingDistance}());
12060   clipPad = qMax(clipPad, \hyperlink{a00036_a7b5bc4ebacb55774b87c91b308ca7912}{mainPen}().widthF());
12061   QLineF line = \hyperlink{a00036_a36e8620019a221ccea4357f0287b81c2}{getRectClippedLine}(startVec, endVec, \hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}().adjusted(-clipPad
      , -clipPad, clipPad, clipPad));
12062   \textcolor{comment}{// paint visible segment, if existent:}
12063   \textcolor{keywordflow}{if} (!line.isNull())
12064   \{
12065     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00036_a7b5bc4ebacb55774b87c91b308ca7912}{mainPen}());
12066     painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(line);
12067     painter->setBrush(Qt::SolidPattern);
12068     \textcolor{keywordflow}{if} (\hyperlink{a00036_ab8ed61dfe15bbb1cbf9b95eae95e242f}{mTail}.\hyperlink{a00046_aea324dbfddbca9895ca8a3a968671299}{style}() != \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03}{QCPLineEnding::esNone})
12069       \hyperlink{a00036_ab8ed61dfe15bbb1cbf9b95eae95e242f}{mTail}.\hyperlink{a00046_ac4b2fa94bd27b2f008b5fc090fcd7c0b}{draw}(painter, startVec, startVec-endVec);
12070     \textcolor{keywordflow}{if} (\hyperlink{a00036_a51603f28ab7ddb1c1a95ea384791d3ed}{mHead}.\hyperlink{a00046_aea324dbfddbca9895ca8a3a968671299}{style}() != \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03}{QCPLineEnding::esNone})
12071       \hyperlink{a00036_a51603f28ab7ddb1c1a95ea384791d3ed}{mHead}.\hyperlink{a00046_ac4b2fa94bd27b2f008b5fc090fcd7c0b}{draw}(painter, endVec, endVec-startVec);
12072   \}
12073 \}
12074 
\hypertarget{a00115_source_l12082}{}\hyperlink{a00036_a36e8620019a221ccea4357f0287b81c2}{12082} QLineF \hyperlink{a00036_a36e8620019a221ccea4357f0287b81c2}{QCPItemLine::getRectClippedLine}(\textcolor{keyword}{const} QVector2D &start, \textcolor{keyword}{const} 
      QVector2D &end, \textcolor{keyword}{const} QRect &rect)\textcolor{keyword}{ const}
12083 \textcolor{keyword}{}\{
12084   \textcolor{keywordtype}{bool} containsStart = rect.contains(start.x(), start.y());
12085   \textcolor{keywordtype}{bool} containsEnd = rect.contains(end.x(), end.y());
12086   \textcolor{keywordflow}{if} (containsStart && containsEnd)
12087     \textcolor{keywordflow}{return} QLineF(start.toPointF(), end.toPointF());
12088   
12089   QVector2D base = \hyperlink{a00036_a602da607a09498b0f152ada1d6851bc5}{start};
12090   QVector2D vec = end-\hyperlink{a00036_a602da607a09498b0f152ada1d6851bc5}{start};
12091   \textcolor{keywordtype}{double} bx, by;
12092   \textcolor{keywordtype}{double} gamma, mu;
12093   QLineF result;
12094   QList<QVector2D> pointVectors;
12095 
12096   \textcolor{keywordflow}{if} (!qFuzzyIsNull(vec.y())) \textcolor{comment}{// line is not horizontal}
12097   \{
12098     \textcolor{comment}{// check top of rect:}
12099     bx = rect.left();
12100     by = rect.top();
12101     mu = (by-base.y())/vec.y();
12102     \textcolor{keywordflow}{if} (mu >= 0 && mu <= 1)
12103     \{
12104       gamma = base.x()-bx + mu*vec.x();
12105       \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.width())
12106         pointVectors.append(QVector2D(bx+gamma, by));
12107     \}
12108     \textcolor{comment}{// check bottom of rect:}
12109     bx = rect.left();
12110     by = rect.bottom();
12111     mu = (by-base.y())/vec.y();
12112     \textcolor{keywordflow}{if} (mu >= 0 && mu <= 1)
12113     \{
12114       gamma = base.x()-bx + mu*vec.x();
12115       \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.width())
12116         pointVectors.append(QVector2D(bx+gamma, by));
12117     \}
12118   \}
12119   \textcolor{keywordflow}{if} (!qFuzzyIsNull(vec.x())) \textcolor{comment}{// line is not vertical}
12120   \{
12121     \textcolor{comment}{// check left of rect:}
12122     bx = rect.left();
12123     by = rect.top();
12124     mu = (bx-base.x())/vec.x();
12125     \textcolor{keywordflow}{if} (mu >= 0 && mu <= 1)
12126     \{
12127       gamma = base.y()-by + mu*vec.y();
12128       \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.height())
12129         pointVectors.append(QVector2D(bx, by+gamma));
12130     \}
12131     \textcolor{comment}{// check right of rect:}
12132     bx = rect.right();
12133     by = rect.top();
12134     mu = (bx-base.x())/vec.x();
12135     \textcolor{keywordflow}{if} (mu >= 0 && mu <= 1)
12136     \{
12137       gamma = base.y()-by + mu*vec.y();
12138       \textcolor{keywordflow}{if} (gamma >= 0 && gamma <= rect.height())
12139         pointVectors.append(QVector2D(bx, by+gamma));
12140     \}
12141   \}
12142   
12143   \textcolor{keywordflow}{if} (containsStart)
12144     pointVectors.append(start);
12145   \textcolor{keywordflow}{if} (containsEnd)
12146     pointVectors.append(end);
12147   
12148   \textcolor{comment}{// evaluate points:}
12149   \textcolor{keywordflow}{if} (pointVectors.size() == 2)
12150   \{
12151     result.setPoints(pointVectors.at(0).toPointF(), pointVectors.at(1).toPointF());
12152   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pointVectors.size() > 2)
12153   \{
12154     \textcolor{comment}{// line probably goes through corner of rect, and we got two points there. single out the point pair
       with greatest distance:}
12155     \textcolor{keywordtype}{double} distSqrMax = 0;
12156     QVector2D pv1, pv2;
12157     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<pointVectors.size()-1; ++i)
12158     \{
12159       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k=i+1; k<pointVectors.size(); ++k)
12160       \{
12161         \textcolor{keywordtype}{double} distSqr = (pointVectors.at(i)-pointVectors.at(k)).lengthSquared();
12162         \textcolor{keywordflow}{if} (distSqr > distSqrMax)
12163         \{
12164           pv1 = pointVectors.at(i);
12165           pv2 = pointVectors.at(k);
12166           distSqrMax = distSqr;
12167         \}
12168       \}
12169     \}
12170     result.setPoints(pv1.toPointF(), pv2.toPointF());
12171   \}
12172   \textcolor{keywordflow}{return} result;
12173 \}
12174 
\hypertarget{a00115_source_l12180}{}\hyperlink{a00036_a7b5bc4ebacb55774b87c91b308ca7912}{12180} QPen \hyperlink{a00036_a7b5bc4ebacb55774b87c91b308ca7912}{QCPItemLine::mainPen}()\textcolor{keyword}{ const}
12181 \textcolor{keyword}{}\{
12182   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00036_aff858ad6dde3b90024814ca4b116f278}{mSelectedPen} : \hyperlink{a00036_abbb544d5bb927dfe4e81a7f3ca4c65ac}{mPen};
12183 \}
12184 
12185 
12186 \textcolor{comment}{// ================================================================================}
12187 \textcolor{comment}{// =================== QCPItemEllipse}
12188 \textcolor{comment}{// ================================================================================}
12189 
\hypertarget{a00115_source_l12203}{}\hyperlink{a00035_a759b77ef002515eba0263b5447ecb3fb}{12203} \hyperlink{a00035_a759b77ef002515eba0263b5447ecb3fb}{QCPItemEllipse::QCPItemEllipse}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
12204   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
12205   topLeft(createPosition(\textcolor{stringliteral}{"topLeft"})),
12206   bottomRight(createPosition(\textcolor{stringliteral}{"bottomRight"})),
12207   topLeftRim(createAnchor(\textcolor{stringliteral}{"topLeftRim"}, aiTopLeftRim)),
12208   top(createAnchor(\textcolor{stringliteral}{"top"}, aiTop)),
12209   topRightRim(createAnchor(\textcolor{stringliteral}{"topRightRim"}, aiTopRightRim)),
12210   right(createAnchor(\textcolor{stringliteral}{"right"}, aiRight)),
12211   bottomRightRim(createAnchor(\textcolor{stringliteral}{"bottomRightRim"}, aiBottomRightRim)),
12212   bottom(createAnchor(\textcolor{stringliteral}{"bottom"}, aiBottom)),
12213   bottomLeftRim(createAnchor(\textcolor{stringliteral}{"bottomLeftRim"}, aiBottomLeftRim)),
12214   left(createAnchor(\textcolor{stringliteral}{"left"}, aiLeft))
12215 \{
12216   \hyperlink{a00035_a12fd8420c06718d0c8a2303d6a652848}{topLeft}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 1);
12217   \hyperlink{a00035_ab73c8deafc0d8d1ef7d75b6cdcc37159}{bottomRight}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(1, 0);
12218   
12219   \hyperlink{a00035_adb81a663ed2420fcfa011e49f678d1a6}{setPen}(QPen(Qt::black));
12220   \hyperlink{a00035_a6c542fba1dc918041c583f58a50dde99}{setSelectedPen}(QPen(Qt::blue, 2));
12221   \hyperlink{a00035_a49fc74e6965834e873d027d026def798}{setBrush}(Qt::NoBrush);
12222   \hyperlink{a00035_a9693501cfaa43a099655c75bed0dab3f}{setSelectedBrush}(Qt::NoBrush);
12223 \}
12224 
\hypertarget{a00115_source_l12225}{}\hyperlink{a00035_a3c17073a1805d32b4e09b6ccde0bef76}{12225} \hyperlink{a00035_a3c17073a1805d32b4e09b6ccde0bef76}{QCPItemEllipse::~QCPItemEllipse}()
12226 \{
12227 \}
12228 
\hypertarget{a00115_source_l12234}{}\hyperlink{a00035_adb81a663ed2420fcfa011e49f678d1a6}{12234} \textcolor{keywordtype}{void} \hyperlink{a00035_adb81a663ed2420fcfa011e49f678d1a6}{QCPItemEllipse::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12235 \{
12236   \hyperlink{a00035_a16ad9389acf028a7e4ac8fd7a550b2e4}{mPen} = \hyperlink{a00035_adb67471eabaf1214c99767f1653ca0ed}{pen};
12237 \}
12238 
\hypertarget{a00115_source_l12244}{}\hyperlink{a00035_a6c542fba1dc918041c583f58a50dde99}{12244} \textcolor{keywordtype}{void} \hyperlink{a00035_a6c542fba1dc918041c583f58a50dde99}{QCPItemEllipse::setSelectedPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12245 \{
12246   \hyperlink{a00035_a57b047abfce6f1a84ed46ca668c90e21}{mSelectedPen} = \hyperlink{a00035_adb67471eabaf1214c99767f1653ca0ed}{pen};
12247 \}
12248 
\hypertarget{a00115_source_l12255}{}\hyperlink{a00035_a49fc74e6965834e873d027d026def798}{12255} \textcolor{keywordtype}{void} \hyperlink{a00035_a49fc74e6965834e873d027d026def798}{QCPItemEllipse::setBrush}(\textcolor{keyword}{const} QBrush &brush)
12256 \{
12257   \hyperlink{a00035_a6fa59478cd3ad1b10e6c1f6cedc84bd6}{mBrush} = \hyperlink{a00035_ac012e4fd59fdb1afb6554937bae8f7e1}{brush};
12258 \}
12259 
\hypertarget{a00115_source_l12266}{}\hyperlink{a00035_a9693501cfaa43a099655c75bed0dab3f}{12266} \textcolor{keywordtype}{void} \hyperlink{a00035_a9693501cfaa43a099655c75bed0dab3f}{QCPItemEllipse::setSelectedBrush}(\textcolor{keyword}{const} QBrush &brush)
12267 \{
12268   \hyperlink{a00035_a2e49d5547478aa36910ed8a2dcc8a5c0}{mSelectedBrush} = \hyperlink{a00035_ac012e4fd59fdb1afb6554937bae8f7e1}{brush};
12269 \}
12270 
12271 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12272}{}\hyperlink{a00035_ac456143773711ea2e3782e51ff2f7eb4}{12272} \textcolor{keywordtype}{double} \hyperlink{a00035_ac456143773711ea2e3782e51ff2f7eb4}{QCPItemEllipse::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
12273 \textcolor{keyword}{}\{
12274   \textcolor{keywordtype}{double} result = -1;
12275   QPointF p1 = \hyperlink{a00035_a12fd8420c06718d0c8a2303d6a652848}{topLeft}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}();
12276   QPointF p2 = \hyperlink{a00035_ab73c8deafc0d8d1ef7d75b6cdcc37159}{bottomRight}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}();
12277   QPointF center((p1+p2)/2.0);
12278   \textcolor{keywordtype}{double} a = qAbs(p1.x()-p2.x())/2.0;
12279   \textcolor{keywordtype}{double} b = qAbs(p1.y()-p2.y())/2.0;
12280   \textcolor{keywordtype}{double} x = pos.x()-center.x();
12281   \textcolor{keywordtype}{double} y = pos.y()-center.y();
12282   
12283   \textcolor{comment}{// distance to border:}
12284   \textcolor{keywordtype}{double} c = 1.0/qSqrt(x*x/(a*a)+y*y/(b*b));
12285   result = qAbs(c-1)*qSqrt(x*x+y*y);
12286   \textcolor{comment}{// filled ellipse, allow click inside to count as hit:}
12287   \textcolor{keywordflow}{if} (result > \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance()*0.99 && \hyperlink{a00035_a6fa59478cd3ad1b10e6c1f6cedc84bd6}{mBrush}.style() != Qt::NoBrush && 
      \hyperlink{a00035_a6fa59478cd3ad1b10e6c1f6cedc84bd6}{mBrush}.color().alpha() != 0)
12288   \{
12289     \textcolor{keywordflow}{if} (x*x/(a*a) + y*y/(b*b) <= 1)
12290       result = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance()*0.99;
12291   \}
12292   \textcolor{keywordflow}{return} result;
12293 \}
12294 
12295 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12296}{}\hyperlink{a00035_afe97ec827adb05f000fe007783faae3c}{12296} \textcolor{keywordtype}{void} \hyperlink{a00035_afe97ec827adb05f000fe007783faae3c}{QCPItemEllipse::draw}(\hyperlink{a00047}{QCPPainter} *painter)
12297 \{
12298   QPointF p1 = \hyperlink{a00035_a12fd8420c06718d0c8a2303d6a652848}{topLeft}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}();
12299   QPointF p2 = \hyperlink{a00035_ab73c8deafc0d8d1ef7d75b6cdcc37159}{bottomRight}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}();
12300   \textcolor{keywordflow}{if} (p1.toPoint() == p2.toPoint())
12301     \textcolor{keywordflow}{return};
12302   QRectF ellipseRect = QRectF(p1, p2).normalized();
12303   QRect clip = \hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}().adjusted(-\hyperlink{a00035_afc78d49ed5ffa886bccf18f297f83d30}{mainPen}().widthF(), -\hyperlink{a00035_afc78d49ed5ffa886bccf18f297f83d30}{mainPen}().widthF(), 
      \hyperlink{a00035_afc78d49ed5ffa886bccf18f297f83d30}{mainPen}().widthF(), \hyperlink{a00035_afc78d49ed5ffa886bccf18f297f83d30}{mainPen}().widthF());
12304   \textcolor{keywordflow}{if} (ellipseRect.intersects(clip)) \textcolor{comment}{// only draw if bounding rect of ellipse is visible in cliprect}
12305   \{
12306     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00035_afc78d49ed5ffa886bccf18f297f83d30}{mainPen}());
12307     painter->setBrush(\hyperlink{a00035_a2a9757204877c9d0fd07adfb26d6b1d8}{mainBrush}());
12308     \textcolor{keywordflow}{try}
12309     \{
12310       painter->drawEllipse(ellipseRect);
12311     \} \textcolor{keywordflow}{catch} (...)
12312     \{
12313       qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Item too large for memory, setting invisible"};
12314       \hyperlink{a00044_a3bed99ddc396b48ce3ebfdc0418744f8}{setVisible}(\textcolor{keyword}{false});
12315     \}
12316   \}
12317 \}
12318 
12319 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12320}{}\hyperlink{a00035_ad3c607304dba081e2f778b6a81b903bb}{12320} QPointF \hyperlink{a00035_ad3c607304dba081e2f778b6a81b903bb}{QCPItemEllipse::anchorPixelPoint}(\textcolor{keywordtype}{int} anchorId)\textcolor{keyword}{ const}
12321 \textcolor{keyword}{}\{
12322   QRectF rect = QRectF(\hyperlink{a00035_a12fd8420c06718d0c8a2303d6a652848}{topLeft}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}(), \hyperlink{a00035_ab73c8deafc0d8d1ef7d75b6cdcc37159}{bottomRight}->
      \hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
12323   \textcolor{keywordflow}{switch} (anchorId)
12324   \{
12325     \textcolor{keywordflow}{case} \hyperlink{a00035_a415009889543169f35b70795f415e45eab2538849b88921e7fc1dcc15b2a6109d}{aiTopLeftRim}:     \textcolor{keywordflow}{return} rect.center()+(rect.topLeft()-rect.center())*1/qSqrt(2);
12326     \textcolor{keywordflow}{case} \hyperlink{a00035_a415009889543169f35b70795f415e45ea83e55b0c1799baac1eecab52bcbe096d}{aiTop}:            \textcolor{keywordflow}{return} (rect.topLeft()+rect.topRight())*0.5;
12327     \textcolor{keywordflow}{case} \hyperlink{a00035_a415009889543169f35b70795f415e45ea415d82233c14f0c70c245d50e706e75b}{aiTopRightRim}:    \textcolor{keywordflow}{return} rect.center()+(rect.topRight()-rect.center())*1/qSqrt(2);
12328     \textcolor{keywordflow}{case} \hyperlink{a00035_a415009889543169f35b70795f415e45ea0f0dcfdf87d9405b53b2129740fb6ba6}{aiRight}:          \textcolor{keywordflow}{return} (rect.topRight()+rect.bottomRight())*0.5;
12329     \textcolor{keywordflow}{case} \hyperlink{a00035_a415009889543169f35b70795f415e45eab62732e96d67801d50c6a9bdebc374d0}{aiBottomRightRim}: \textcolor{keywordflow}{return} rect.center()+(rect.bottomRight()-rect.center())*1/qSqrt(
      2);
12330     \textcolor{keywordflow}{case} \hyperlink{a00035_a415009889543169f35b70795f415e45ea5894287dedaeec1f48394fd950ccff5b}{aiBottom}:         \textcolor{keywordflow}{return} (rect.bottomLeft()+rect.bottomRight())*0.5;
12331     \textcolor{keywordflow}{case} \hyperlink{a00035_a415009889543169f35b70795f415e45ea7b8101bfc590af8ce32961f6545c4f90}{aiBottomLeftRim}:  \textcolor{keywordflow}{return} rect.center()+(rect.bottomLeft()-rect.center())*1/qSqrt(2)
      ;
12332     \textcolor{keywordflow}{case} \hyperlink{a00035_a415009889543169f35b70795f415e45eae74dad00419a0e1f42877510158fb922}{aiLeft}:           \textcolor{keywordflow}{return} (rect.topLeft()+rect.bottomLeft())*0.5;;
12333   \}
12334   
12335   qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"invalid anchorId"} << anchorId;
12336   \textcolor{keywordflow}{return} QPointF();
12337 \}
12338 
\hypertarget{a00115_source_l12344}{}\hyperlink{a00035_afc78d49ed5ffa886bccf18f297f83d30}{12344} QPen \hyperlink{a00035_afc78d49ed5ffa886bccf18f297f83d30}{QCPItemEllipse::mainPen}()\textcolor{keyword}{ const}
12345 \textcolor{keyword}{}\{
12346   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00035_a57b047abfce6f1a84ed46ca668c90e21}{mSelectedPen} : \hyperlink{a00035_a16ad9389acf028a7e4ac8fd7a550b2e4}{mPen};
12347 \}
12348 
\hypertarget{a00115_source_l12354}{}\hyperlink{a00035_a2a9757204877c9d0fd07adfb26d6b1d8}{12354} QBrush \hyperlink{a00035_a2a9757204877c9d0fd07adfb26d6b1d8}{QCPItemEllipse::mainBrush}()\textcolor{keyword}{ const}
12355 \textcolor{keyword}{}\{
12356   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00035_a2e49d5547478aa36910ed8a2dcc8a5c0}{mSelectedBrush} : \hyperlink{a00035_a6fa59478cd3ad1b10e6c1f6cedc84bd6}{mBrush};
12357 \}
12358 
12359 
12360 \textcolor{comment}{// ================================================================================}
12361 \textcolor{comment}{// =================== QCPItemRect}
12362 \textcolor{comment}{// ================================================================================}
12363 
\hypertarget{a00115_source_l12377}{}\hyperlink{a00039_a412ad1579f7a1fba453d0fa28c496cbc}{12377} \hyperlink{a00039_a412ad1579f7a1fba453d0fa28c496cbc}{QCPItemRect::QCPItemRect}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
12378   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
12379   topLeft(createPosition(\textcolor{stringliteral}{"topLeft"})),
12380   bottomRight(createPosition(\textcolor{stringliteral}{"bottomRight"})),
12381   top(createAnchor(\textcolor{stringliteral}{"top"}, aiTop)),
12382   topRight(createAnchor(\textcolor{stringliteral}{"topRight"}, aiTopRight)),
12383   right(createAnchor(\textcolor{stringliteral}{"right"}, aiRight)),
12384   bottom(createAnchor(\textcolor{stringliteral}{"bottom"}, aiBottom)),
12385   bottomLeft(createAnchor(\textcolor{stringliteral}{"bottomLeft"}, aiBottomLeft)),
12386   left(createAnchor(\textcolor{stringliteral}{"left"}, aiLeft))
12387 \{
12388   \hyperlink{a00039_aa70feeef173489b03c3fbe906a5023c4}{topLeft}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 1);
12389   \hyperlink{a00039_a409f3bfe615a7e322bb3d4d193d85b26}{bottomRight}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(1, 0);
12390   
12391   \hyperlink{a00039_a483c0da5a17e1646cd17ddea2c124e7d}{setPen}(QPen(Qt::black));
12392   \hyperlink{a00039_a52a1bcb2dc753a538e406a2ba3cf21ce}{setSelectedPen}(QPen(Qt::blue,2));
12393   \hyperlink{a00039_abbd4e346a03513ee466afc25d9c75446}{setBrush}(Qt::NoBrush);
12394   \hyperlink{a00039_abd1792859844118dedee86223cede7af}{setSelectedBrush}(Qt::NoBrush);
12395 \}
12396 
\hypertarget{a00115_source_l12397}{}\hyperlink{a00039_af9e89f80457afc2d0fd2c6527b40a5f2}{12397} \hyperlink{a00039_af9e89f80457afc2d0fd2c6527b40a5f2}{QCPItemRect::~QCPItemRect}()
12398 \{
12399 \}
12400 
\hypertarget{a00115_source_l12406}{}\hyperlink{a00039_a483c0da5a17e1646cd17ddea2c124e7d}{12406} \textcolor{keywordtype}{void} \hyperlink{a00039_a483c0da5a17e1646cd17ddea2c124e7d}{QCPItemRect::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12407 \{
12408   \hyperlink{a00039_aa0d49323628d6752026056bfb52afd86}{mPen} = \hyperlink{a00039_a3cb7b6de5e82cc5a3c99e9de919a55e6}{pen};
12409 \}
12410 
\hypertarget{a00115_source_l12416}{}\hyperlink{a00039_a52a1bcb2dc753a538e406a2ba3cf21ce}{12416} \textcolor{keywordtype}{void} \hyperlink{a00039_a52a1bcb2dc753a538e406a2ba3cf21ce}{QCPItemRect::setSelectedPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12417 \{
12418   \hyperlink{a00039_a73cc0bee61de3c67221ec8c7a76a29ed}{mSelectedPen} = \hyperlink{a00039_a3cb7b6de5e82cc5a3c99e9de919a55e6}{pen};
12419 \}
12420 
\hypertarget{a00115_source_l12427}{}\hyperlink{a00039_abbd4e346a03513ee466afc25d9c75446}{12427} \textcolor{keywordtype}{void} \hyperlink{a00039_abbd4e346a03513ee466afc25d9c75446}{QCPItemRect::setBrush}(\textcolor{keyword}{const} QBrush &brush)
12428 \{
12429   \hyperlink{a00039_a2d7f207fada27588b3a52b19234d3c2e}{mBrush} = \hyperlink{a00039_a03d2d26ffcac78b25b8e90915f9c4abe}{brush};
12430 \}
12431 
\hypertarget{a00115_source_l12438}{}\hyperlink{a00039_abd1792859844118dedee86223cede7af}{12438} \textcolor{keywordtype}{void} \hyperlink{a00039_abd1792859844118dedee86223cede7af}{QCPItemRect::setSelectedBrush}(\textcolor{keyword}{const} QBrush &brush)
12439 \{
12440   \hyperlink{a00039_a21b70eee59b6e19ae0bbdf037b13508f}{mSelectedBrush} = \hyperlink{a00039_a03d2d26ffcac78b25b8e90915f9c4abe}{brush};
12441 \}
12442 
12443 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12444}{}\hyperlink{a00039_a0406a7da87557006f63b5d98ee6c397b}{12444} \textcolor{keywordtype}{double} \hyperlink{a00039_a0406a7da87557006f63b5d98ee6c397b}{QCPItemRect::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
12445 \textcolor{keyword}{}\{
12446   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
12447     \textcolor{keywordflow}{return} -1;
12448   
12449   QRectF rect = QRectF(\hyperlink{a00039_aa70feeef173489b03c3fbe906a5023c4}{topLeft}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}(), \hyperlink{a00039_a409f3bfe615a7e322bb3d4d193d85b26}{bottomRight}->
      \hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}()).normalized();
12450   \textcolor{keywordtype}{bool} filledRect = \hyperlink{a00039_a2d7f207fada27588b3a52b19234d3c2e}{mBrush}.style() != Qt::NoBrush && \hyperlink{a00039_a2d7f207fada27588b3a52b19234d3c2e}{mBrush}.color().alpha() != 0;
12451   \textcolor{keywordflow}{return} \hyperlink{a00022_a4c0e14c4e92df91174cb7183fb363069}{rectSelectTest}(rect, pos, filledRect);
12452 \}
12453 
12454 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12455}{}\hyperlink{a00039_a18cd583638b876cdd50f1a155ec182aa}{12455} \textcolor{keywordtype}{void} \hyperlink{a00039_a18cd583638b876cdd50f1a155ec182aa}{QCPItemRect::draw}(\hyperlink{a00047}{QCPPainter} *painter)
12456 \{
12457   QPointF p1 = \hyperlink{a00039_aa70feeef173489b03c3fbe906a5023c4}{topLeft}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}();
12458   QPointF p2 = \hyperlink{a00039_a409f3bfe615a7e322bb3d4d193d85b26}{bottomRight}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}();
12459   \textcolor{keywordflow}{if} (p1.toPoint() == p2.toPoint())
12460     \textcolor{keywordflow}{return};
12461   QRectF rect = QRectF(p1, p2).normalized();
12462   \textcolor{keywordtype}{double} clipPad = \hyperlink{a00039_afa0fb7c6328a1e197ecd537de36daf8f}{mainPen}().widthF();
12463   QRectF boundingRect = rect.adjusted(-clipPad, -clipPad, clipPad, clipPad);
12464   \textcolor{keywordflow}{if} (boundingRect.intersects(\hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}())) \textcolor{comment}{// only draw if bounding rect of rect item is visible in
       cliprect}
12465   \{
12466     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00039_afa0fb7c6328a1e197ecd537de36daf8f}{mainPen}());
12467     painter->setBrush(\hyperlink{a00039_ab0bd8e272e822ec851ba5b0c20e9200e}{mainBrush}());
12468     painter->drawRect(rect);
12469   \}
12470 \}
12471 
12472 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12473}{}\hyperlink{a00039_ae0973f8281fb52361b0c99ee899be07e}{12473} QPointF \hyperlink{a00039_ae0973f8281fb52361b0c99ee899be07e}{QCPItemRect::anchorPixelPoint}(\textcolor{keywordtype}{int} anchorId)\textcolor{keyword}{ const}
12474 \textcolor{keyword}{}\{
12475   QRectF rect = QRectF(\hyperlink{a00039_aa70feeef173489b03c3fbe906a5023c4}{topLeft}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}(), \hyperlink{a00039_a409f3bfe615a7e322bb3d4d193d85b26}{bottomRight}->
      \hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
12476   \textcolor{keywordflow}{switch} (anchorId)
12477   \{
12478     \textcolor{keywordflow}{case} \hyperlink{a00039_af0ebba58e6bca4851c4db726691ec0d3acaef33243034885d551dc9b8318ad326}{aiTop}:         \textcolor{keywordflow}{return} (rect.topLeft()+rect.topRight())*0.5;
12479     \textcolor{keywordflow}{case} \hyperlink{a00039_af0ebba58e6bca4851c4db726691ec0d3aa94843ce5935b36994005c1e1859ef60}{aiTopRight}:    \textcolor{keywordflow}{return} rect.topRight();
12480     \textcolor{keywordflow}{case} \hyperlink{a00039_af0ebba58e6bca4851c4db726691ec0d3a69fa21fde2f44036381296a6f78b4eb4}{aiRight}:       \textcolor{keywordflow}{return} (rect.topRight()+rect.bottomRight())*0.5;
12481     \textcolor{keywordflow}{case} \hyperlink{a00039_af0ebba58e6bca4851c4db726691ec0d3a2d294551e07179c4ac0c4e37364a1468}{aiBottom}:      \textcolor{keywordflow}{return} (rect.bottomLeft()+rect.bottomRight())*0.5;
12482     \textcolor{keywordflow}{case} \hyperlink{a00039_af0ebba58e6bca4851c4db726691ec0d3ab3c42dbb1709a04ba9b03dcbf5a2537a}{aiBottomLeft}:  \textcolor{keywordflow}{return} rect.bottomLeft();
12483     \textcolor{keywordflow}{case} \hyperlink{a00039_af0ebba58e6bca4851c4db726691ec0d3a8a095c6d6b2e7665a15d9f40c94b47dc}{aiLeft}:        \textcolor{keywordflow}{return} (rect.topLeft()+rect.bottomLeft())*0.5;;
12484   \}
12485   
12486   qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"invalid anchorId"} << anchorId;
12487   \textcolor{keywordflow}{return} QPointF();
12488 \}
12489 
\hypertarget{a00115_source_l12495}{}\hyperlink{a00039_afa0fb7c6328a1e197ecd537de36daf8f}{12495} QPen \hyperlink{a00039_afa0fb7c6328a1e197ecd537de36daf8f}{QCPItemRect::mainPen}()\textcolor{keyword}{ const}
12496 \textcolor{keyword}{}\{
12497   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00039_a73cc0bee61de3c67221ec8c7a76a29ed}{mSelectedPen} : \hyperlink{a00039_aa0d49323628d6752026056bfb52afd86}{mPen};
12498 \}
12499 
\hypertarget{a00115_source_l12505}{}\hyperlink{a00039_ab0bd8e272e822ec851ba5b0c20e9200e}{12505} QBrush \hyperlink{a00039_ab0bd8e272e822ec851ba5b0c20e9200e}{QCPItemRect::mainBrush}()\textcolor{keyword}{ const}
12506 \textcolor{keyword}{}\{
12507   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00039_a21b70eee59b6e19ae0bbdf037b13508f}{mSelectedBrush} : \hyperlink{a00039_a2d7f207fada27588b3a52b19234d3c2e}{mBrush};
12508 \}
12509 
12510 
12511 \textcolor{comment}{// ================================================================================}
12512 \textcolor{comment}{// =================== QCPItemPixmap}
12513 \textcolor{comment}{// ================================================================================}
12514 
\hypertarget{a00115_source_l12534}{}\hyperlink{a00037_aa6de42a37261b21a5480e7da122345c3}{12534} \hyperlink{a00037_aa6de42a37261b21a5480e7da122345c3}{QCPItemPixmap::QCPItemPixmap}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
12535   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
12536   topLeft(createPosition(\textcolor{stringliteral}{"topLeft"})),
12537   bottomRight(createPosition(\textcolor{stringliteral}{"bottomRight"})),
12538   top(createAnchor(\textcolor{stringliteral}{"top"}, aiTop)),
12539   topRight(createAnchor(\textcolor{stringliteral}{"topRight"}, aiTopRight)),
12540   right(createAnchor(\textcolor{stringliteral}{"right"}, aiRight)),
12541   bottom(createAnchor(\textcolor{stringliteral}{"bottom"}, aiBottom)),
12542   bottomLeft(createAnchor(\textcolor{stringliteral}{"bottomLeft"}, aiBottomLeft)),
12543   left(createAnchor(\textcolor{stringliteral}{"left"}, aiLeft))
12544 \{
12545   \hyperlink{a00037_a43c281ef6ad46f3cf04f365289abe51a}{topLeft}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 1);
12546   \hyperlink{a00037_abcc38063f9502b876bf6615c45cc0994}{bottomRight}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(1, 0);
12547   
12548   \hyperlink{a00037_acdade1305edb4b5cae14f97fd132065f}{setPen}(Qt::NoPen);
12549   \hyperlink{a00037_afc5e479e88e53740176ce77cb70dd67a}{setSelectedPen}(QPen(Qt::blue));
12550   \hyperlink{a00037_aea813ff1b12163ae5d3ac182593b1d6f}{setScaled}(\textcolor{keyword}{false}, Qt::KeepAspectRatio);
12551 \}
12552 
\hypertarget{a00115_source_l12553}{}\hyperlink{a00037_a810cac6a409d963cda6ea2d3152f1fd0}{12553} \hyperlink{a00037_a810cac6a409d963cda6ea2d3152f1fd0}{QCPItemPixmap::~QCPItemPixmap}()
12554 \{
12555 \}
12556 
\hypertarget{a00115_source_l12560}{}\hyperlink{a00037_a726b69ea4025edf48f9b29b6450548a7}{12560} \textcolor{keywordtype}{void} \hyperlink{a00037_a726b69ea4025edf48f9b29b6450548a7}{QCPItemPixmap::setPixmap}(\textcolor{keyword}{const} QPixmap &pixmap)
12561 \{
12562   \hyperlink{a00037_a1396cce7f26c7b8e9512906284380c4d}{mPixmap} = \hyperlink{a00037_a73dea89e0eb45127a2705e2c7991b8d8}{pixmap};
12563 \}
12564 
\hypertarget{a00115_source_l12569}{}\hyperlink{a00037_aea813ff1b12163ae5d3ac182593b1d6f}{12569} \textcolor{keywordtype}{void} \hyperlink{a00037_aea813ff1b12163ae5d3ac182593b1d6f}{QCPItemPixmap::setScaled}(\textcolor{keywordtype}{bool} scaled, Qt::AspectRatioMode aspectRatioMode)
12570 \{
12571   \hyperlink{a00037_a8fe670a529cd46a9b8afd9fc1203bc3f}{mScaled} = \hyperlink{a00037_a54026b89dff3c60376c2360f01b6fb83}{scaled};
12572   \hyperlink{a00037_a8dc6b6c1e106ac523efae22d5fe55bab}{mAspectRatioMode} = \hyperlink{a00037_ac5b95c097169e107a61eebbb7c77523c}{aspectRatioMode};
12573   \hyperlink{a00037_a8bced3027b326b290726cd1979c7cfc6}{updateScaledPixmap}();
12574 \}
12575 
\hypertarget{a00115_source_l12581}{}\hyperlink{a00037_acdade1305edb4b5cae14f97fd132065f}{12581} \textcolor{keywordtype}{void} \hyperlink{a00037_acdade1305edb4b5cae14f97fd132065f}{QCPItemPixmap::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12582 \{
12583   \hyperlink{a00037_acfee1124eb51a1887aaf8de10777c7a1}{mPen} = \hyperlink{a00037_ab2b821c80cfade589472e933b9c4361f}{pen};
12584 \}
12585 
\hypertarget{a00115_source_l12591}{}\hyperlink{a00037_afc5e479e88e53740176ce77cb70dd67a}{12591} \textcolor{keywordtype}{void} \hyperlink{a00037_afc5e479e88e53740176ce77cb70dd67a}{QCPItemPixmap::setSelectedPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12592 \{
12593   \hyperlink{a00037_a0949e5bb6a261fc4e9668e28e2effcfa}{mSelectedPen} = \hyperlink{a00037_ab2b821c80cfade589472e933b9c4361f}{pen};
12594 \}
12595 
12596 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12597}{}\hyperlink{a00037_ab725f1025891e9284f75bbe1cb4cabfa}{12597} \textcolor{keywordtype}{double} \hyperlink{a00037_ab725f1025891e9284f75bbe1cb4cabfa}{QCPItemPixmap::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
12598 \textcolor{keyword}{}\{
12599   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
12600     \textcolor{keywordflow}{return} -1;
12601   
12602   \textcolor{keywordflow}{return} \hyperlink{a00022_a4c0e14c4e92df91174cb7183fb363069}{rectSelectTest}(\hyperlink{a00037_a245ef0c626cab7096a810442f2f6a2d9}{getFinalRect}(), pos, \textcolor{keyword}{true});
12603 \}
12604 
12605 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12606}{}\hyperlink{a00037_a879e8076c2db01a38b34cfa73ec95d2f}{12606} \textcolor{keywordtype}{void} \hyperlink{a00037_a879e8076c2db01a38b34cfa73ec95d2f}{QCPItemPixmap::draw}(\hyperlink{a00047}{QCPPainter} *painter)
12607 \{
12608   \textcolor{keywordtype}{bool} flipHorz = \textcolor{keyword}{false};
12609   \textcolor{keywordtype}{bool} flipVert = \textcolor{keyword}{false};
12610   QRect rect = \hyperlink{a00037_a245ef0c626cab7096a810442f2f6a2d9}{getFinalRect}(&flipHorz, &flipVert);
12611   \textcolor{keywordtype}{double} clipPad = \hyperlink{a00037_af21085516585c475dc9d839e7f377233}{mainPen}().style() == Qt::NoPen ? 0 : \hyperlink{a00037_af21085516585c475dc9d839e7f377233}{mainPen}().widthF();
12612   QRect boundingRect = rect.adjusted(-clipPad, -clipPad, clipPad, clipPad);
12613   \textcolor{keywordflow}{if} (boundingRect.intersects(\hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}()))
12614   \{
12615     \hyperlink{a00037_a8bced3027b326b290726cd1979c7cfc6}{updateScaledPixmap}(rect, flipHorz, flipVert);
12616     painter->drawPixmap(rect.topLeft(), \hyperlink{a00037_a8fe670a529cd46a9b8afd9fc1203bc3f}{mScaled} ? \hyperlink{a00037_a2ebc66e15b9f1264563d58f29ba1bc00}{mScaledPixmap} : 
      \hyperlink{a00037_a1396cce7f26c7b8e9512906284380c4d}{mPixmap});
12617     QPen \hyperlink{a00037_ab2b821c80cfade589472e933b9c4361f}{pen} = \hyperlink{a00037_af21085516585c475dc9d839e7f377233}{mainPen}();
12618     \textcolor{keywordflow}{if} (pen.style() != Qt::NoPen)
12619     \{
12620       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(pen);
12621       painter->setBrush(Qt::NoBrush);
12622       painter->drawRect(rect);
12623     \}
12624   \}
12625 \}
12626 
12627 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12628}{}\hyperlink{a00037_a88abce3c1027f371cddcf6dad35ffbb1}{12628} QPointF \hyperlink{a00037_a88abce3c1027f371cddcf6dad35ffbb1}{QCPItemPixmap::anchorPixelPoint}(\textcolor{keywordtype}{int} anchorId)\textcolor{keyword}{ const}
12629 \textcolor{keyword}{}\{
12630   \textcolor{keywordtype}{bool} flipHorz;
12631   \textcolor{keywordtype}{bool} flipVert;
12632   QRect rect = \hyperlink{a00037_a245ef0c626cab7096a810442f2f6a2d9}{getFinalRect}(&flipHorz, &flipVert);
12633   \textcolor{comment}{// we actually want denormal rects (negative width/height) here, so restore}
12634   \textcolor{comment}{// the flipped state:}
12635   \textcolor{keywordflow}{if} (flipHorz)
12636     rect.adjust(rect.width(), 0, -rect.width(), 0);
12637   \textcolor{keywordflow}{if} (flipVert)
12638     rect.adjust(0, rect.height(), 0, -rect.height());
12639   
12640   \textcolor{keywordflow}{switch} (anchorId)
12641   \{
12642     \textcolor{keywordflow}{case} \hyperlink{a00037_a0ea7f65edb7395e02de521915f221174a90e523ebaed7921ca90cf1b08944ece5}{aiTop}:         \textcolor{keywordflow}{return} (rect.topLeft()+rect.topRight())*0.5;
12643     \textcolor{keywordflow}{case} \hyperlink{a00037_a0ea7f65edb7395e02de521915f221174a33c256cdec46fa1587534fcd6e776799}{aiTopRight}:    \textcolor{keywordflow}{return} rect.topRight();
12644     \textcolor{keywordflow}{case} \hyperlink{a00037_a0ea7f65edb7395e02de521915f221174ab22d91dae59c0d4a65416a0d677b2d05}{aiRight}:       \textcolor{keywordflow}{return} (rect.topRight()+rect.bottomRight())*0.5;
12645     \textcolor{keywordflow}{case} \hyperlink{a00037_a0ea7f65edb7395e02de521915f221174a04b5e041b4dd0def2b60c5cfea2bc1a4}{aiBottom}:      \textcolor{keywordflow}{return} (rect.bottomLeft()+rect.bottomRight())*0.5;
12646     \textcolor{keywordflow}{case} \hyperlink{a00037_a0ea7f65edb7395e02de521915f221174ae14886b381136898e37e89af5046a1cc}{aiBottomLeft}:  \textcolor{keywordflow}{return} rect.bottomLeft();
12647     \textcolor{keywordflow}{case} \hyperlink{a00037_a0ea7f65edb7395e02de521915f221174a9efe71239b9409ebe1c2813a37807f2a}{aiLeft}:        \textcolor{keywordflow}{return} (rect.topLeft()+rect.bottomLeft())*0.5;;
12648   \}
12649   
12650   qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"invalid anchorId"} << anchorId;
12651   \textcolor{keywordflow}{return} QPointF();
12652 \}
12653 
\hypertarget{a00115_source_l12667}{}\hyperlink{a00037_a8bced3027b326b290726cd1979c7cfc6}{12667} \textcolor{keywordtype}{void} \hyperlink{a00037_a8bced3027b326b290726cd1979c7cfc6}{QCPItemPixmap::updateScaledPixmap}(QRect finalRect, \textcolor{keywordtype}{bool} flipHorz, \textcolor{keywordtype}{
      bool} flipVert)
12668 \{
12669   \textcolor{keywordflow}{if} (\hyperlink{a00037_a8fe670a529cd46a9b8afd9fc1203bc3f}{mScaled})
12670   \{
12671     \textcolor{keywordflow}{if} (finalRect.isNull())
12672       finalRect = \hyperlink{a00037_a245ef0c626cab7096a810442f2f6a2d9}{getFinalRect}(&flipHorz, &flipVert);
12673     \textcolor{keywordflow}{if} (finalRect.size() != \hyperlink{a00037_a2ebc66e15b9f1264563d58f29ba1bc00}{mScaledPixmap}.size())
12674     \{
12675       \hyperlink{a00037_a2ebc66e15b9f1264563d58f29ba1bc00}{mScaledPixmap} = \hyperlink{a00037_a1396cce7f26c7b8e9512906284380c4d}{mPixmap}.scaled(finalRect.size(), 
      \hyperlink{a00037_a8dc6b6c1e106ac523efae22d5fe55bab}{mAspectRatioMode}, Qt::SmoothTransformation);
12676       \textcolor{keywordflow}{if} (flipHorz || flipVert)
12677         \hyperlink{a00037_a2ebc66e15b9f1264563d58f29ba1bc00}{mScaledPixmap} = QPixmap::fromImage(\hyperlink{a00037_a2ebc66e15b9f1264563d58f29ba1bc00}{mScaledPixmap}.toImage().mirrored(
      flipHorz, flipVert));
12678     \}
12679   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\hyperlink{a00037_a2ebc66e15b9f1264563d58f29ba1bc00}{mScaledPixmap}.isNull())
12680     \hyperlink{a00037_a2ebc66e15b9f1264563d58f29ba1bc00}{mScaledPixmap} = QPixmap();
12681 \}
12682 
\hypertarget{a00115_source_l12697}{}\hyperlink{a00037_a245ef0c626cab7096a810442f2f6a2d9}{12697} QRect \hyperlink{a00037_a245ef0c626cab7096a810442f2f6a2d9}{QCPItemPixmap::getFinalRect}(\textcolor{keywordtype}{bool} *flippedHorz, \textcolor{keywordtype}{bool} *flippedVert)\textcolor{keyword}{ const}
12698 \textcolor{keyword}{}\{
12699   QRect result;
12700   \textcolor{keywordtype}{bool} flipHorz = \textcolor{keyword}{false};
12701   \textcolor{keywordtype}{bool} flipVert = \textcolor{keyword}{false};
12702   QPoint p1 = \hyperlink{a00037_a43c281ef6ad46f3cf04f365289abe51a}{topLeft}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}().toPoint();
12703   QPoint p2 = \hyperlink{a00037_abcc38063f9502b876bf6615c45cc0994}{bottomRight}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}().toPoint();
12704   \textcolor{keywordflow}{if} (p1 == p2)
12705     \textcolor{keywordflow}{return} QRect(p1, QSize(0, 0));
12706   \textcolor{keywordflow}{if} (\hyperlink{a00037_a8fe670a529cd46a9b8afd9fc1203bc3f}{mScaled})
12707   \{
12708     QSize newSize = QSize(p2.x()-p1.x(), p2.y()-p1.y());
12709     QPoint \hyperlink{a00037_a43c281ef6ad46f3cf04f365289abe51a}{topLeft} = p1;
12710     \textcolor{keywordflow}{if} (newSize.width() < 0)
12711     \{
12712       flipHorz = \textcolor{keyword}{true};
12713       newSize.rwidth() *= -1;
12714       topLeft.setX(p2.x());
12715     \}
12716     \textcolor{keywordflow}{if} (newSize.height() < 0)
12717     \{
12718       flipVert = \textcolor{keyword}{true};
12719       newSize.rheight() *= -1;
12720       topLeft.setY(p2.y());
12721     \}
12722     QSize scaledSize = \hyperlink{a00037_a1396cce7f26c7b8e9512906284380c4d}{mPixmap}.size();
12723     scaledSize.scale(newSize, \hyperlink{a00037_a8dc6b6c1e106ac523efae22d5fe55bab}{mAspectRatioMode});
12724     result = QRect(topLeft, scaledSize);
12725   \} \textcolor{keywordflow}{else}
12726   \{
12727     result = QRect(p1, \hyperlink{a00037_a1396cce7f26c7b8e9512906284380c4d}{mPixmap}.size());
12728   \}
12729   \textcolor{keywordflow}{if} (flippedHorz)
12730     *flippedHorz = flipHorz;
12731   \textcolor{keywordflow}{if} (flippedVert)
12732     *flippedVert = flipVert;
12733   \textcolor{keywordflow}{return} result;
12734 \}
12735 
\hypertarget{a00115_source_l12741}{}\hyperlink{a00037_af21085516585c475dc9d839e7f377233}{12741} QPen \hyperlink{a00037_af21085516585c475dc9d839e7f377233}{QCPItemPixmap::mainPen}()\textcolor{keyword}{ const}
12742 \textcolor{keyword}{}\{
12743   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00037_a0949e5bb6a261fc4e9668e28e2effcfa}{mSelectedPen} : \hyperlink{a00037_acfee1124eb51a1887aaf8de10777c7a1}{mPen};
12744 \}
12745 
12746 
12747 \textcolor{comment}{// ================================================================================}
12748 \textcolor{comment}{// =================== QCPItemText}
12749 \textcolor{comment}{// ================================================================================}
12750 
\hypertarget{a00115_source_l12770}{}\hyperlink{a00041_a77ff96a2972a00872ff8f8c67143abbe}{12770} \hyperlink{a00041_a77ff96a2972a00872ff8f8c67143abbe}{QCPItemText::QCPItemText}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
12771   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
12772   position(createPosition(\textcolor{stringliteral}{"position"})),
12773   topLeft(createAnchor(\textcolor{stringliteral}{"topLeft"}, aiTopLeft)),
12774   top(createAnchor(\textcolor{stringliteral}{"top"}, aiTop)),
12775   topRight(createAnchor(\textcolor{stringliteral}{"topRight"}, aiTopRight)),
12776   right(createAnchor(\textcolor{stringliteral}{"right"}, aiRight)),
12777   bottomRight(createAnchor(\textcolor{stringliteral}{"bottomRight"}, aiBottomRight)),
12778   bottom(createAnchor(\textcolor{stringliteral}{"bottom"}, aiBottom)),
12779   bottomLeft(createAnchor(\textcolor{stringliteral}{"bottomLeft"}, aiBottomLeft)),
12780   left(createAnchor(\textcolor{stringliteral}{"left"}, aiLeft))
12781 \{
12782   \hyperlink{a00041_a0d228a00e819022b5690c65762721129}{position}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0);
12783   
12784   \hyperlink{a00041_a4bcc10cd97952c3f749d75824b5077f0}{setRotation}(0);
12785   \hyperlink{a00041_ab5bc0684c4d1bed81949a11b34dba478}{setTextAlignment}(Qt::AlignTop|Qt::AlignHCenter);
12786   \hyperlink{a00041_a781cdf8c640fc6a055dcff1e675c8c7a}{setPositionAlignment}(Qt::AlignCenter);
12787   \hyperlink{a00041_a3dacdda0ac88f99a05b333b977c48747}{setText}(\textcolor{stringliteral}{"text"});
12788   
12789   \hyperlink{a00041_a9b9ec6eea0eb0603977ff84d4c78d0a3}{setPen}(Qt::NoPen);
12790   \hyperlink{a00041_a291febe586f0da3f1c392e77bef4aa20}{setSelectedPen}(Qt::NoPen);
12791   \hyperlink{a00041_a1c7e131516df2ed8d941ef31240ded8e}{setBrush}(Qt::NoBrush);
12792   \hyperlink{a00041_a6b8377eeb2af75eb9528422671ac16cb}{setSelectedBrush}(Qt::NoBrush);
12793   \hyperlink{a00041_aa51efc0841fe52da9eaf8aff6fc8a8b2}{setColor}(Qt::black);
12794   \hyperlink{a00041_ae7ba0bdb75c897b028388e45bfd435fa}{setSelectedColor}(Qt::blue);
12795 \}
12796 
\hypertarget{a00115_source_l12797}{}\hyperlink{a00041_a1efd41ca53d49042d4f4b63cf9615cb6}{12797} \hyperlink{a00041_a1efd41ca53d49042d4f4b63cf9615cb6}{QCPItemText::~QCPItemText}()
12798 \{
12799 \}
12800 
\hypertarget{a00115_source_l12804}{}\hyperlink{a00041_aa51efc0841fe52da9eaf8aff6fc8a8b2}{12804} \textcolor{keywordtype}{void} \hyperlink{a00041_aa51efc0841fe52da9eaf8aff6fc8a8b2}{QCPItemText::setColor}(\textcolor{keyword}{const} QColor &\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
12805 \{
12806   \hyperlink{a00041_a8407f284ad867f627878cc26ef433d08}{mColor} = \hyperlink{a00041_ac9cb0a8a27f64d1b40855910ea9ebd03}{color};
12807 \}
12808 
\hypertarget{a00115_source_l12812}{}\hyperlink{a00041_ae7ba0bdb75c897b028388e45bfd435fa}{12812} \textcolor{keywordtype}{void} \hyperlink{a00041_ae7ba0bdb75c897b028388e45bfd435fa}{QCPItemText::setSelectedColor}(\textcolor{keyword}{const} QColor &
      \hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
12813 \{
12814   \hyperlink{a00041_a7eb64e42f5f7998a97d8907ad25933c1}{mSelectedColor} = \hyperlink{a00041_ac9cb0a8a27f64d1b40855910ea9ebd03}{color};
12815 \}
12816 
\hypertarget{a00115_source_l12823}{}\hyperlink{a00041_a9b9ec6eea0eb0603977ff84d4c78d0a3}{12823} \textcolor{keywordtype}{void} \hyperlink{a00041_a9b9ec6eea0eb0603977ff84d4c78d0a3}{QCPItemText::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12824 \{
12825   \hyperlink{a00041_aa02388705dbbff1bf7b8aa872b5f579c}{mPen} = \hyperlink{a00041_a552bd02f46dbcb4b4812559036893352}{pen};
12826 \}
12827 
\hypertarget{a00115_source_l12834}{}\hyperlink{a00041_a291febe586f0da3f1c392e77bef4aa20}{12834} \textcolor{keywordtype}{void} \hyperlink{a00041_a291febe586f0da3f1c392e77bef4aa20}{QCPItemText::setSelectedPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
12835 \{
12836   \hyperlink{a00041_a8eaec649606d6ead2d8d4dcb5691777c}{mSelectedPen} = \hyperlink{a00041_a552bd02f46dbcb4b4812559036893352}{pen};
12837 \}
12838 
\hypertarget{a00115_source_l12845}{}\hyperlink{a00041_a1c7e131516df2ed8d941ef31240ded8e}{12845} \textcolor{keywordtype}{void} \hyperlink{a00041_a1c7e131516df2ed8d941ef31240ded8e}{QCPItemText::setBrush}(\textcolor{keyword}{const} QBrush &brush)
12846 \{
12847   \hyperlink{a00041_a2535911875faa459b8337f2efccb5cb8}{mBrush} = \hyperlink{a00041_a38b981dfacb703efa8e27346eebcb5a2}{brush};
12848 \}
12849 
\hypertarget{a00115_source_l12856}{}\hyperlink{a00041_a6b8377eeb2af75eb9528422671ac16cb}{12856} \textcolor{keywordtype}{void} \hyperlink{a00041_a6b8377eeb2af75eb9528422671ac16cb}{QCPItemText::setSelectedBrush}(\textcolor{keyword}{const} QBrush &brush)
12857 \{
12858   \hyperlink{a00041_a28ccd097b42a216d81db9c6869f54a59}{mSelectedBrush} = \hyperlink{a00041_a38b981dfacb703efa8e27346eebcb5a2}{brush};
12859 \}
12860 
\hypertarget{a00115_source_l12866}{}\hyperlink{a00041_a94ad60ebe04f5c07c35e7c2029e96b1f}{12866} \textcolor{keywordtype}{void} \hyperlink{a00041_a94ad60ebe04f5c07c35e7c2029e96b1f}{QCPItemText::setFont}(\textcolor{keyword}{const} QFont &font)
12867 \{
12868   \hyperlink{a00041_a1dc87fe2a824820d549ffd7e644eef8d}{mFont} = \hyperlink{a00041_ad34943fd68a9b1451d3e3234d072e418}{font};
12869 \}
12870 
\hypertarget{a00115_source_l12876}{}\hyperlink{a00041_a0be2841772f83663c4db307928b82816}{12876} \textcolor{keywordtype}{void} \hyperlink{a00041_a0be2841772f83663c4db307928b82816}{QCPItemText::setSelectedFont}(\textcolor{keyword}{const} QFont &font)
12877 \{
12878   \hyperlink{a00041_a6702f141fae590b2f4f1ec02fe9f8bd5}{mSelectedFont} = \hyperlink{a00041_ad34943fd68a9b1451d3e3234d072e418}{font};
12879 \}
12880 
\hypertarget{a00115_source_l12887}{}\hyperlink{a00041_a3dacdda0ac88f99a05b333b977c48747}{12887} \textcolor{keywordtype}{void} \hyperlink{a00041_a3dacdda0ac88f99a05b333b977c48747}{QCPItemText::setText}(\textcolor{keyword}{const} QString &text)
12888 \{
12889   \hyperlink{a00041_a2dec3e08c11f51639629374ecec3bd62}{mText} = \hyperlink{a00041_a9547f7832010486abed0837e75db5330}{text};
12890 \}
12891 
\hypertarget{a00115_source_l12904}{}\hyperlink{a00041_a781cdf8c640fc6a055dcff1e675c8c7a}{12904} \textcolor{keywordtype}{void} \hyperlink{a00041_a781cdf8c640fc6a055dcff1e675c8c7a}{QCPItemText::setPositionAlignment}(Qt::Alignment alignment)
12905 \{
12906   \hyperlink{a00041_a6c27f7dc1a962a04b32430cf99f04654}{mPositionAlignment} = alignment;
12907 \}
12908 
\hypertarget{a00115_source_l12912}{}\hyperlink{a00041_ab5bc0684c4d1bed81949a11b34dba478}{12912} \textcolor{keywordtype}{void} \hyperlink{a00041_ab5bc0684c4d1bed81949a11b34dba478}{QCPItemText::setTextAlignment}(Qt::Alignment alignment)
12913 \{
12914   \hyperlink{a00041_acdb2e50c38e83da00f083771efbd213f}{mTextAlignment} = alignment;
12915 \}
12916 
\hypertarget{a00115_source_l12921}{}\hyperlink{a00041_a4bcc10cd97952c3f749d75824b5077f0}{12921} \textcolor{keywordtype}{void} \hyperlink{a00041_a4bcc10cd97952c3f749d75824b5077f0}{QCPItemText::setRotation}(\textcolor{keywordtype}{double} degrees)
12922 \{
12923   \hyperlink{a00041_ac37df0061552225d2277e1ee3b48f2cb}{mRotation} = degrees;
12924 \}
12925 
\hypertarget{a00115_source_l12930}{}\hyperlink{a00041_aeea8a3e01f135f9dd0bb08f51db66310}{12930} \textcolor{keywordtype}{void} \hyperlink{a00041_aeea8a3e01f135f9dd0bb08f51db66310}{QCPItemText::setPadding}(\textcolor{keyword}{const} QMargins &padding)
12931 \{
12932   \hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding} = \hyperlink{a00041_a00e0fa03822ff384bf4921c1c90322ff}{padding};
12933 \}
12934 
12935 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12936}{}\hyperlink{a00041_a01daa9ff25ec84a738ae05f59af99f4a}{12936} \textcolor{keywordtype}{double} \hyperlink{a00041_a01daa9ff25ec84a738ae05f59af99f4a}{QCPItemText::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
12937 \textcolor{keyword}{}\{
12938   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
12939     \textcolor{keywordflow}{return} -1;
12940   
12941   \textcolor{comment}{// The rect may be rotated, so we transform the actual clicked pos to the rotated}
12942   \textcolor{comment}{// coordinate system, wo we can use the normal rectSelectTest function for non-rotated rects:}
12943   QPointF positionPixels(\hyperlink{a00041_a0d228a00e819022b5690c65762721129}{position}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
12944   QTransform inputTransform;
12945   inputTransform.translate(positionPixels.x(), positionPixels.y());
12946   inputTransform.rotate(-\hyperlink{a00041_ac37df0061552225d2277e1ee3b48f2cb}{mRotation});
12947   inputTransform.translate(-positionPixels.x(), -positionPixels.y());
12948   QPointF rotatedPos = inputTransform.map(pos);
12949   QFontMetrics fontMetrics(\hyperlink{a00041_a1dc87fe2a824820d549ffd7e644eef8d}{mFont});
12950   QRect textRect = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip|
      \hyperlink{a00041_acdb2e50c38e83da00f083771efbd213f}{mTextAlignment}, \hyperlink{a00041_a2dec3e08c11f51639629374ecec3bd62}{mText});
12951   QRect textBoxRect = textRect.adjusted(-\hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.left(), -\hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.top(), 
      \hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.right(), \hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.bottom());
12952   QPointF textPos = \hyperlink{a00041_aa6e478b1ce198eace89157c4cacc3ddc}{getTextDrawPoint}(positionPixels, textBoxRect, 
      \hyperlink{a00041_a6c27f7dc1a962a04b32430cf99f04654}{mPositionAlignment});
12953   textBoxRect.moveTopLeft(textPos.toPoint());
12954 
12955   \textcolor{keywordflow}{return} \hyperlink{a00022_a4c0e14c4e92df91174cb7183fb363069}{rectSelectTest}(textBoxRect, rotatedPos, \textcolor{keyword}{true});
12956 \}
12957 
12958 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12959}{}\hyperlink{a00041_a8793adb271ab79b4cf391dc55e9987f1}{12959} \textcolor{keywordtype}{void} \hyperlink{a00041_a8793adb271ab79b4cf391dc55e9987f1}{QCPItemText::draw}(\hyperlink{a00047}{QCPPainter} *painter)
12960 \{
12961   QPointF pos(\hyperlink{a00041_a0d228a00e819022b5690c65762721129}{position}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
12962   QTransform transform;
12963   transform.translate(pos.x(), pos.y());
12964   \textcolor{keywordflow}{if} (!qFuzzyIsNull(\hyperlink{a00041_ac37df0061552225d2277e1ee3b48f2cb}{mRotation}))
12965     transform.rotate(\hyperlink{a00041_ac37df0061552225d2277e1ee3b48f2cb}{mRotation});
12966   painter->setFont(\hyperlink{a00041_a23d391bd6471c45e73f45add67ede902}{mainFont}());
12967   QRect textRect = painter->fontMetrics().boundingRect(0, 0, 0, 0, Qt::TextDontClip|
      \hyperlink{a00041_acdb2e50c38e83da00f083771efbd213f}{mTextAlignment}, \hyperlink{a00041_a2dec3e08c11f51639629374ecec3bd62}{mText});
12968   QRect textBoxRect = textRect.adjusted(-\hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.left(), -\hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.top(), 
      \hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.right(), \hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.bottom());
12969   QPointF textPos = \hyperlink{a00041_aa6e478b1ce198eace89157c4cacc3ddc}{getTextDrawPoint}(QPointF(0, 0), textBoxRect, 
      \hyperlink{a00041_a6c27f7dc1a962a04b32430cf99f04654}{mPositionAlignment}); \textcolor{comment}{// 0, 0 because the transform does the translation}
12970   textRect.moveTopLeft(textPos.toPoint()+QPoint(\hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.left(), 
      \hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.top()));
12971   textBoxRect.moveTopLeft(textPos.toPoint());
12972   \textcolor{keywordtype}{double} clipPad = \hyperlink{a00041_a9ade32d362b22853659201c738269e2a}{mainPen}().widthF();
12973   QRect boundingRect = textBoxRect.adjusted(-clipPad, -clipPad, clipPad, clipPad);
12974   \textcolor{keywordflow}{if} (transform.mapRect(boundingRect).intersects(\hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}()))
12975   \{
12976     painter->setTransform(transform);
12977     \textcolor{keywordflow}{if} ((\hyperlink{a00041_a10d6585a030633aa79d5ebc5a437f183}{mainBrush}().style() != Qt::NoBrush && \hyperlink{a00041_a10d6585a030633aa79d5ebc5a437f183}{mainBrush}().
      \hyperlink{a00041_ac9cb0a8a27f64d1b40855910ea9ebd03}{color}().alpha() != 0) ||
12978         (\hyperlink{a00041_a9ade32d362b22853659201c738269e2a}{mainPen}().style() != Qt::NoPen && \hyperlink{a00041_a9ade32d362b22853659201c738269e2a}{mainPen}().\hyperlink{a00041_ac9cb0a8a27f64d1b40855910ea9ebd03}{color}().alpha() != 0))
12979     \{
12980       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00041_a9ade32d362b22853659201c738269e2a}{mainPen}());
12981       painter->setBrush(\hyperlink{a00041_a10d6585a030633aa79d5ebc5a437f183}{mainBrush}());
12982       painter->drawRect(textBoxRect);
12983     \}
12984     painter->setBrush(Qt::NoBrush);
12985     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(QPen(\hyperlink{a00041_ad7bf17e4945cc86bbf9a36331da059a0}{mainColor}()));
12986     painter->drawText(textRect, Qt::TextDontClip|\hyperlink{a00041_acdb2e50c38e83da00f083771efbd213f}{mTextAlignment}, 
      \hyperlink{a00041_a2dec3e08c11f51639629374ecec3bd62}{mText});
12987   \}
12988 \}
12989 
12990 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l12991}{}\hyperlink{a00041_ad248f988534a9d07bc7c220a2457142a}{12991} QPointF \hyperlink{a00041_ad248f988534a9d07bc7c220a2457142a}{QCPItemText::anchorPixelPoint}(\textcolor{keywordtype}{int} anchorId)\textcolor{keyword}{ const}
12992 \textcolor{keyword}{}\{
12993   \textcolor{comment}{// get actual rect points (pretty much copied from draw function):}
12994   QPointF pos(\hyperlink{a00041_a0d228a00e819022b5690c65762721129}{position}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
12995   QTransform transform;
12996   transform.translate(pos.x(), pos.y());
12997   \textcolor{keywordflow}{if} (!qFuzzyIsNull(\hyperlink{a00041_ac37df0061552225d2277e1ee3b48f2cb}{mRotation}))
12998     transform.rotate(\hyperlink{a00041_ac37df0061552225d2277e1ee3b48f2cb}{mRotation});
12999   QFontMetrics fontMetrics(\hyperlink{a00041_a23d391bd6471c45e73f45add67ede902}{mainFont}());
13000   QRect textRect = fontMetrics.boundingRect(0, 0, 0, 0, Qt::TextDontClip|
      \hyperlink{a00041_acdb2e50c38e83da00f083771efbd213f}{mTextAlignment}, \hyperlink{a00041_a2dec3e08c11f51639629374ecec3bd62}{mText});
13001   QRectF textBoxRect = textRect.adjusted(-\hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.left(), -\hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.top(), 
      \hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.right(), \hyperlink{a00041_ae7b3ef0ce6046efd4b346d28f2e1fb67}{mPadding}.bottom());
13002   QPointF textPos = \hyperlink{a00041_aa6e478b1ce198eace89157c4cacc3ddc}{getTextDrawPoint}(QPointF(0, 0), textBoxRect, 
      \hyperlink{a00041_a6c27f7dc1a962a04b32430cf99f04654}{mPositionAlignment}); \textcolor{comment}{// 0, 0 because the transform does the translation}
13003   textBoxRect.moveTopLeft(textPos.toPoint());
13004   QPolygonF rectPoly = transform.map(QPolygonF(textBoxRect));
13005   
13006   \textcolor{keywordflow}{switch} (anchorId)
13007   \{
13008     \textcolor{keywordflow}{case} \hyperlink{a00041_a14a84e58f72519c8ae1d7a4a1dd23f21a30342ee15065715f045cb52eb77b904c}{aiTopLeft}:     \textcolor{keywordflow}{return} rectPoly.at(0);
13009     \textcolor{keywordflow}{case} \hyperlink{a00041_a14a84e58f72519c8ae1d7a4a1dd23f21a55ce9699c71db6d264eb669bb0eb9aff}{aiTop}:         \textcolor{keywordflow}{return} (rectPoly.at(0)+rectPoly.at(1))*0.5;
13010     \textcolor{keywordflow}{case} \hyperlink{a00041_a14a84e58f72519c8ae1d7a4a1dd23f21a7b6ff56fcad4c78db0b793a96fce9580}{aiTopRight}:    \textcolor{keywordflow}{return} rectPoly.at(1);
13011     \textcolor{keywordflow}{case} \hyperlink{a00041_a14a84e58f72519c8ae1d7a4a1dd23f21ad4faa7def46db6df2fedd1926237b48f}{aiRight}:       \textcolor{keywordflow}{return} (rectPoly.at(1)+rectPoly.at(2))*0.5;
13012     \textcolor{keywordflow}{case} \hyperlink{a00041_a14a84e58f72519c8ae1d7a4a1dd23f21af2072f259730ef47aa7ad7519f3a0255}{aiBottomRight}: \textcolor{keywordflow}{return} rectPoly.at(2);
13013     \textcolor{keywordflow}{case} \hyperlink{a00041_a14a84e58f72519c8ae1d7a4a1dd23f21a5773ad69b7f4cd2724ba46d8f31b0688}{aiBottom}:      \textcolor{keywordflow}{return} (rectPoly.at(2)+rectPoly.at(3))*0.5;
13014     \textcolor{keywordflow}{case} \hyperlink{a00041_a14a84e58f72519c8ae1d7a4a1dd23f21a489ec73da5a18c15e98a4f9b17ed301f}{aiBottomLeft}:  \textcolor{keywordflow}{return} rectPoly.at(3);
13015     \textcolor{keywordflow}{case} \hyperlink{a00041_a14a84e58f72519c8ae1d7a4a1dd23f21a7f1c1b8c574c753e300a4759915a9170}{aiLeft}:        \textcolor{keywordflow}{return} (rectPoly.at(3)+rectPoly.at(0))*0.5;
13016   \}
13017   
13018   qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"invalid anchorId"} << anchorId;
13019   \textcolor{keywordflow}{return} QPointF();
13020 \}
13021 
\hypertarget{a00115_source_l13032}{}\hyperlink{a00041_aa6e478b1ce198eace89157c4cacc3ddc}{13032} QPointF \hyperlink{a00041_aa6e478b1ce198eace89157c4cacc3ddc}{QCPItemText::getTextDrawPoint}(\textcolor{keyword}{const} QPointF &pos, \textcolor{keyword}{const} QRectF &rect, 
      Qt::Alignment positionAlignment)\textcolor{keyword}{ const}
13033 \textcolor{keyword}{}\{
13034   \textcolor{keywordflow}{if} (positionAlignment == 0 || positionAlignment == (Qt::AlignLeft|Qt::AlignTop))
13035     \textcolor{keywordflow}{return} pos;
13036   
13037   QPointF result = pos; \textcolor{comment}{// start at top left}
13038   \textcolor{keywordflow}{if} (positionAlignment.testFlag(Qt::AlignHCenter))
13039     result.rx() -= rect.width()/2.0;
13040   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (positionAlignment.testFlag(Qt::AlignRight))
13041     result.rx() -= rect.width();
13042   \textcolor{keywordflow}{if} (positionAlignment.testFlag(Qt::AlignVCenter))
13043     result.ry() -= rect.height()/2.0;
13044   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (positionAlignment.testFlag(Qt::AlignBottom))
13045     result.ry() -= rect.height();
13046   \textcolor{keywordflow}{return} result;
13047 \}
13048 
\hypertarget{a00115_source_l13054}{}\hyperlink{a00041_a23d391bd6471c45e73f45add67ede902}{13054} QFont \hyperlink{a00041_a23d391bd6471c45e73f45add67ede902}{QCPItemText::mainFont}()\textcolor{keyword}{ const}
13055 \textcolor{keyword}{}\{
13056   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00041_a6702f141fae590b2f4f1ec02fe9f8bd5}{mSelectedFont} : \hyperlink{a00041_a1dc87fe2a824820d549ffd7e644eef8d}{mFont};
13057 \}
13058 
\hypertarget{a00115_source_l13064}{}\hyperlink{a00041_ad7bf17e4945cc86bbf9a36331da059a0}{13064} QColor \hyperlink{a00041_ad7bf17e4945cc86bbf9a36331da059a0}{QCPItemText::mainColor}()\textcolor{keyword}{ const}
13065 \textcolor{keyword}{}\{
13066   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00041_a7eb64e42f5f7998a97d8907ad25933c1}{mSelectedColor} : \hyperlink{a00041_a8407f284ad867f627878cc26ef433d08}{mColor};
13067 \}
13068 
\hypertarget{a00115_source_l13074}{}\hyperlink{a00041_a9ade32d362b22853659201c738269e2a}{13074} QPen \hyperlink{a00041_a9ade32d362b22853659201c738269e2a}{QCPItemText::mainPen}()\textcolor{keyword}{ const}
13075 \textcolor{keyword}{}\{
13076   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00041_a8eaec649606d6ead2d8d4dcb5691777c}{mSelectedPen} : \hyperlink{a00041_aa02388705dbbff1bf7b8aa872b5f579c}{mPen};
13077 \}
13078 
\hypertarget{a00115_source_l13084}{}\hyperlink{a00041_a10d6585a030633aa79d5ebc5a437f183}{13084} QBrush \hyperlink{a00041_a10d6585a030633aa79d5ebc5a437f183}{QCPItemText::mainBrush}()\textcolor{keyword}{ const}
13085 \textcolor{keyword}{}\{
13086   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00041_a28ccd097b42a216d81db9c6869f54a59}{mSelectedBrush} : \hyperlink{a00041_a2535911875faa459b8337f2efccb5cb8}{mBrush};
13087 \}
13088 
13089 
13090 \textcolor{comment}{// ================================================================================}
13091 \textcolor{comment}{// =================== QCPPainter}
13092 \textcolor{comment}{// ================================================================================}
13093 
\hypertarget{a00115_source_l13110}{}\hyperlink{a00047_a3c52cb0f43f34573d29bea487da28fe8}{13110} \hyperlink{a00047_a3c52cb0f43f34573d29bea487da28fe8}{QCPPainter::QCPPainter}() :
13111   \hyperlink{a00060}{QPainter}(),
13112   mScaledExportMode(false),
13113   mPdfExportMode(false),
13114   mIsAntialiasing(false)
13115 \{
13116 \}
13117 
\hypertarget{a00115_source_l13122}{}\hyperlink{a00047_ae58dbb1795ddc4351ab324dc9898aa22}{13122} \hyperlink{a00047_a3c52cb0f43f34573d29bea487da28fe8}{QCPPainter::QCPPainter}(QPaintDevice *device) :
13123   \hyperlink{a00060}{QPainter}(device),
13124   mScaledExportMode(false),
13125   mPdfExportMode(false),
13126   mIsAntialiasing(false)
13127 \{
13128 \}
13129 
\hypertarget{a00115_source_l13130}{}\hyperlink{a00047_aa8491da26c0bf7704a93e2dcbb0c5ba1}{13130} \hyperlink{a00047_aa8491da26c0bf7704a93e2dcbb0c5ba1}{QCPPainter::~QCPPainter}()
13131 \{
13132 \}
13133 
\hypertarget{a00115_source_l13138}{}\hyperlink{a00047_a0f636de68b40d2e169ab15a8ca067107}{13138} \textcolor{keywordtype}{void} \hyperlink{a00047_a0f636de68b40d2e169ab15a8ca067107}{QCPPainter::setScatterPixmap}(\textcolor{keyword}{const} QPixmap pm)
13139 \{
13140   \hyperlink{a00047_a20d67229e0977ad7ce3a3c7349cbd59c}{mScatterPixmap} = pm;
13141 \}
13142 
\hypertarget{a00115_source_l13149}{}\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{13149} \textcolor{keywordtype}{void} \hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{QCPPainter::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
13150 \{
13151   \hyperlink{a00116_a499165f4744b6d22da7b24295910fb2c}{QPainter::setPen}(pen);
13152   \textcolor{keywordflow}{if} (\hyperlink{a00047_a967991f4d003d1fca9f67d9152ef651e}{mScaledExportMode})
13153     \hyperlink{a00047_a27af07a62c335faf79191b797306b218}{fixScaledPen}();
13154 \}
13155 
\hypertarget{a00115_source_l13163}{}\hyperlink{a00047_a5c4d88f21564e156e88ef807f7cf0003}{13163} \textcolor{keywordtype}{void} \hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{QCPPainter::setPen}(\textcolor{keyword}{const} QColor &\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color})
13164 \{
13165   \hyperlink{a00116_a499165f4744b6d22da7b24295910fb2c}{QPainter::setPen}(color);
13166   \textcolor{keywordflow}{if} (\hyperlink{a00047_a967991f4d003d1fca9f67d9152ef651e}{mScaledExportMode})
13167     \hyperlink{a00047_a27af07a62c335faf79191b797306b218}{fixScaledPen}();
13168 \}
13169 
\hypertarget{a00115_source_l13177}{}\hyperlink{a00047_a25e76095aae41da0d08035060e5f81ca}{13177} \textcolor{keywordtype}{void} \hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{QCPPainter::setPen}(Qt::PenStyle penStyle)
13178 \{
13179   \hyperlink{a00116_a499165f4744b6d22da7b24295910fb2c}{QPainter::setPen}(penStyle);
13180   \textcolor{keywordflow}{if} (\hyperlink{a00047_a967991f4d003d1fca9f67d9152ef651e}{mScaledExportMode})
13181     \hyperlink{a00047_a27af07a62c335faf79191b797306b218}{fixScaledPen}();
13182 \}
13183 
\hypertarget{a00115_source_l13191}{}\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{13191} \textcolor{keywordtype}{void} \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{QCPPainter::drawLine}(\textcolor{keyword}{const} QLineF &line)
13192 \{
13193   \textcolor{keywordflow}{if} (\hyperlink{a00047_a7055085da176aee0f6b23298f1003d08}{mIsAntialiasing})
13194     QPainter::drawLine(line);
13195   \textcolor{keywordflow}{else}
13196     QPainter::drawLine(line.toLine());
13197 \}
13198 
\hypertarget{a00115_source_l13205}{}\hyperlink{a00047_aaba1deb9188244d9ea65b035112b4d05}{13205} \textcolor{keywordtype}{void} \hyperlink{a00047_aaba1deb9188244d9ea65b035112b4d05}{QCPPainter::setAntialiasing}(\textcolor{keywordtype}{bool} enabled)
13206 \{
13207   \textcolor{keywordflow}{if} (\hyperlink{a00047_ab73675954590388f0e170e6bc70efe2a}{mPdfExportMode})
13208     \textcolor{keywordflow}{return};
13209   
13210   setRenderHint(QPainter::Antialiasing, enabled);
13211   \textcolor{keywordflow}{if} (\hyperlink{a00047_a7055085da176aee0f6b23298f1003d08}{mIsAntialiasing} != enabled)
13212   \{
13213     \textcolor{keywordflow}{if} (\hyperlink{a00047_a7055085da176aee0f6b23298f1003d08}{mIsAntialiasing})
13214       translate(-0.5, -0.5);
13215     \textcolor{keywordflow}{else}
13216       translate(0.5, 0.5);
13217     \hyperlink{a00047_a7055085da176aee0f6b23298f1003d08}{mIsAntialiasing} = enabled;
13218   \}
13219 \}
13220 
\hypertarget{a00115_source_l13229}{}\hyperlink{a00047_a8fd6821ee6fecbfa04444c9062912abd}{13229} \textcolor{keywordtype}{void} \hyperlink{a00047_a8fd6821ee6fecbfa04444c9062912abd}{QCPPainter::save}()
13230 \{
13231   \hyperlink{a00047_a0189e641bbf7dc31ac15aef7b36501fa}{mAntialiasingStack}.push(\hyperlink{a00047_a7055085da176aee0f6b23298f1003d08}{mIsAntialiasing});
13232   QPainter::save();
13233 \}
13234 
\hypertarget{a00115_source_l13243}{}\hyperlink{a00047_a64908e6298d5bbd83457dc987cc3a022}{13243} \textcolor{keywordtype}{void} \hyperlink{a00047_a64908e6298d5bbd83457dc987cc3a022}{QCPPainter::restore}()
13244 \{
13245   \textcolor{keywordflow}{if} (!\hyperlink{a00047_a0189e641bbf7dc31ac15aef7b36501fa}{mAntialiasingStack}.isEmpty())
13246     \hyperlink{a00047_a7055085da176aee0f6b23298f1003d08}{mIsAntialiasing} = \hyperlink{a00047_a0189e641bbf7dc31ac15aef7b36501fa}{mAntialiasingStack}.pop();
13247   \textcolor{keywordflow}{else}
13248     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"Unbalanced save/restore"};
13249   QPainter::restore();
13250 \}
13251 
\hypertarget{a00115_source_l13259}{}\hyperlink{a00047_ae0931c24883ce8ea53103d3b80e0de56}{13259} \textcolor{keywordtype}{void} \hyperlink{a00047_ae0931c24883ce8ea53103d3b80e0de56}{QCPPainter::setPdfExportMode}(\textcolor{keywordtype}{bool} enabled)
13260 \{
13261   \hyperlink{a00047_ab73675954590388f0e170e6bc70efe2a}{mPdfExportMode} = enabled;
13262 \}
13263 
\hypertarget{a00115_source_l13271}{}\hyperlink{a00047_a256e886e856ae696503aeacae91535cd}{13271} \textcolor{keywordtype}{void} \hyperlink{a00047_a256e886e856ae696503aeacae91535cd}{QCPPainter::setScaledExportMode}(\textcolor{keywordtype}{bool} enabled)
13272 \{
13273   \hyperlink{a00047_a967991f4d003d1fca9f67d9152ef651e}{mScaledExportMode} = enabled;
13274 \}
13275 
\hypertarget{a00115_source_l13284}{}\hyperlink{a00047_a27af07a62c335faf79191b797306b218}{13284} \textcolor{keywordtype}{void} \hyperlink{a00047_a27af07a62c335faf79191b797306b218}{QCPPainter::fixScaledPen}()
13285 \{
13286   \textcolor{keywordflow}{if} (\hyperlink{a00047_a967991f4d003d1fca9f67d9152ef651e}{mScaledExportMode} && \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen}().isCosmetic() && qFuzzyIsNull(
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen}().widthF()))
13287   \{
13288     QPen p = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen}();
13289     p.setWidth(1);
13290     \hyperlink{a00116_a499165f4744b6d22da7b24295910fb2c}{QPainter::setPen}(p);
13291   \}
13292 \}
13293 
\hypertarget{a00115_source_l13300}{}\hyperlink{a00047_a3aa145eb9865752d583c40ef995c5049}{13300} \textcolor{keywordtype}{void} \hyperlink{a00047_a3aa145eb9865752d583c40ef995c5049}{QCPPainter::drawScatter}(\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y, \textcolor{keywordtype}{double} size, 
      \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26f}{QCP::ScatterStyle} style)
13301 \{
13302   \textcolor{keywordtype}{double} w = size/2.0;
13303   \textcolor{keywordflow}{switch} (style)
13304   \{
13305     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3ee9f603bc4623e9b98011e8829aad1d}{QCP::ssNone}: \textcolor{keywordflow}{break};
13306     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa56816c1386f1356417bcc013adf0367c}{QCP::ssDot}:
13307     \{
13308       drawPoint(QPointF(x, y));
13309       \textcolor{keywordflow}{break};
13310     \}
13311     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fab1d52c10ee4b09fe17854be238055f30}{QCP::ssCross}:
13312     \{
13313       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y-w, x+w, y+w));
13314       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y+w, x+w, y-w));
13315       \textcolor{keywordflow}{break};
13316     \}
13317     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa82b8526e3bfa7d0cccc1fd5eb16505ac}{QCP::ssPlus}:
13318     \{
13319       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y, x+w, y));
13320       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y+w, x, y-w));
13321       \textcolor{keywordflow}{break};
13322     \}
13323     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa13ed43d724ecefa84baae4179de3bd8d}{QCP::ssCircle}:
13324     \{
13325       setBrush(Qt::NoBrush);
13326       drawEllipse(QPointF(x,y), w, w);
13327       \textcolor{keywordflow}{break};
13328     \}
13329     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa6d1fd37ccd5f6fdea72992feb522a342}{QCP::ssDisc}:
13330     \{
13331       setBrush(QBrush(\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen}().\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color}()));
13332       drawEllipse(QPointF(x,y), w, w);
13333       \textcolor{keywordflow}{break};
13334     \}
13335     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fae613e80d80910579c17a5ed90e9137b0}{QCP::ssSquare}:
13336     \{
13337       setBrush(Qt::NoBrush);
13338       drawRect(QRectF(x-w, y-w, size, size));
13339       \textcolor{keywordflow}{break};
13340     \}
13341     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa6daa1761cab7e529768b84460f2b5141}{QCP::ssDiamond}:
13342     \{
13343       setBrush(Qt::NoBrush);
13344       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y, x, y-w));
13345       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y-w, x+w, y));
13346       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x+w, y, x, y+w));
13347       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y+w, x-w, y));
13348       \textcolor{keywordflow}{break};
13349     \}
13350     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa8d380c3956b53e1d12d8248de77e4f3c}{QCP::ssStar}:
13351     \{
13352       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y, x+w, y));
13353       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y+w, x, y-w));
13354       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w*0.707, y-w*0.707, x+w*0.707, y+w*0.707));
13355       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w*0.707, y+w*0.707, x+w*0.707, y-w*0.707));
13356       \textcolor{keywordflow}{break};
13357     \}
13358     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa71324858fe181ad5d5ff36b6eca4f448}{QCP::ssTriangle}:
13359     \{
13360       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y+0.755*w, x+w, y+0.755*w));
13361       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x+w, y+0.755*w, x, y-0.977*w));
13362       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y-0.977*w, x-w, y+0.755*w));
13363       \textcolor{keywordflow}{break};
13364     \}
13365     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa17fd9aa8f51529e09ecacdacbe920271}{QCP::ssTriangleInverted}:
13366     \{
13367       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y-0.755*w, x+w, y-0.755*w));
13368       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x+w, y-0.755*w, x, y+0.977*w));
13369       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y+0.977*w, x-w, y-0.755*w));
13370       \textcolor{keywordflow}{break};
13371     \}
13372     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26faa830c1cd1028a60eece7b84768face5e}{QCP::ssCrossSquare}:
13373     \{
13374       setBrush(Qt::NoBrush);
13375       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y-w, x+w*0.95, y+w*0.95));
13376       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y+w*0.95, x+w*0.95, y-w));
13377       drawRect(QRectF(x-w,y-w,size,size));
13378       \textcolor{keywordflow}{break};
13379     \}
13380     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa2322889660847e07337730222ee373c1}{QCP::ssPlusSquare}:
13381     \{
13382       setBrush(Qt::NoBrush);
13383       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y, x+w*0.95, y));
13384       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y+w, x, y-w));
13385       drawRect(QRectF(x-w, y-w, size, size));
13386       \textcolor{keywordflow}{break};
13387     \}
13388     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa32c6bc5b7596ba0cca2342ef6e846fbe}{QCP::ssCrossCircle}:
13389     \{
13390       setBrush(Qt::NoBrush);
13391       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w*0.707, y-w*0.707, x+w*0.67, y+w*0.67));
13392       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w*0.707, y+w*0.67, x+w*0.67, y-w*0.707));
13393       drawEllipse(QPointF(x,y), w, w);
13394       \textcolor{keywordflow}{break};
13395     \}
13396     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa78f2658826f26f4d266962845a1bb827}{QCP::ssPlusCircle}:
13397     \{
13398       setBrush(Qt::NoBrush);
13399       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x-w, y, x+w, y));
13400       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y+w, x, y-w));
13401       drawEllipse(QPointF(x,y), w, w);
13402       \textcolor{keywordflow}{break};
13403     \}
13404     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fae2ed4e86e8d0676b7c1476a1e8692070}{QCP::ssPeace}:
13405     \{
13406       setBrush(Qt::NoBrush);
13407       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y-w, x, y+w));
13408       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y, x-w*0.707, y+w*0.707));
13409       \hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(x, y, x+w*0.707, y+w*0.707));
13410       drawEllipse(QPointF(x,y), w, w);
13411       \textcolor{keywordflow}{break};
13412     \}
13413     \textcolor{keywordflow}{case} \hyperlink{a00143_af66d0711d42fe78d96c28abadc67f26fa3046d385199d0903dd492322ba133e75}{QCP::ssPixmap}:
13414     \{
13415       drawPixmap(x-\hyperlink{a00047_a20d67229e0977ad7ce3a3c7349cbd59c}{mScatterPixmap}.width()*0.5, y-\hyperlink{a00047_a20d67229e0977ad7ce3a3c7349cbd59c}{mScatterPixmap}.height()*0.5, 
      \hyperlink{a00047_a20d67229e0977ad7ce3a3c7349cbd59c}{mScatterPixmap});
13416       \textcolor{comment}{// if something in here is changed, adapt QCP::ssPixmap special case in drawLegendIcon(), too}
13417       \textcolor{keywordflow}{break};
13418     \}
13419   \}
13420 \}
13421 
13422 
13423 \textcolor{comment}{// ================================================================================}
13424 \textcolor{comment}{// =================== QCPLineEnding}
13425 \textcolor{comment}{// ================================================================================}
13426 
\hypertarget{a00115_source_l13450}{}\hyperlink{a00046_af2eaf8123b000d97fbd11929c669f61b}{13450} \hyperlink{a00046_af2eaf8123b000d97fbd11929c669f61b}{QCPLineEnding::QCPLineEnding}() :
13451   mStyle(esNone),
13452   mWidth(8),
13453   mLength(10),
13454   mInverted(false)
13455 \{
13456 \}
13457 
\hypertarget{a00115_source_l13461}{}\hyperlink{a00046_abb2abc7542f0c7a3c081d878248896a4}{13461} \hyperlink{a00046_af2eaf8123b000d97fbd11929c669f61b}{QCPLineEnding::QCPLineEnding}(
      \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5}{QCPLineEnding::EndingStyle} style, \textcolor{keywordtype}{double} width, \textcolor{keywordtype}{double} length, \textcolor{keywordtype}{bool} inverted) :
13462   mStyle(style),
13463   mWidth(width),
13464   mLength(length),
13465   mInverted(inverted)
13466 \{
13467 \}
13468 
\hypertarget{a00115_source_l13472}{}\hyperlink{a00046_a56953b9cb8ed1bed0f025c3935f16910}{13472} \textcolor{keywordtype}{void} \hyperlink{a00046_a56953b9cb8ed1bed0f025c3935f16910}{QCPLineEnding::setStyle}(\hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5}{QCPLineEnding::EndingStyle} 
      style)
13473 \{
13474   \hyperlink{a00046_a4696fc9117b60f1ca7690fcd2ba56611}{mStyle} = \hyperlink{a00046_aea324dbfddbca9895ca8a3a968671299}{style};
13475 \}
13476 
\hypertarget{a00115_source_l13483}{}\hyperlink{a00046_a26dc020ea985a72cc25881ce2115e34e}{13483} \textcolor{keywordtype}{void} \hyperlink{a00046_a26dc020ea985a72cc25881ce2115e34e}{QCPLineEnding::setWidth}(\textcolor{keywordtype}{double} width)
13484 \{
13485   \hyperlink{a00046_aca89d21341133c20dc6825c33a5eac48}{mWidth} = \hyperlink{a00046_a028328ee3fb139a40acaf65fb56edf67}{width};
13486 \}
13487 
\hypertarget{a00115_source_l13494}{}\hyperlink{a00046_ae36fa01763751cd64b7f56c3507e935a}{13494} \textcolor{keywordtype}{void} \hyperlink{a00046_ae36fa01763751cd64b7f56c3507e935a}{QCPLineEnding::setLength}(\textcolor{keywordtype}{double} length)
13495 \{
13496   \hyperlink{a00046_ae8e1e2566b96c05736cd92662dba8af8}{mLength} = \hyperlink{a00046_a1744315d7b73f6e7ead3621e2cb18c28}{length};
13497 \}
13498 
\hypertarget{a00115_source_l13504}{}\hyperlink{a00046_a580e4e2360b35ebb8d68f3494aa2335d}{13504} \textcolor{keywordtype}{void} \hyperlink{a00046_a580e4e2360b35ebb8d68f3494aa2335d}{QCPLineEnding::setInverted}(\textcolor{keywordtype}{bool} inverted)
13505 \{
13506   \hyperlink{a00046_a91306fe771d54c955e0af21af14349d5}{mInverted} = \hyperlink{a00046_aa4ffbb182cbc89fc3d92eb348630502c}{inverted};
13507 \}
13508 
\hypertarget{a00115_source_l13518}{}\hyperlink{a00046_a586b45cf738881a70119e353dc1ed59c}{13518} \textcolor{keywordtype}{double} \hyperlink{a00046_a586b45cf738881a70119e353dc1ed59c}{QCPLineEnding::boundingDistance}()\textcolor{keyword}{ const}
13519 \textcolor{keyword}{}\{
13520   \textcolor{keywordflow}{switch} (\hyperlink{a00046_a4696fc9117b60f1ca7690fcd2ba56611}{mStyle})
13521   \{
13522     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03}{esNone}:
13523       \textcolor{keywordflow}{return} 0;
13524       
13525     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5a3d7dcea2f100671727c3417142154f8f}{esFlatArrow}:
13526     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5ab9964d0d03f812d1e79de15edbeb2cbf}{esSpikeArrow}:
13527     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5a61f78ee8f375fb21cb9d250687bbcbd2}{esLineArrow}:
13528       \textcolor{keywordflow}{return} qSqrt(\hyperlink{a00046_aca89d21341133c20dc6825c33a5eac48}{mWidth}*\hyperlink{a00046_aca89d21341133c20dc6825c33a5eac48}{mWidth}+\hyperlink{a00046_ae8e1e2566b96c05736cd92662dba8af8}{mLength}*\hyperlink{a00046_ae8e1e2566b96c05736cd92662dba8af8}{mLength}); \textcolor{comment}{// items that have width and
       length}
13529       
13530     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5ae5a3414916817258bcc6dddd605e8f5c}{esDisc}:
13531     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5ae1836502fa43d8990bb62b2d493a140a}{esSquare}:
13532     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5a378fe5a8b768411b0bc1765210fe7200}{esDiamond}:
13533     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5a2cf543bbca332df26d89bf779f50469f}{esBar}:
13534       \textcolor{keywordflow}{return} \hyperlink{a00046_aca89d21341133c20dc6825c33a5eac48}{mWidth}*1.42; \textcolor{comment}{// items that only have a width -> with*sqrt(2)}
13535   \}
13536   \textcolor{keywordflow}{return} 0;
13537 \}
13538 
\hypertarget{a00115_source_l13544}{}\hyperlink{a00046_ac4b2fa94bd27b2f008b5fc090fcd7c0b}{13544} \textcolor{keywordtype}{void} \hyperlink{a00046_ac4b2fa94bd27b2f008b5fc090fcd7c0b}{QCPLineEnding::draw}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keyword}{const} QVector2D &pos, \textcolor{keyword}{const} 
      QVector2D &dir)\textcolor{keyword}{ const}
13545 \textcolor{keyword}{}\{
13546   \textcolor{keywordflow}{if} (\hyperlink{a00046_a4696fc9117b60f1ca7690fcd2ba56611}{mStyle} == \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03}{esNone})
13547     \textcolor{keywordflow}{return};
13548   
13549   QVector2D lengthVec(dir.normalized()*(\hyperlink{a00046_a91306fe771d54c955e0af21af14349d5}{mInverted} ? -1 : 1));
13550   \textcolor{keywordflow}{if} (lengthVec.isNull())
13551     lengthVec = QVector2D(1, 0);
13552   QVector2D widthVec(-lengthVec.y(), lengthVec.x());
13553   lengthVec *= \hyperlink{a00046_ae8e1e2566b96c05736cd92662dba8af8}{mLength};
13554   widthVec *= \hyperlink{a00046_aca89d21341133c20dc6825c33a5eac48}{mWidth}*0.5;
13555   
13556   QPen penBackup = painter->pen();
13557   QPen miterPen = penBackup;
13558   miterPen.setJoinStyle(Qt::MiterJoin);
13559   \textcolor{keywordflow}{switch} (\hyperlink{a00046_a4696fc9117b60f1ca7690fcd2ba56611}{mStyle})
13560   \{
13561     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03}{esNone}: \textcolor{keywordflow}{break};
13562     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5a3d7dcea2f100671727c3417142154f8f}{esFlatArrow}:
13563     \{
13564       QPointF points[3] = \{pos.toPointF(),
13565                            (pos-lengthVec+widthVec).toPointF(),
13566                            (pos-lengthVec-widthVec).toPointF()
13567                           \};
13568       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(miterPen);
13569       painter->drawConvexPolygon(points, 3);
13570       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(penBackup);
13571       \textcolor{keywordflow}{break};
13572     \}
13573     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5ab9964d0d03f812d1e79de15edbeb2cbf}{esSpikeArrow}:
13574     \{
13575       QPointF points[4] = \{pos.toPointF(),
13576                            (pos-lengthVec+widthVec).toPointF(),
13577                            (pos-lengthVec*0.8).toPointF(),
13578                            (pos-lengthVec-widthVec).toPointF()
13579                           \};
13580       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(miterPen);
13581       painter->drawConvexPolygon(points, 4);
13582       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(penBackup);
13583       \textcolor{keywordflow}{break};
13584     \}
13585     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5a61f78ee8f375fb21cb9d250687bbcbd2}{esLineArrow}:
13586     \{
13587       QPointF points[3] = \{(pos-lengthVec+widthVec).toPointF(),
13588                            pos.toPointF(),
13589                            (pos-lengthVec-widthVec).toPointF()
13590                           \};
13591       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(miterPen);
13592       painter->drawPolyline(points, 3);
13593       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(penBackup);
13594       \textcolor{keywordflow}{break};
13595     \}
13596     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5ae5a3414916817258bcc6dddd605e8f5c}{esDisc}:
13597     \{
13598       painter->drawEllipse(pos.toPointF(),  \hyperlink{a00046_aca89d21341133c20dc6825c33a5eac48}{mWidth}*0.5, \hyperlink{a00046_aca89d21341133c20dc6825c33a5eac48}{mWidth}*0.5);
13599       \textcolor{keywordflow}{break};
13600     \}
13601     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5ae1836502fa43d8990bb62b2d493a140a}{esSquare}:
13602     \{
13603       QVector2D widthVecPerp(-widthVec.y(), widthVec.x());
13604       QPointF points[4] = \{(pos-widthVecPerp+widthVec).toPointF(),
13605                            (pos-widthVecPerp-widthVec).toPointF(),
13606                            (pos+widthVecPerp-widthVec).toPointF(),
13607                            (pos+widthVecPerp+widthVec).toPointF()
13608                           \};
13609       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(miterPen);
13610       painter->drawConvexPolygon(points, 4);
13611       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(penBackup);
13612       \textcolor{keywordflow}{break};
13613     \}
13614     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5a378fe5a8b768411b0bc1765210fe7200}{esDiamond}:
13615     \{
13616       QVector2D widthVecPerp(-widthVec.y(), widthVec.x());
13617       QPointF points[4] = \{(pos-widthVecPerp).toPointF(),
13618                            (pos-widthVec).toPointF(),
13619                            (pos+widthVecPerp).toPointF(),
13620                            (pos+widthVec).toPointF()
13621                           \};
13622       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(miterPen);
13623       painter->drawConvexPolygon(points, 4);
13624       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(penBackup);
13625       \textcolor{keywordflow}{break};
13626     \}
13627     \textcolor{keywordflow}{case} \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5a2cf543bbca332df26d89bf779f50469f}{esBar}:
13628     \{
13629       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}((pos+widthVec).toPointF(), (pos-widthVec).toPointF());
13630       \textcolor{keywordflow}{break};
13631     \}
13632   \}
13633 \}
13634 
\hypertarget{a00115_source_l13640}{}\hyperlink{a00046_a05c143b1f66cb68d746c309523c45e3e}{13640} \textcolor{keywordtype}{void} \hyperlink{a00046_ac4b2fa94bd27b2f008b5fc090fcd7c0b}{QCPLineEnding::draw}(\hyperlink{a00047}{QCPPainter} *painter, \textcolor{keyword}{const} QVector2D &pos, \textcolor{keywordtype}{double} 
      angle)\textcolor{keyword}{ const}
13641 \textcolor{keyword}{}\{
13642   \hyperlink{a00046_ac4b2fa94bd27b2f008b5fc090fcd7c0b}{draw}(painter, pos, QVector2D(qCos(angle), qSin(angle)));
13643 \}
13644 
13645 
13646 \textcolor{comment}{// ================================================================================}
13647 \textcolor{comment}{// =================== QCPItemCurve}
13648 \textcolor{comment}{// ================================================================================}
13649 
\hypertarget{a00115_source_l13672}{}\hyperlink{a00034_ac9b7508bb5c8827e1a7a6199f8c82bec}{13672} \hyperlink{a00034_ac9b7508bb5c8827e1a7a6199f8c82bec}{QCPItemCurve::QCPItemCurve}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
13673   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
13674   start(createPosition(\textcolor{stringliteral}{"start"})),
13675   startDir(createPosition(\textcolor{stringliteral}{"startDir"})),
13676   endDir(createPosition(\textcolor{stringliteral}{"endDir"})),
13677   end(createPosition(\textcolor{stringliteral}{"end"}))
13678 \{
13679   \hyperlink{a00034_a20c3b5ea31c33764f4f30c2ec7ae518b}{start}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0);
13680   \hyperlink{a00034_aa124bf66c09cc51c627fb49db8bf8a7b}{startDir}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0.5, 0);
13681   \hyperlink{a00034_a28181a9dee9cc3c3da83a883221bd2d0}{endDir}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0.5);
13682   \hyperlink{a00034_a24ecbb195b32a08b42b61c2cf08a1b4d}{end}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(1, 1);
13683   
13684   \hyperlink{a00034_a034be908440aec785c34b92843461221}{setPen}(QPen(Qt::black));
13685   \hyperlink{a00034_a375b917669f868c5a106bf2f1ab7c26d}{setSelectedPen}(QPen(Qt::blue,2));
13686 \}
13687 
\hypertarget{a00115_source_l13688}{}\hyperlink{a00034_ae36f20fd5deff2f1443a7c53eaa95c81}{13688} \hyperlink{a00034_ae36f20fd5deff2f1443a7c53eaa95c81}{QCPItemCurve::~QCPItemCurve}()
13689 \{
13690 \}
13691 
\hypertarget{a00115_source_l13697}{}\hyperlink{a00034_a034be908440aec785c34b92843461221}{13697} \textcolor{keywordtype}{void} \hyperlink{a00034_a034be908440aec785c34b92843461221}{QCPItemCurve::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
13698 \{
13699   \hyperlink{a00034_a7ef92988d1db2e4d0311e34c0a57fe42}{mPen} = \hyperlink{a00034_abc6321e55a9ba1a0c7df407843dfa252}{pen};
13700 \}
13701 
\hypertarget{a00115_source_l13707}{}\hyperlink{a00034_a375b917669f868c5a106bf2f1ab7c26d}{13707} \textcolor{keywordtype}{void} \hyperlink{a00034_a375b917669f868c5a106bf2f1ab7c26d}{QCPItemCurve::setSelectedPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
13708 \{
13709   \hyperlink{a00034_ab22cbab261b20be5aa8e4ca252149246}{mSelectedPen} = \hyperlink{a00034_abc6321e55a9ba1a0c7df407843dfa252}{pen};
13710 \}
13711 
\hypertarget{a00115_source_l13720}{}\hyperlink{a00034_a08a30d9cdd63995deea3d9e20430676f}{13720} \textcolor{keywordtype}{void} \hyperlink{a00034_a08a30d9cdd63995deea3d9e20430676f}{QCPItemCurve::setHead}(\textcolor{keyword}{const} \hyperlink{a00046}{QCPLineEnding} &head)
13721 \{
13722   \hyperlink{a00034_af2cc26ff199570940dc96f5ec19a13f8}{mHead} = \hyperlink{a00034_afc067f0d1e60cd04812f2c2c7fdf36c3}{head};
13723 \}
13724 
\hypertarget{a00115_source_l13733}{}\hyperlink{a00034_ac3488d8b1a6489c845dc5bff3ef71124}{13733} \textcolor{keywordtype}{void} \hyperlink{a00034_ac3488d8b1a6489c845dc5bff3ef71124}{QCPItemCurve::setTail}(\textcolor{keyword}{const} \hyperlink{a00046}{QCPLineEnding} &tail)
13734 \{
13735   \hyperlink{a00034_af1dca285b97e3f5b892dab827a79f327}{mTail} = \hyperlink{a00034_a9adddfcc5275be0cf27e3c0c31c37c1a}{tail};
13736 \}
13737 
13738 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l13739}{}\hyperlink{a00034_ae54055ee1070735155166ecb887a9316}{13739} \textcolor{keywordtype}{double} \hyperlink{a00034_ae54055ee1070735155166ecb887a9316}{QCPItemCurve::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
13740 \textcolor{keyword}{}\{
13741   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
13742     \textcolor{keywordflow}{return} -1;
13743   
13744   QPointF startVec(\hyperlink{a00034_a20c3b5ea31c33764f4f30c2ec7ae518b}{start}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
13745   QPointF startDirVec(\hyperlink{a00034_aa124bf66c09cc51c627fb49db8bf8a7b}{startDir}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
13746   QPointF endDirVec(\hyperlink{a00034_a28181a9dee9cc3c3da83a883221bd2d0}{endDir}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
13747   QPointF endVec(\hyperlink{a00034_a24ecbb195b32a08b42b61c2cf08a1b4d}{end}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
13748 
13749   QPainterPath cubicPath(startVec);
13750   cubicPath.cubicTo(startDirVec, endDirVec, endVec);
13751   
13752   QPolygonF polygon = cubicPath.toSubpathPolygons().first();
13753   \textcolor{keywordtype}{double} minDistSqr = std::numeric\_limits<double>::max();
13754   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1; i<polygon.size(); ++i)
13755   \{
13756     \textcolor{keywordtype}{double} distSqr = \hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{distSqrToLine}(polygon.at(i-1), polygon.at(i), pos);
13757     \textcolor{keywordflow}{if} (distSqr < minDistSqr)
13758       minDistSqr = distSqr;
13759   \}
13760   \textcolor{keywordflow}{return} qSqrt(minDistSqr);
13761 \}
13762 
13763 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l13764}{}\hyperlink{a00034_a56cb5b72cd02db2eda598274a39839a9}{13764} \textcolor{keywordtype}{void} \hyperlink{a00034_a56cb5b72cd02db2eda598274a39839a9}{QCPItemCurve::draw}(\hyperlink{a00047}{QCPPainter} *painter)
13765 \{
13766   QPointF startVec(\hyperlink{a00034_a20c3b5ea31c33764f4f30c2ec7ae518b}{start}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
13767   QPointF startDirVec(\hyperlink{a00034_aa124bf66c09cc51c627fb49db8bf8a7b}{startDir}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
13768   QPointF endDirVec(\hyperlink{a00034_a28181a9dee9cc3c3da83a883221bd2d0}{endDir}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
13769   QPointF endVec(\hyperlink{a00034_a24ecbb195b32a08b42b61c2cf08a1b4d}{end}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
13770   \textcolor{keywordflow}{if} (QVector2D(endVec-startVec).length() > 1e10) \textcolor{comment}{// too large curves cause crash}
13771     \textcolor{keywordflow}{return};
13772 
13773   QPainterPath cubicPath(startVec);
13774   cubicPath.cubicTo(startDirVec, endDirVec, endVec);
13775 
13776   \textcolor{comment}{// paint visible segment, if existent:}
13777   QRect clip = \hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}().adjusted(-\hyperlink{a00034_a8089126f5645b6edfbaddea49d1e8390}{mainPen}().widthF(), -\hyperlink{a00034_a8089126f5645b6edfbaddea49d1e8390}{mainPen}().widthF(), 
      \hyperlink{a00034_a8089126f5645b6edfbaddea49d1e8390}{mainPen}().widthF(), \hyperlink{a00034_a8089126f5645b6edfbaddea49d1e8390}{mainPen}().widthF());
13778   QRect cubicRect = cubicPath.controlPointRect().toRect();
13779   \textcolor{keywordflow}{if} (cubicRect.isEmpty()) \textcolor{comment}{// may happen when start and end exactly on same x or y position}
13780     cubicRect.adjust(0, 0, 1, 1);
13781   \textcolor{keywordflow}{if} (clip.intersects(cubicRect))
13782   \{
13783     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00034_a8089126f5645b6edfbaddea49d1e8390}{mainPen}());
13784     painter->drawPath(cubicPath);
13785     painter->setBrush(Qt::SolidPattern);
13786     \textcolor{keywordflow}{if} (\hyperlink{a00034_af1dca285b97e3f5b892dab827a79f327}{mTail}.\hyperlink{a00046_aea324dbfddbca9895ca8a3a968671299}{style}() != \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03}{QCPLineEnding::esNone})
13787       \hyperlink{a00034_af1dca285b97e3f5b892dab827a79f327}{mTail}.\hyperlink{a00046_ac4b2fa94bd27b2f008b5fc090fcd7c0b}{draw}(painter, QVector2D(startVec), M\_PI-cubicPath.angleAtPercent(0)/180.0*M\_PI);
13788     \textcolor{keywordflow}{if} (\hyperlink{a00034_af2cc26ff199570940dc96f5ec19a13f8}{mHead}.\hyperlink{a00046_aea324dbfddbca9895ca8a3a968671299}{style}() != \hyperlink{a00046_a5ef16e6876b4b74959c7261d8d4c2cd5aca12d500f50cd6871766801bac30fb03}{QCPLineEnding::esNone})
13789       \hyperlink{a00034_af2cc26ff199570940dc96f5ec19a13f8}{mHead}.\hyperlink{a00046_ac4b2fa94bd27b2f008b5fc090fcd7c0b}{draw}(painter, QVector2D(endVec), -cubicPath.angleAtPercent(1)/180.0*M\_PI);
13790   \}
13791 \}
13792 
\hypertarget{a00115_source_l13798}{}\hyperlink{a00034_a8089126f5645b6edfbaddea49d1e8390}{13798} QPen \hyperlink{a00034_a8089126f5645b6edfbaddea49d1e8390}{QCPItemCurve::mainPen}()\textcolor{keyword}{ const}
13799 \textcolor{keyword}{}\{
13800   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00034_ab22cbab261b20be5aa8e4ca252149246}{mSelectedPen} : \hyperlink{a00034_a7ef92988d1db2e4d0311e34c0a57fe42}{mPen};
13801 \}
13802 
13803 
13804 \textcolor{comment}{// ================================================================================}
13805 \textcolor{comment}{// =================== QCPLayer}
13806 \textcolor{comment}{// ================================================================================}
13807 
13848 \textcolor{comment}{/* start documentation of inline functions */}
13849 
13856 \textcolor{comment}{/* end documentation of inline functions */}
13857 
\hypertarget{a00115_source_l13866}{}\hyperlink{a00043_a5d0657fc86d624e5efbe930ef21af718}{13866} \hyperlink{a00043_a5d0657fc86d624e5efbe930ef21af718}{QCPLayer::QCPLayer}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot, \textcolor{keyword}{const} QString &layerName) :
13867   mParentPlot(parentPlot),
13868   mName(layerName)
13869 \{
13870   \textcolor{comment}{// Note: no need to make sure layerName doesn't already, because layer}
13871   \textcolor{comment}{// management is done with QCustomPlot functions.}
13872 \}
13873 
\hypertarget{a00115_source_l13874}{}\hyperlink{a00043_afc1a8940f8e34c9f25ead9dfd4828cae}{13874} \hyperlink{a00043_afc1a8940f8e34c9f25ead9dfd4828cae}{QCPLayer::~QCPLayer}()
13875 \{
13876 \}
13877 
\hypertarget{a00115_source_l13884}{}\hyperlink{a00043_ad5d7010829a6b99f326b07d7e37c8c99}{13884} \textcolor{keywordtype}{int} \hyperlink{a00043_ad5d7010829a6b99f326b07d7e37c8c99}{QCPLayer::index}()\textcolor{keyword}{ const}
13885 \textcolor{keyword}{}\{
13886   \textcolor{keywordflow}{return} \hyperlink{a00043_a2f3374a7884bf403720cd1cf6f7ad1bb}{mParentPlot}->mLayers.indexOf(const\_cast<QCPLayer*>(\textcolor{keyword}{this}));
13887 \}
13888 
\hypertarget{a00115_source_l13899}{}\hyperlink{a00043_a57ce5e49364aa9122276d5df3b4a0ddc}{13899} \textcolor{keywordtype}{void} \hyperlink{a00043_a57ce5e49364aa9122276d5df3b4a0ddc}{QCPLayer::addChild}(\hyperlink{a00044}{QCPLayerable} *layerable, \textcolor{keywordtype}{bool} prepend)
13900 \{
13901   \textcolor{keywordflow}{if} (!\hyperlink{a00043_a704aa71bba469383c3a3c598c1ec0d28}{mChildren}.contains(layerable))
13902   \{
13903     \textcolor{keywordflow}{if} (prepend)
13904       \hyperlink{a00043_a704aa71bba469383c3a3c598c1ec0d28}{mChildren}.prepend(layerable);
13905     \textcolor{keywordflow}{else}
13906       \hyperlink{a00043_a704aa71bba469383c3a3c598c1ec0d28}{mChildren}.append(layerable);
13907   \} \textcolor{keywordflow}{else}
13908     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"layerable is already child of this layer"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      layerable);
13909 \}
13910 
\hypertarget{a00115_source_l13920}{}\hyperlink{a00043_ac2f64ac7761650582d968d86670ef362}{13920} \textcolor{keywordtype}{void} \hyperlink{a00043_ac2f64ac7761650582d968d86670ef362}{QCPLayer::removeChild}(\hyperlink{a00044}{QCPLayerable} *layerable)
13921 \{
13922   \textcolor{keywordflow}{if} (!\hyperlink{a00043_a704aa71bba469383c3a3c598c1ec0d28}{mChildren}.removeOne(layerable))
13923     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"layerable is not child of this layer"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(
      layerable);
13924 \}
13925 
13926 
13927 \textcolor{comment}{// ================================================================================}
13928 \textcolor{comment}{// =================== QCPLayerable}
13929 \textcolor{comment}{// ================================================================================}
13930 
13943 \textcolor{comment}{/* start documentation of pure virtual functions */}
13944 
13984 \textcolor{comment}{/* end documentation of pure virtual functions */}
13985 
\hypertarget{a00115_source_l13992}{}\hyperlink{a00044_a13db44e350bb2c681d2e31e2208e23f9}{13992} \hyperlink{a00044_a13db44e350bb2c681d2e31e2208e23f9}{QCPLayerable::QCPLayerable}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
13993   \hyperlink{a00059}{QObject}(0), \textcolor{comment}{// rather not bind to parentPlot, incase we want to allow moving of objects between
       customplots some day}
13994   mVisible(true),
13995   mParentPlot(parentPlot),
13996   mLayer(0),
13997   mAntialiased(true)
13998 \{
13999   \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot})
14000     \hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{setLayer}(\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->currentLayer());
14001 \}
14002 
\hypertarget{a00115_source_l14003}{}\hyperlink{a00044_a4231cf5b3601d6d3a5781283e7a9735b}{14003} \hyperlink{a00044_a4231cf5b3601d6d3a5781283e7a9735b}{QCPLayerable::~QCPLayerable}()
14004 \{
14005   \textcolor{keywordflow}{if} (\hyperlink{a00044_aa38ec5891aff0f50b36fd63e9372a0cd}{mLayer})
14006   \{
14007     \hyperlink{a00044_aa38ec5891aff0f50b36fd63e9372a0cd}{mLayer}->\hyperlink{a00043_ac2f64ac7761650582d968d86670ef362}{removeChild}(\textcolor{keyword}{this});
14008     \hyperlink{a00044_aa38ec5891aff0f50b36fd63e9372a0cd}{mLayer} = 0;
14009   \}
14010 \}
14011 
\hypertarget{a00115_source_l14016}{}\hyperlink{a00044_a3bed99ddc396b48ce3ebfdc0418744f8}{14016} \textcolor{keywordtype}{void} \hyperlink{a00044_a3bed99ddc396b48ce3ebfdc0418744f8}{QCPLayerable::setVisible}(\textcolor{keywordtype}{bool} on)
14017 \{
14018   \hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible} = on;
14019 \}
14020 
\hypertarget{a00115_source_l14027}{}\hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{14027} \textcolor{keywordtype}{bool} \hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{QCPLayerable::setLayer}(\hyperlink{a00043}{QCPLayer} *layer)
14028 \{
14029   \textcolor{keywordflow}{return} \hyperlink{a00044_af94484cfb7cbbddb7de522e9be71d9a4}{moveToLayer}(layer, \textcolor{keyword}{false});
14030 \}
14031 
\hypertarget{a00115_source_l14037}{}\hyperlink{a00044_ab25a0e7b897993b44447caee0f142083}{14037} \textcolor{keywordtype}{bool} \hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{QCPLayerable::setLayer}(\textcolor{keyword}{const} QString &layerName)
14038 \{
14039   \textcolor{keywordflow}{if} (!\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot})
14040   \{
14041     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"no parent QCustomPlot set"};
14042     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
14043   \}
14044   \textcolor{keywordflow}{if} (\hyperlink{a00043}{QCPLayer} *layer = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->layer(layerName))
14045   \{
14046     \textcolor{keywordflow}{return} \hyperlink{a00044_ab0d0da6d2de45a118886d2c8e16d5a54}{setLayer}(layer);
14047   \} \textcolor{keywordflow}{else}
14048   \{
14049     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"there is no layer with name"} << layerName;
14050     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
14051   \}
14052 \}
14053 
\hypertarget{a00115_source_l14060}{}\hyperlink{a00044_a4fd43e89be4a553ead41652565ff0581}{14060} \textcolor{keywordtype}{void} \hyperlink{a00044_a4fd43e89be4a553ead41652565ff0581}{QCPLayerable::setAntialiased}(\textcolor{keywordtype}{bool} enabled)
14061 \{
14062   \hyperlink{a00044_a3ab45a4c76a3333ce42eb217a81733ec}{mAntialiased} = enabled;
14063 \}
14064 
\hypertarget{a00115_source_l14073}{}\hyperlink{a00044_af94484cfb7cbbddb7de522e9be71d9a4}{14073} \textcolor{keywordtype}{bool} \hyperlink{a00044_af94484cfb7cbbddb7de522e9be71d9a4}{QCPLayerable::moveToLayer}(\hyperlink{a00043}{QCPLayer} *layer, \textcolor{keywordtype}{bool} prepend)
14074 \{
14075   \textcolor{keywordflow}{if} (!\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot})
14076   \{
14077     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"no parent QCustomPlot set"};
14078     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
14079   \}
14080   \textcolor{keywordflow}{if} (layer && layer->\hyperlink{a00043_a3958c9a938c2d05a7378c41484acee08}{parentPlot}() != \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot})
14081   \{
14082     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"layer"} << layer->\hyperlink{a00043_a96ebd1e436f3813938cb9cd4a59a60be}{name}() << \textcolor{stringliteral}{"is not in same QCustomPlot as this
       layerable"};
14083     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
14084   \}
14085   
14086   \textcolor{keywordflow}{if} (\hyperlink{a00044_aa38ec5891aff0f50b36fd63e9372a0cd}{mLayer})
14087     \hyperlink{a00044_aa38ec5891aff0f50b36fd63e9372a0cd}{mLayer}->\hyperlink{a00043_ac2f64ac7761650582d968d86670ef362}{removeChild}(\textcolor{keyword}{this});
14088   \hyperlink{a00044_aa38ec5891aff0f50b36fd63e9372a0cd}{mLayer} = \hyperlink{a00044_aea67e8c19145e70d68c286a36f6b8300}{layer};
14089   \textcolor{keywordflow}{if} (\hyperlink{a00044_aa38ec5891aff0f50b36fd63e9372a0cd}{mLayer})
14090     \hyperlink{a00044_aa38ec5891aff0f50b36fd63e9372a0cd}{mLayer}->\hyperlink{a00043_a57ce5e49364aa9122276d5df3b4a0ddc}{addChild}(\textcolor{keyword}{this}, prepend);
14091   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
14092 \}
14093 
\hypertarget{a00115_source_l14101}{}\hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{14101} \textcolor{keywordtype}{void} \hyperlink{a00044_a62bd552d1a45aa9accb24b310542279e}{QCPLayerable::applyAntialiasingHint}(
      \hyperlink{a00047}{QCPPainter} *painter, \textcolor{keywordtype}{bool} localAntialiased, \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0c}{QCP::AntialiasedElement} 
      overrideElement)\textcolor{keyword}{ const}
14102 \textcolor{keyword}{}\{
14103   \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot} && \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->notAntialiasedElements().testFlag(overrideElement))
14104     painter->\hyperlink{a00047_aaba1deb9188244d9ea65b035112b4d05}{setAntialiasing}(\textcolor{keyword}{false});
14105   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot} && \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->antialiasedElements().testFlag(overrideElement
      ))
14106     painter->\hyperlink{a00047_aaba1deb9188244d9ea65b035112b4d05}{setAntialiasing}(\textcolor{keyword}{true});
14107   \textcolor{keywordflow}{else}
14108     painter->\hyperlink{a00047_aaba1deb9188244d9ea65b035112b4d05}{setAntialiasing}(localAntialiased);
14109 \}
14110 
\hypertarget{a00115_source_l14119}{}\hyperlink{a00044_a07a8f746640c3704b09910df297afcba}{14119} QRect \hyperlink{a00044_a07a8f746640c3704b09910df297afcba}{QCPLayerable::clipRect}()\textcolor{keyword}{ const}
14120 \textcolor{keyword}{}\{
14121   \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot})
14122     \textcolor{keywordflow}{return} \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->viewport();
14123   \textcolor{keywordflow}{else}
14124     \textcolor{keywordflow}{return} QRect();
14125 \}
14126 
14127 
14128 \textcolor{comment}{// ================================================================================}
14129 \textcolor{comment}{// =================== QCPGrid}
14130 \textcolor{comment}{// ================================================================================}
14131 
14151 QCPGrid::QCPGrid(\hyperlink{a00025}{QCPAxis} *parentAxis) :
14152   \hyperlink{a00044}{QCPLayerable}(parentAxis->parentPlot()),
14153   \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}(parentAxis)
14154 \{
14155   \hyperlink{a00116_a499165f4744b6d22da7b24295910fb2c}{setPen}(QPen(QColor(200,200,200), 0, Qt::DotLine));
14156   \hyperlink{a00116_a48c20da07dee569fc3acae82c9278fa7}{setSubGridPen}(QPen(QColor(220,220,220), 0, Qt::DotLine));
14157   \hyperlink{a00116_a03ce49d4768a12a2f05fa292880d10e4}{setZeroLinePen}(QPen(QColor(200,200,200), 0, Qt::SolidLine));
14158   \hyperlink{a00116_ad4ad6bf714ec45e08845456355a1b700}{setSubGridVisible}(\textcolor{keyword}{false});
14159   \hyperlink{a00044_a4fd43e89be4a553ead41652565ff0581}{setAntialiased}(\textcolor{keyword}{false});
14160   \hyperlink{a00116_ad8224d578ae67548d765a22b2bf95f6c}{setAntialiasedSubGrid}(\textcolor{keyword}{false});
14161   \hyperlink{a00116_abd1e85b9a9ee63be5e4113709326d061}{setAntialiasedZeroLine}(\textcolor{keyword}{false});
14162 \}
14163 
\hypertarget{a00115_source_l14164}{}\hyperlink{a00116_acf10d80f45e1be1fe8f7b84210228a4c}{14164} \hyperlink{a00116_acf10d80f45e1be1fe8f7b84210228a4c}{QCPGrid::~QCPGrid}()
14165 \{
14166 \}
14167 
\hypertarget{a00115_source_l14173}{}\hyperlink{a00116_ad4ad6bf714ec45e08845456355a1b700}{14173} \textcolor{keywordtype}{void} \hyperlink{a00116_ad4ad6bf714ec45e08845456355a1b700}{QCPGrid::setSubGridVisible}(\textcolor{keywordtype}{bool} visible)
14174 \{
14175   \hyperlink{a00116_a117dd29d26688e4651a5aae265e1f1b9}{mSubGridVisible} = visible;
14176 \}
14177 
14181 \textcolor{keywordtype}{void} \hyperlink{a00116_ad8224d578ae67548d765a22b2bf95f6c}{QCPGrid::setAntialiasedSubGrid}(\textcolor{keywordtype}{bool} enabled)
14182 \{
14183   \hyperlink{a00116_af55685e73eae391bbdfd4b2eec8484af}{mAntialiasedSubGrid} = enabled;
14184 \}
14185 
14189 \textcolor{keywordtype}{void} \hyperlink{a00116_abd1e85b9a9ee63be5e4113709326d061}{QCPGrid::setAntialiasedZeroLine}(\textcolor{keywordtype}{bool} enabled)
14190 \{
14191   \hyperlink{a00116_a52a4de0f44b2192ad7b97ce66e265649}{mAntialiasedZeroLine} = enabled;
14192 \}
14193 
14197 \textcolor{keywordtype}{void} \hyperlink{a00116_a499165f4744b6d22da7b24295910fb2c}{QCPGrid::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
14198 \{
14199   \hyperlink{a00116_abcb7df1a54826856cb8f0e0ef696873b}{mPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
14200 \}
14201 
14205 \textcolor{keywordtype}{void} \hyperlink{a00116_a48c20da07dee569fc3acae82c9278fa7}{QCPGrid::setSubGridPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
14206 \{
14207   \hyperlink{a00116_af21f3a7972c59242965129b985f53556}{mSubGridPen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
14208 \}
14209 
14216 \textcolor{keywordtype}{void} \hyperlink{a00116_a03ce49d4768a12a2f05fa292880d10e4}{QCPGrid::setZeroLinePen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
14217 \{
14218   \hyperlink{a00116_ad8f3f742873da937274c85359dc03f7e}{mZeroLinePen} = \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen};
14219 \}
14220 
14233 \textcolor{keywordtype}{void} \hyperlink{a00116_a04062908d31c258aea6a7f9760c8431b}{QCPGrid::applyDefaultAntialiasingHint}(
      \hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
14234 \textcolor{keyword}{}\{
14235   applyAntialiasingHint(painter, mAntialiased, \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca4fbb37118d62288af0ca601ff2b07a2f}{QCP::aeGrid});
14236 \}
14237 
14245 \textcolor{keywordtype}{void} \hyperlink{a00116_a2e9b3d14dffa43c79835869d488936c9}{QCPGrid::draw}(\hyperlink{a00047}{QCPPainter} *painter)
14246 \{
14247   \textcolor{keywordflow}{if} (!\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00044_a10a3cc92e0fa63e4a929e61d34e275a7}{visible}()) \textcolor{keywordflow}{return}; \textcolor{comment}{// also don't draw grid when parent axis isn't
       visible}
14248   
14249   \textcolor{keywordflow}{if} (\hyperlink{a00116_a117dd29d26688e4651a5aae265e1f1b9}{mSubGridVisible})
14250     \hyperlink{a00116_afa5d9d12de419e881f381f2ab7cb414d}{drawSubGridLines}(painter);
14251   \hyperlink{a00116_a3aff10e993f6625e255c19e4f97a09d8}{drawGridLines}(painter);
14252 \}
14253 
\hypertarget{a00115_source_l14260}{}\hyperlink{a00116_a3aff10e993f6625e255c19e4f97a09d8}{14260} \textcolor{keywordtype}{void} \hyperlink{a00116_a3aff10e993f6625e255c19e4f97a09d8}{QCPGrid::drawGridLines}(\hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
14261 \textcolor{keyword}{}\{
14262   \textcolor{keywordtype}{int} lowTick = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_aebb24ba8734b7e054efc6e1ecc5414c7}{mLowestVisibleTick};
14263   \textcolor{keywordtype}{int} highTick = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_abb3b3ccce7e9779fef2be91ce1a46ef0}{mHighestVisibleTick};
14264   \textcolor{keywordtype}{double} t; \textcolor{comment}{// helper variable, result of coordinate-to-pixel transforms}
14265   \textcolor{keywordflow}{if} (\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
14266   \{
14267     \textcolor{comment}{// draw zeroline:}
14268     \textcolor{keywordtype}{int} zeroLineIndex = -1;
14269     \textcolor{keywordflow}{if} (\hyperlink{a00116_ad8f3f742873da937274c85359dc03f7e}{mZeroLinePen}.style() != Qt::NoPen && \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < 0 && \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0)
14270     \{
14271       applyAntialiasingHint(painter, \hyperlink{a00116_a52a4de0f44b2192ad7b97ce66e265649}{mAntialiasedZeroLine}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca261f8ea78cf3c9561726223ffa33dc12}{QCP::aeZeroLine});
14272       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00116_ad8f3f742873da937274c85359dc03f7e}{mZeroLinePen});
14273       \textcolor{keywordtype}{double} epsilon = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ab1ea79a4f5ea4cf42620f8f51c477ac4}{range}().\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()*1E-6; \textcolor{comment}{// for comparing double to
       zero}
14274       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=lowTick; i <= highTick; ++i)
14275       \{
14276         \textcolor{keywordflow}{if} (qAbs(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)) < epsilon)
14277         \{
14278           zeroLineIndex = i;
14279           t = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->
      \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)); \textcolor{comment}{// x}
14280           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(t, \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom(), t, 
      \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()));
14281           \textcolor{keywordflow}{break};
14282         \}
14283       \}
14284     \}
14285     \hyperlink{a00116_a04062908d31c258aea6a7f9760c8431b}{applyDefaultAntialiasingHint}(painter);
14286     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00116_abcb7df1a54826856cb8f0e0ef696873b}{mPen});
14287     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=lowTick; i <= highTick; ++i)
14288     \{
14289       \textcolor{keywordflow}{if} (i == zeroLineIndex) \textcolor{keywordflow}{continue}; \textcolor{comment}{// don't draw a gridline on top of the zeroline}
14290       t = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->
      \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)); \textcolor{comment}{// x}
14291       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(t, \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom(), t, 
      \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()));
14292     \}
14293   \} \textcolor{keywordflow}{else}
14294   \{
14295     \textcolor{comment}{// draw zeroline:}
14296     \textcolor{keywordtype}{int} zeroLineIndex = -1;
14297     \textcolor{keywordflow}{if} (\hyperlink{a00116_ad8f3f742873da937274c85359dc03f7e}{mZeroLinePen}.style() != Qt::NoPen && \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->
      \hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_aa3aca3edb14f7ca0c85d912647b91745}{lower} < 0 && \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_ae44eb3aafe1d0e2ed34b499b6d2e074f}{upper} > 0)
14298     \{
14299       applyAntialiasingHint(painter, \hyperlink{a00116_a52a4de0f44b2192ad7b97ce66e265649}{mAntialiasedZeroLine}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0ca261f8ea78cf3c9561726223ffa33dc12}{QCP::aeZeroLine});
14300       painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00116_ad8f3f742873da937274c85359dc03f7e}{mZeroLinePen});
14301       \textcolor{keywordtype}{double} epsilon = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a1ee36773c49062d751560e11f90845f7}{mRange}.\hyperlink{a00049_afa57c13049b965edb6fd1c00ac56338a}{size}()*1E-6; \textcolor{comment}{// for comparing double to
       zero}
14302       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=lowTick; i <= highTick; ++i)
14303       \{
14304         \textcolor{keywordflow}{if} (qAbs(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)) < epsilon)
14305         \{
14306           zeroLineIndex = i;
14307           t = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->
      \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)); \textcolor{comment}{// y}
14308           painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), t, 
      \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), t));
14309           \textcolor{keywordflow}{break};
14310         \}
14311       \}
14312     \}
14313     \textcolor{comment}{// draw grid lines:}
14314     \hyperlink{a00116_a04062908d31c258aea6a7f9760c8431b}{applyDefaultAntialiasingHint}(painter);
14315     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00116_abcb7df1a54826856cb8f0e0ef696873b}{mPen});
14316     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=lowTick; i <= highTick; ++i)
14317     \{
14318       \textcolor{keywordflow}{if} (i == zeroLineIndex) \textcolor{keywordflow}{continue}; \textcolor{comment}{// don't draw a gridline on top of the zeroline}
14319       t = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->
      \hyperlink{a00025_aae0f9b9973b85be601200f00f5825087}{mTickVector}.at(i)); \textcolor{comment}{// y}
14320       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), t, 
      \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), t));
14321     \}
14322   \}
14323 \}
14324 
\hypertarget{a00115_source_l14331}{}\hyperlink{a00116_afa5d9d12de419e881f381f2ab7cb414d}{14331} \textcolor{keywordtype}{void} \hyperlink{a00116_afa5d9d12de419e881f381f2ab7cb414d}{QCPGrid::drawSubGridLines}(\hyperlink{a00047}{QCPPainter} *painter)\textcolor{keyword}{ const}
14332 \textcolor{keyword}{}\{
14333   applyAntialiasingHint(painter, \hyperlink{a00116_af55685e73eae391bbdfd4b2eec8484af}{mAntialiasedSubGrid}, 
      \hyperlink{a00143_ae55dbe315d41fe80f29ba88100843a0caaedf83369188a15a69f92bb1d85ca97b}{QCP::aeSubGrid});
14334   \textcolor{keywordtype}{double} t; \textcolor{comment}{// helper variable, result of coordinate-to-pixel transforms}
14335   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00116_af21f3a7972c59242965129b985f53556}{mSubGridPen});
14336   \textcolor{keywordflow}{if} (\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a57483f2f60145ddc9e63f3af53959265}{orientation}() == Qt::Horizontal)
14337   \{
14338     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.size(); ++i)
14339     \{
14340       t = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->
      \hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.at(i)); \textcolor{comment}{// x}
14341       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(t, \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.bottom(), t, 
      \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.top()));
14342     \}
14343   \} \textcolor{keywordflow}{else}
14344   \{
14345     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.size(); ++i)
14346     \{
14347       t = \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_a985ae693b842fb0422b4390fe36d299a}{coordToPixel}(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->
      \hyperlink{a00025_a28353081e0ff35c3fe5ced923a287faa}{mSubTickVector}.at(i)); \textcolor{comment}{// y}
14348       painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(\hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.left(), t, 
      \hyperlink{a00116_aea80007cf54320e192a69054cd81504b}{mParentAxis}->\hyperlink{a00025_ad63d51f30f835f3a568b6231362ed4a0}{mAxisRect}.right(), t));
14349     \}
14350   \}
14351 \}
14352 
14353 
14354 \textcolor{comment}{// ================================================================================}
14355 \textcolor{comment}{// =================== QCPItemAnchor}
14356 \textcolor{comment}{// ================================================================================}
14357 
\hypertarget{a00115_source_l14384}{}\hyperlink{a00032_aeb6b681d2bf324db40a915d32ec5624f}{14384} \hyperlink{a00032_aeb6b681d2bf324db40a915d32ec5624f}{QCPItemAnchor::QCPItemAnchor}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot, 
      \hyperlink{a00022}{QCPAbstractItem} *parentItem, \textcolor{keyword}{const} QString name, \textcolor{keywordtype}{int} anchorId) :
14385   mParentPlot(parentPlot),
14386   mParentItem(parentItem),
14387   mAnchorId(anchorId),
14388   mName(name)
14389 \{
14390 \}
14391 
\hypertarget{a00115_source_l14392}{}\hyperlink{a00032_a1868559407600688ee4d1a4621e81ceb}{14392} \hyperlink{a00032_a1868559407600688ee4d1a4621e81ceb}{QCPItemAnchor::~QCPItemAnchor}()
14393 \{
14394   \textcolor{comment}{// unregister as parent at children:}
14395   QList<QCPItemPosition*> currentChildren(\hyperlink{a00032_a5f0e67f395a63e2dd0e29ff1dcaf37b7}{mChildren}.toList());
14396   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<currentChildren.size(); ++i)
14397     currentChildren.at(i)->setParentAnchor(0); \textcolor{comment}{// this acts back on this anchor and child removes itself
       from mChildren}
14398 \}
14399 
\hypertarget{a00115_source_l14406}{}\hyperlink{a00032_ae92def8f9297c5d73f5806c586517bb3}{14406} QPointF \hyperlink{a00032_ae92def8f9297c5d73f5806c586517bb3}{QCPItemAnchor::pixelPoint}()\textcolor{keyword}{ const}
14407 \textcolor{keyword}{}\{
14408   \textcolor{keywordflow}{if} (\hyperlink{a00032_a80fad480ad3bb980446ed6ebc00818ae}{mParentItem})
14409   \{
14410     \textcolor{keywordflow}{if} (\hyperlink{a00032_a00c62070333e8345976b579676ad3997}{mAnchorId} > -1)
14411     \{
14412       \textcolor{keywordflow}{return} \hyperlink{a00032_a80fad480ad3bb980446ed6ebc00818ae}{mParentItem}->\hyperlink{a00022_a94bde62b8a2fc133666dcbb8035deeed}{anchorPixelPoint}(\hyperlink{a00032_a00c62070333e8345976b579676ad3997}{mAnchorId});
14413     \} \textcolor{keywordflow}{else}
14414     \{
14415       qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"no valid anchor id set:"} << \hyperlink{a00032_a00c62070333e8345976b579676ad3997}{mAnchorId};
14416       \textcolor{keywordflow}{return} QPointF();
14417     \}
14418   \} \textcolor{keywordflow}{else}
14419   \{
14420     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"no parent item set"};
14421     \textcolor{keywordflow}{return} QPointF();
14422   \}
14423 \}
14424 
\hypertarget{a00115_source_l14432}{}\hyperlink{a00032_ad11517e2ce5c2f9a798e78fb45e2e0d0}{14432} \textcolor{keywordtype}{void} \hyperlink{a00032_ad11517e2ce5c2f9a798e78fb45e2e0d0}{QCPItemAnchor::addChild}(\hyperlink{a00038}{QCPItemPosition} *pos)
14433 \{
14434   \textcolor{keywordflow}{if} (!\hyperlink{a00032_a5f0e67f395a63e2dd0e29ff1dcaf37b7}{mChildren}.contains(pos))
14435     \hyperlink{a00032_a5f0e67f395a63e2dd0e29ff1dcaf37b7}{mChildren}.insert(pos);
14436   \textcolor{keywordflow}{else}
14437     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"provided pos is child already"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(pos);
14438 \}
14439 
\hypertarget{a00115_source_l14446}{}\hyperlink{a00032_ab65ec61984575f737f43c2bb59dd0d76}{14446} \textcolor{keywordtype}{void} \hyperlink{a00032_ab65ec61984575f737f43c2bb59dd0d76}{QCPItemAnchor::removeChild}(\hyperlink{a00038}{QCPItemPosition} *pos)
14447 \{
14448   \textcolor{keywordflow}{if} (!\hyperlink{a00032_a5f0e67f395a63e2dd0e29ff1dcaf37b7}{mChildren}.remove(pos))
14449     qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"provided pos isn't child"} << \textcolor{keyword}{reinterpret\_cast<}quintptr\textcolor{keyword}{>}(pos);
14450 \}
14451 
14452 
14453 \textcolor{comment}{// ================================================================================}
14454 \textcolor{comment}{// =================== QCPItemBracket}
14455 \textcolor{comment}{// ================================================================================}
14456 
\hypertarget{a00115_source_l14482}{}\hyperlink{a00033_a44ecfa37a76de5e3549e2d61f9d8ee56}{14482} \hyperlink{a00033_a44ecfa37a76de5e3549e2d61f9d8ee56}{QCPItemBracket::QCPItemBracket}(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
14483   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
14484   left(createPosition(\textcolor{stringliteral}{"left"})),
14485   right(createPosition(\textcolor{stringliteral}{"right"})),
14486   center(createAnchor(\textcolor{stringliteral}{"center"}, aiCenter))
14487 \{
14488   \hyperlink{a00033_af6cc6d27d96171778c6927d6edce48b0}{left}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0);
14489   \hyperlink{a00033_afa6c1360b05a50c4e0df37b3cebab6be}{right}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(1, 1);
14490   
14491   \hyperlink{a00033_ab13001d9cc5d8f9e56ea15bdda682acb}{setPen}(QPen(Qt::black));
14492   \hyperlink{a00033_a349785c31122778a520c64891fa204c5}{setSelectedPen}(QPen(Qt::blue, 2));
14493   \hyperlink{a00033_ac7cfc3da7da9b5c5ac5dfbe4f0351b2a}{setLength}(8);
14494   \hyperlink{a00033_a612dffa2373422eef8754d690add3703}{setStyle}(\hyperlink{a00033_a7ac3afd0b24a607054e7212047d59dbda8f29f5ef754e2dc9a9efdedb2face0f3}{bsCalligraphic});
14495 \}
14496 
\hypertarget{a00115_source_l14497}{}\hyperlink{a00033_ad773c3e8e09868d6f8caeb92c54919f4}{14497} \hyperlink{a00033_ad773c3e8e09868d6f8caeb92c54919f4}{QCPItemBracket::~QCPItemBracket}()
14498 \{
14499 \}
14500 
\hypertarget{a00115_source_l14510}{}\hyperlink{a00033_ab13001d9cc5d8f9e56ea15bdda682acb}{14510} \textcolor{keywordtype}{void} \hyperlink{a00033_ab13001d9cc5d8f9e56ea15bdda682acb}{QCPItemBracket::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
14511 \{
14512   \hyperlink{a00033_a350c864a5853b04343719f5a8be6b675}{mPen} = \hyperlink{a00033_a8963ff4a232b649c83d2461fd3c30d39}{pen};
14513 \}
14514 
\hypertarget{a00115_source_l14520}{}\hyperlink{a00033_a349785c31122778a520c64891fa204c5}{14520} \textcolor{keywordtype}{void} \hyperlink{a00033_a349785c31122778a520c64891fa204c5}{QCPItemBracket::setSelectedPen}(\textcolor{keyword}{const} QPen &
      \hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
14521 \{
14522   \hyperlink{a00033_adcfb53602d1802d00e2de4fd6df6b291}{mSelectedPen} = \hyperlink{a00033_a8963ff4a232b649c83d2461fd3c30d39}{pen};
14523 \}
14524 
\hypertarget{a00115_source_l14533}{}\hyperlink{a00033_ac7cfc3da7da9b5c5ac5dfbe4f0351b2a}{14533} \textcolor{keywordtype}{void} \hyperlink{a00033_ac7cfc3da7da9b5c5ac5dfbe4f0351b2a}{QCPItemBracket::setLength}(\textcolor{keywordtype}{double} length)
14534 \{
14535   \hyperlink{a00033_ab3d99bba8da18eb4d0e0cb23dded33b2}{mLength} = \hyperlink{a00033_aed5126eafcb1381ee5718499c20ba023}{length};
14536 \}
14537 
\hypertarget{a00115_source_l14543}{}\hyperlink{a00033_a612dffa2373422eef8754d690add3703}{14543} \textcolor{keywordtype}{void} \hyperlink{a00033_a612dffa2373422eef8754d690add3703}{QCPItemBracket::setStyle}(
      \hyperlink{a00033_a7ac3afd0b24a607054e7212047d59dbd}{QCPItemBracket::BracketStyle} style)
14544 \{
14545   \hyperlink{a00033_ac911907184c824d621f274f8e0990080}{mStyle} = \hyperlink{a00033_afad726f453f70fe77c0e9c2f260fff97}{style};
14546 \}
14547 
14548 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l14549}{}\hyperlink{a00033_a3e4bf2f77e147e46e375b7aa288f52ae}{14549} \textcolor{keywordtype}{double} \hyperlink{a00033_a3e4bf2f77e147e46e375b7aa288f52ae}{QCPItemBracket::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
14550 \textcolor{keyword}{}\{
14551   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible})
14552     \textcolor{keywordflow}{return} -1;
14553   
14554   QVector2D leftVec(\hyperlink{a00033_af6cc6d27d96171778c6927d6edce48b0}{left}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
14555   QVector2D rightVec(\hyperlink{a00033_afa6c1360b05a50c4e0df37b3cebab6be}{right}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
14556   \textcolor{keywordflow}{if} (leftVec.toPoint() == rightVec.toPoint())
14557     \textcolor{keywordflow}{return} -1;
14558   
14559   QVector2D widthVec = (rightVec-leftVec)*0.5;
14560   QVector2D lengthVec(-widthVec.y(), widthVec.x());
14561   lengthVec = lengthVec.normalized()*\hyperlink{a00033_ab3d99bba8da18eb4d0e0cb23dded33b2}{mLength};
14562   QVector2D centerVec = (rightVec+leftVec)*0.5-lengthVec;
14563   
14564   \textcolor{keywordflow}{return} qSqrt(\hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{distSqrToLine}((centerVec-widthVec).toPointF(), (centerVec+widthVec).toPointF(),
       pos));
14565 \}
14566 
14567 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l14568}{}\hyperlink{a00033_a8343cf0559c64886add7aa7f4b22f1a6}{14568} \textcolor{keywordtype}{void} \hyperlink{a00033_a8343cf0559c64886add7aa7f4b22f1a6}{QCPItemBracket::draw}(\hyperlink{a00047}{QCPPainter} *painter)
14569 \{
14570   QVector2D leftVec(\hyperlink{a00033_af6cc6d27d96171778c6927d6edce48b0}{left}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
14571   QVector2D rightVec(\hyperlink{a00033_afa6c1360b05a50c4e0df37b3cebab6be}{right}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
14572   \textcolor{keywordflow}{if} (leftVec.toPoint() == rightVec.toPoint())
14573     \textcolor{keywordflow}{return};
14574   
14575   QVector2D widthVec = (rightVec-leftVec)*0.5;
14576   QVector2D lengthVec(-widthVec.y(), widthVec.x());
14577   lengthVec = lengthVec.normalized()*\hyperlink{a00033_ab3d99bba8da18eb4d0e0cb23dded33b2}{mLength};
14578   QVector2D centerVec = (rightVec+leftVec)*0.5-lengthVec;
14579 
14580   QPolygon boundingPoly;
14581   boundingPoly << leftVec.toPoint() << rightVec.toPoint()
14582                << (rightVec-lengthVec).toPoint() << (leftVec-lengthVec).toPoint();
14583   QRect clip = \hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}().adjusted(-\hyperlink{a00033_a8df4ad873bf88a4a7bfb9bbbd490e495}{mainPen}().widthF(), -\hyperlink{a00033_a8df4ad873bf88a4a7bfb9bbbd490e495}{mainPen}().widthF(), 
      \hyperlink{a00033_a8df4ad873bf88a4a7bfb9bbbd490e495}{mainPen}().widthF(), \hyperlink{a00033_a8df4ad873bf88a4a7bfb9bbbd490e495}{mainPen}().widthF());
14584   \textcolor{keywordflow}{if} (clip.intersects(boundingPoly.boundingRect()))
14585   \{
14586     painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00033_a8df4ad873bf88a4a7bfb9bbbd490e495}{mainPen}());
14587     \textcolor{keywordflow}{switch} (\hyperlink{a00033_ac911907184c824d621f274f8e0990080}{mStyle})
14588     \{
14589       \textcolor{keywordflow}{case} \hyperlink{a00033_a7ac3afd0b24a607054e7212047d59dbda7f9df4a7359bfe3dac1dbe4ccf5d220c}{bsSquare}:
14590       \{
14591         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}((centerVec+widthVec).toPointF(), (centerVec-widthVec).toPointF());
14592         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}((centerVec+widthVec).toPointF(), (centerVec+widthVec+lengthVec).toPointF(
      ));
14593         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}((centerVec-widthVec).toPointF(), (centerVec-widthVec+lengthVec).toPointF(
      ));
14594         \textcolor{keywordflow}{break};
14595       \}
14596       \textcolor{keywordflow}{case} \hyperlink{a00033_a7ac3afd0b24a607054e7212047d59dbda394627b0830a26ee3e0a02ca67a9f918}{bsRound}:
14597       \{
14598         painter->setBrush(Qt::NoBrush);
14599         QPainterPath path;
14600         path.moveTo((centerVec+widthVec+lengthVec).toPointF());
14601         path.cubicTo((centerVec+widthVec).toPointF(), (centerVec+widthVec).toPointF(), centerVec.toPointF()
      );
14602         path.cubicTo((centerVec-widthVec).toPointF(), (centerVec-widthVec).toPointF(), (centerVec-widthVec+
      lengthVec).toPointF());
14603         painter->drawPath(path);
14604         \textcolor{keywordflow}{break};
14605       \}
14606       \textcolor{keywordflow}{case} \hyperlink{a00033_a7ac3afd0b24a607054e7212047d59dbda5024ce4023c2d8de4221f1cd4816acd8}{bsCurly}:
14607       \{
14608         painter->setBrush(Qt::NoBrush);
14609         QPainterPath path;
14610         path.moveTo((centerVec+widthVec+lengthVec).toPointF());
14611         path.cubicTo((centerVec+widthVec*1-lengthVec*0.8).toPointF(), (centerVec+0.4*widthVec+1*lengthVec).
      toPointF(), centerVec.toPointF());
14612         path.cubicTo((centerVec-0.4*widthVec+1*lengthVec).toPointF(), (centerVec-widthVec*1-lengthVec*0.8).
      toPointF(), (centerVec-widthVec+lengthVec).toPointF());
14613         painter->drawPath(path);
14614         \textcolor{keywordflow}{break};
14615       \}
14616       \textcolor{keywordflow}{case} \hyperlink{a00033_a7ac3afd0b24a607054e7212047d59dbda8f29f5ef754e2dc9a9efdedb2face0f3}{bsCalligraphic}:
14617       \{
14618         painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(Qt::NoPen);
14619         painter->setBrush(QBrush(\hyperlink{a00033_a8df4ad873bf88a4a7bfb9bbbd490e495}{mainPen}().\hyperlink{a00116_ae35093fbf4f645dcefd930ca8c68b622}{color}()));
14620         QPainterPath path;
14621         path.moveTo((centerVec+widthVec+lengthVec).toPointF());
14622         
14623         path.cubicTo((centerVec+widthVec*1-lengthVec*0.8).toPointF(), (centerVec+0.4*widthVec+0.8*lengthVec
      ).toPointF(), centerVec.toPointF());
14624         path.cubicTo((centerVec-0.4*widthVec+0.8*lengthVec).toPointF(), (centerVec-widthVec*1-lengthVec*0.8
      ).toPointF(), (centerVec-widthVec+lengthVec).toPointF());
14625         
14626         path.cubicTo((centerVec-widthVec*1-lengthVec*0.5).toPointF(), (centerVec-0.2*widthVec+1.2*lengthVec
      ).toPointF(), (centerVec+lengthVec*0.2).toPointF());
14627         path.cubicTo((centerVec+0.2*widthVec+1.2*lengthVec).toPointF(), (centerVec+widthVec*1-lengthVec*0.5
      ).toPointF(), (centerVec+widthVec+lengthVec).toPointF());
14628         
14629         painter->drawPath(path);
14630         \textcolor{keywordflow}{break};
14631       \}
14632     \}
14633   \}
14634 \}
14635 
14636 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l14637}{}\hyperlink{a00033_ac76827e3acba5faee81f149af4047a39}{14637} QPointF \hyperlink{a00033_ac76827e3acba5faee81f149af4047a39}{QCPItemBracket::anchorPixelPoint}(\textcolor{keywordtype}{int} anchorId)\textcolor{keyword}{ const}
14638 \textcolor{keyword}{}\{
14639   QVector2D leftVec(\hyperlink{a00033_af6cc6d27d96171778c6927d6edce48b0}{left}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
14640   QVector2D rightVec(\hyperlink{a00033_afa6c1360b05a50c4e0df37b3cebab6be}{right}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
14641   \textcolor{keywordflow}{if} (leftVec.toPoint() == rightVec.toPoint())
14642     \textcolor{keywordflow}{return} leftVec.toPointF();
14643   
14644   QVector2D widthVec = (rightVec-leftVec)*0.5;
14645   QVector2D lengthVec(-widthVec.y(), widthVec.x());
14646   lengthVec = lengthVec.normalized()*\hyperlink{a00033_ab3d99bba8da18eb4d0e0cb23dded33b2}{mLength};
14647   QVector2D centerVec = (rightVec+leftVec)*0.5-lengthVec;
14648   
14649   \textcolor{keywordflow}{switch} (anchorId)
14650   \{
14651     \textcolor{keywordflow}{case} \hyperlink{a00033_a7f3a6a56d67f71219ed220553f3dd861a17b57ef34cc05eadfe9becd1ad5b5242}{aiCenter}:
14652       \textcolor{keywordflow}{return} centerVec.toPointF();
14653   \}
14654   qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"invalid anchorId"} << anchorId;
14655   \textcolor{keywordflow}{return} QPointF();
14656 \}
14657 
\hypertarget{a00115_source_l14663}{}\hyperlink{a00033_a8df4ad873bf88a4a7bfb9bbbd490e495}{14663} QPen \hyperlink{a00033_a8df4ad873bf88a4a7bfb9bbbd490e495}{QCPItemBracket::mainPen}()\textcolor{keyword}{ const}
14664 \textcolor{keyword}{}\{
14665     \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00033_adcfb53602d1802d00e2de4fd6df6b291}{mSelectedPen} : \hyperlink{a00033_a350c864a5853b04343719f5a8be6b675}{mPen};
14666 \}
14667 
14668 
14669 \textcolor{comment}{// ================================================================================}
14670 \textcolor{comment}{// =================== QCPItemTracer}
14671 \textcolor{comment}{// ================================================================================}
14672 
14707 QCPItemTracer::QCPItemTracer(\hyperlink{a00030_d8/d00/a00186}{QCustomPlot} *parentPlot) :
14708   \hyperlink{a00022}{QCPAbstractItem}(parentPlot),
14709   position(createPosition(\textcolor{stringliteral}{"position"})),
14710   mGraph(0)
14711 \{
14712   \hyperlink{a00022_af71345bd150f87fa1d2442837b87bb59}{position}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(0, 0);
14713 
14714   setBrush(Qt::NoBrush);
14715   setSelectedBrush(Qt::NoBrush);
14716   \hyperlink{a00033_ab13001d9cc5d8f9e56ea15bdda682acb}{setPen}(QPen(Qt::black));
14717   \hyperlink{a00033_a349785c31122778a520c64891fa204c5}{setSelectedPen}(QPen(Qt::blue, 2));
14718   \hyperlink{a00033_a612dffa2373422eef8754d690add3703}{setStyle}(tsCrosshair);
14719   setSize(6);
14720   setInterpolating(\textcolor{keyword}{false});
14721   setGraphKey(0);
14722 \}
14723 
\hypertarget{a00115_source_l14724}{}\hyperlink{a00042_a43686565a9b70815915618636b9bdf0f}{14724} \hyperlink{a00042_a43686565a9b70815915618636b9bdf0f}{QCPItemTracer::~QCPItemTracer}()
14725 \{
14726 \}
14727 
\hypertarget{a00115_source_l14733}{}\hyperlink{a00042_af8048636fc1ef0152e51809b008df2ca}{14733} \textcolor{keywordtype}{void} \hyperlink{a00042_af8048636fc1ef0152e51809b008df2ca}{QCPItemTracer::setPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
14734 \{
14735   \hyperlink{a00042_a579e3bd6bd16d6aaff03638dc8a99a69}{mPen} = \hyperlink{a00042_a1f51b61e98c276298a0874d5e89707f0}{pen};
14736 \}
14737 
\hypertarget{a00115_source_l14743}{}\hyperlink{a00042_ae1bf70db7f13f928660168cd3e5069f3}{14743} \textcolor{keywordtype}{void} \hyperlink{a00042_ae1bf70db7f13f928660168cd3e5069f3}{QCPItemTracer::setSelectedPen}(\textcolor{keyword}{const} QPen &\hyperlink{a00116_a1f13fffa0a0faac34ec342973e613a4a}{pen})
14744 \{
14745   \hyperlink{a00042_a3f61829784200819661d1e2a5354d866}{mSelectedPen} = \hyperlink{a00042_a1f51b61e98c276298a0874d5e89707f0}{pen};
14746 \}
14747 
\hypertarget{a00115_source_l14753}{}\hyperlink{a00042_a2c303f7470a30084daa201ed556b3c36}{14753} \textcolor{keywordtype}{void} \hyperlink{a00042_a2c303f7470a30084daa201ed556b3c36}{QCPItemTracer::setBrush}(\textcolor{keyword}{const} QBrush &brush)
14754 \{
14755   \hyperlink{a00042_a6597be63a17a266233941354200b2340}{mBrush} = \hyperlink{a00042_af07527750cfb6afc3c0ba4bec012011f}{brush};
14756 \}
14757 
\hypertarget{a00115_source_l14763}{}\hyperlink{a00042_a0f55c084980a7a312af859d3e7b558ef}{14763} \textcolor{keywordtype}{void} \hyperlink{a00042_a0f55c084980a7a312af859d3e7b558ef}{QCPItemTracer::setSelectedBrush}(\textcolor{keyword}{const} QBrush &brush)
14764 \{
14765   \hyperlink{a00042_a1c15d2adde40efdcc0ef1ff78fd256a6}{mSelectedBrush} = \hyperlink{a00042_af07527750cfb6afc3c0ba4bec012011f}{brush};
14766 \}
14767 
\hypertarget{a00115_source_l14772}{}\hyperlink{a00042_ae47fe0617f5fef5fdb766999569be10a}{14772} \textcolor{keywordtype}{void} \hyperlink{a00042_ae47fe0617f5fef5fdb766999569be10a}{QCPItemTracer::setSize}(\textcolor{keywordtype}{double} size)
14773 \{
14774   \hyperlink{a00042_a575153a24bb357d1e006f6bc3bd099b9}{mSize} = \hyperlink{a00042_a2607fcb3d01e90773ea1532fd6803760}{size};
14775 \}
14776 
\hypertarget{a00115_source_l14783}{}\hyperlink{a00042_a41a2ac4f1acd7897b4e2a2579c03204e}{14783} \textcolor{keywordtype}{void} \hyperlink{a00042_a41a2ac4f1acd7897b4e2a2579c03204e}{QCPItemTracer::setStyle}(\hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500}{QCPItemTracer::TracerStyle} 
      style)
14784 \{
14785   \hyperlink{a00042_afb1f236bebf417544e0138fef22a292e}{mStyle} = \hyperlink{a00042_a871832dace1709f877c3136fac7ae1ec}{style};
14786 \}
14787 
\hypertarget{a00115_source_l14798}{}\hyperlink{a00042_af5886f4ded8dd68cb4f3388f390790c0}{14798} \textcolor{keywordtype}{void} \hyperlink{a00042_af5886f4ded8dd68cb4f3388f390790c0}{QCPItemTracer::setGraph}(\hyperlink{a00031}{QCPGraph} *\hyperlink{a00116_ac6b19830ab0f0073ff3089cf7c9b3c2e}{graph})
14799 \{
14800   \textcolor{keywordflow}{if} (graph)
14801   \{
14802     \textcolor{keywordflow}{if} (graph->\hyperlink{a00044_ab7e0e94461566093d36ffc0f5312b109}{parentPlot}() == \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot})
14803     \{
14804       \hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_aa476abf71ed8fa4c537457ebb1a754ad}{setType}(\hyperlink{a00038_aad9936c22bf43e3d358552f6e86dbdc8ad5ffb8dc99ad73263f7010c77342294c}{QCPItemPosition::ptPlotCoords});
14805       \hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_a2185f45c75ac8cb9be89daeaaad50e37}{setAxes}(graph->\hyperlink{a00024_a72c7a09c22963f2c943f07112b311103}{keyAxis}(), graph->\hyperlink{a00031_addfc75bba33410e49c4fa0816feb8225}{valueAxis}());
14806       \hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph} = \hyperlink{a00042_a74c90da0e6730839b8d7cf6445a4ec1f}{graph};
14807       \hyperlink{a00042_a5b90296109e36384aedbc8908a670413}{updatePosition}();
14808     \} \textcolor{keywordflow}{else}
14809       qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"graph isn't in same QCustomPlot instance as this item"};
14810   \} \textcolor{keywordflow}{else}
14811   \{
14812     \hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph} = 0;
14813   \}
14814 \}
14815 
\hypertarget{a00115_source_l14825}{}\hyperlink{a00042_a6840143b42f3b685cedf7c6d83a704c8}{14825} \textcolor{keywordtype}{void} \hyperlink{a00042_a6840143b42f3b685cedf7c6d83a704c8}{QCPItemTracer::setGraphKey}(\textcolor{keywordtype}{double} \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key})
14826 \{
14827   \hyperlink{a00042_a8fa20f2e9ee07d21fd7c8d30ba4702ca}{mGraphKey} = \hyperlink{a00116_a94bb892c30911cd62cba0707a5395be4}{key};
14828 \}
14829 
\hypertarget{a00115_source_l14841}{}\hyperlink{a00042_a6c244a9d1175bef12b50afafd4f5fcd2}{14841} \textcolor{keywordtype}{void} \hyperlink{a00042_a6c244a9d1175bef12b50afafd4f5fcd2}{QCPItemTracer::setInterpolating}(\textcolor{keywordtype}{bool} enabled)
14842 \{
14843   \hyperlink{a00042_afab37c22ad39f235921e86f93cd84595}{mInterpolating} = enabled;
14844 \}
14845 
14846 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l14847}{}\hyperlink{a00042_a5a7297a98b14664e2dc16cba28e51192}{14847} \textcolor{keywordtype}{double} \hyperlink{a00042_a5a7297a98b14664e2dc16cba28e51192}{QCPItemTracer::selectTest}(\textcolor{keyword}{const} QPointF &pos)\textcolor{keyword}{ const}
14848 \textcolor{keyword}{}\{
14849   \textcolor{keywordflow}{if} (!\hyperlink{a00044_a62e3aed8427d6ce3ccf716f285106cb3}{mVisible} || \hyperlink{a00042_afb1f236bebf417544e0138fef22a292e}{mStyle} == \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500aac27462c79146225bfa8fba24d2ee8a4}{tsNone})
14850     \textcolor{keywordflow}{return} -1;
14851 
14852   QPointF center(\hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
14853   \textcolor{keywordtype}{double} w = \hyperlink{a00042_a575153a24bb357d1e006f6bc3bd099b9}{mSize}/2.0;
14854   QRect clip = \hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}();
14855   \textcolor{keywordflow}{switch} (\hyperlink{a00042_afb1f236bebf417544e0138fef22a292e}{mStyle})
14856   \{
14857     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500aac27462c79146225bfa8fba24d2ee8a4}{tsNone}: \textcolor{keywordflow}{return} -1;
14858     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500a3323fb04017146e4885e080a459472fa}{tsPlus}:
14859     \{
14860       \textcolor{keywordflow}{if} (\hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}().intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
14861         \textcolor{keywordflow}{return} qSqrt(qMin(\hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{distSqrToLine}(center+QPointF(-w, 0), center+QPointF(w, 0), pos),
14862                           \hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{distSqrToLine}(center+QPointF(0, -w), center+QPointF(0, w), pos)));
14863       \textcolor{keywordflow}{break};
14864     \}
14865     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500af562ec81ac3ba99e26ef8540cf1ec16f}{tsCrosshair}:
14866     \{
14867       \textcolor{keywordflow}{return} qSqrt(qMin(\hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{distSqrToLine}(QPointF(clip.left(), center.y()), QPointF(clip.right(), 
      center.y()), pos),
14868                         \hyperlink{a00022_acdca343717d625b8abb3c3e38c0ed39d}{distSqrToLine}(QPointF(center.x(), clip.top()), QPointF(center.x(), 
      clip.bottom()), pos)));
14869       \textcolor{keywordflow}{break};
14870     \}
14871     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500ae2252c28f4842880d71e9f94e69de94e}{tsCircle}:
14872     \{
14873       \textcolor{keywordflow}{if} (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
14874       \{
14875         \textcolor{comment}{// distance to border:}
14876         \textcolor{keywordtype}{double} centerDist = QVector2D(center-pos).length();
14877         \textcolor{keywordtype}{double} circleLine = w;
14878         \textcolor{keywordtype}{double} result = qAbs(centerDist-circleLine);
14879         \textcolor{comment}{// filled ellipse, allow click inside to count as hit:}
14880         \textcolor{keywordflow}{if} (result > \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance()*0.99 && \hyperlink{a00042_a6597be63a17a266233941354200b2340}{mBrush}.style() != 
      Qt::NoBrush && \hyperlink{a00042_a6597be63a17a266233941354200b2340}{mBrush}.color().alpha() != 0)
14881         \{
14882           \textcolor{keywordflow}{if} (centerDist <= circleLine)
14883             result = \hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->selectionTolerance()*0.99;
14884         \}
14885         \textcolor{keywordflow}{return} result;
14886       \}
14887       \textcolor{keywordflow}{break};
14888     \}
14889     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500a4ed5f01f2c5fd86d980366d79f481b9b}{tsSquare}:
14890     \{
14891       \textcolor{keywordflow}{if} (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
14892       \{
14893         QRectF rect = QRectF(center-QPointF(w, w), center+QPointF(w, w));
14894         \textcolor{keywordtype}{bool} filledRect = \hyperlink{a00042_a6597be63a17a266233941354200b2340}{mBrush}.style() != Qt::NoBrush && \hyperlink{a00042_a6597be63a17a266233941354200b2340}{mBrush}.color().alpha() != 0;
14895         \textcolor{keywordflow}{return} \hyperlink{a00022_a4c0e14c4e92df91174cb7183fb363069}{rectSelectTest}(rect, pos, filledRect);
14896       \}
14897       \textcolor{keywordflow}{break};
14898     \}
14899   \}
14900   \textcolor{keywordflow}{return} -1;
14901 \}
14902 
14903 \textcolor{comment}{/* inherits documentation from base class */}
\hypertarget{a00115_source_l14904}{}\hyperlink{a00042_aaaf49b48382c730ec9be0e74c2538315}{14904} \textcolor{keywordtype}{void} \hyperlink{a00042_aaaf49b48382c730ec9be0e74c2538315}{QCPItemTracer::draw}(\hyperlink{a00047}{QCPPainter} *painter)
14905 \{
14906   \hyperlink{a00042_a5b90296109e36384aedbc8908a670413}{updatePosition}();
14907   \textcolor{keywordflow}{if} (\hyperlink{a00042_afb1f236bebf417544e0138fef22a292e}{mStyle} == \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500aac27462c79146225bfa8fba24d2ee8a4}{tsNone})
14908     \textcolor{keywordflow}{return};
14909 
14910   painter->\hyperlink{a00047_af9c7a4cd1791403901f8c5b82a150195}{setPen}(\hyperlink{a00042_af87132b7698d5bb35c96a8a0b9e7180e}{mainPen}());
14911   painter->setBrush(\hyperlink{a00042_aaf4e72e2d87f53279b9f9ba624961bf5}{mainBrush}());
14912   QPointF center(\hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_ae490f9c76ee2ba33752c495d3b6e8fb5}{pixelPoint}());
14913   \textcolor{keywordtype}{double} w = \hyperlink{a00042_a575153a24bb357d1e006f6bc3bd099b9}{mSize}/2.0;
14914   QRect clip = \hyperlink{a00022_a538e25ff8856534582f5b2b400a46405}{clipRect}();
14915   \textcolor{keywordflow}{switch} (\hyperlink{a00042_afb1f236bebf417544e0138fef22a292e}{mStyle})
14916   \{
14917     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500aac27462c79146225bfa8fba24d2ee8a4}{tsNone}: \textcolor{keywordflow}{return};
14918     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500a3323fb04017146e4885e080a459472fa}{tsPlus}:
14919     \{
14920       \textcolor{keywordflow}{if} (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
14921       \{
14922         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(center+QPointF(-w, 0), center+QPointF(w, 0)));
14923         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(center+QPointF(0, -w), center+QPointF(0, w)));
14924       \}
14925       \textcolor{keywordflow}{break};
14926     \}
14927     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500af562ec81ac3ba99e26ef8540cf1ec16f}{tsCrosshair}:
14928     \{
14929       \textcolor{keywordflow}{if} (center.y() > clip.top() && center.y() < clip.bottom())
14930         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(clip.left(), center.y(), clip.right(), center.y()));
14931       \textcolor{keywordflow}{if} (center.x() > clip.left() && center.x() < clip.right())
14932         painter->\hyperlink{a00047_a0b4b1b9bd495e182c731774dc800e6e0}{drawLine}(QLineF(center.x(), clip.top(), center.x(), clip.bottom()));
14933       \textcolor{keywordflow}{break};
14934     \}
14935     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500ae2252c28f4842880d71e9f94e69de94e}{tsCircle}:
14936     \{
14937       \textcolor{keywordflow}{if} (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
14938         painter->drawEllipse(center, w, w);
14939       \textcolor{keywordflow}{break};
14940     \}
14941     \textcolor{keywordflow}{case} \hyperlink{a00042_a2f05ddb13978036f902ca3ab47076500a4ed5f01f2c5fd86d980366d79f481b9b}{tsSquare}:
14942     \{
14943       \textcolor{keywordflow}{if} (clip.intersects(QRectF(center-QPointF(w, w), center+QPointF(w, w)).toRect()))
14944         painter->drawRect(QRectF(center-QPointF(w, w), center+QPointF(w, w)));
14945       \textcolor{keywordflow}{break};
14946     \}
14947   \}
14948 \}
14949 
\hypertarget{a00115_source_l14962}{}\hyperlink{a00042_a5b90296109e36384aedbc8908a670413}{14962} \textcolor{keywordtype}{void} \hyperlink{a00042_a5b90296109e36384aedbc8908a670413}{QCPItemTracer::updatePosition}()
14963 \{
14964   \textcolor{keywordflow}{if} (\hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph})
14965   \{
14966     \textcolor{keywordflow}{if} (\hyperlink{a00044_aa2a528433e44db02b8aef23c1f9f90ed}{mParentPlot}->hasPlottable(\hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph}))
14967     \{
14968       \textcolor{keywordflow}{if} (\hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph}->\hyperlink{a00031_a8f4c17d993df4759c7426db45b33fbc0}{data}()->size() > 1)
14969       \{
14970         QCPDataMap::const\_iterator first = \hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph}->\hyperlink{a00031_a8f4c17d993df4759c7426db45b33fbc0}{data}()->constBegin();
14971         QCPDataMap::const\_iterator last = \hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph}->\hyperlink{a00031_a8f4c17d993df4759c7426db45b33fbc0}{data}()->constEnd()-1;
14972         \textcolor{keywordflow}{if} (\hyperlink{a00042_a8fa20f2e9ee07d21fd7c8d30ba4702ca}{mGraphKey} < first.key())
14973           \hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(first.key(), first.value().value);
14974         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00042_a8fa20f2e9ee07d21fd7c8d30ba4702ca}{mGraphKey} > last.key())
14975           \hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(last.key(), last.value().value);
14976         \textcolor{keywordflow}{else}
14977         \{
14978           QCPDataMap::const\_iterator it = first;
14979           it = \hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph}->\hyperlink{a00031_a8f4c17d993df4759c7426db45b33fbc0}{data}()->lowerBound(\hyperlink{a00042_a8fa20f2e9ee07d21fd7c8d30ba4702ca}{mGraphKey});
14980           \textcolor{keywordflow}{if} (it != first) \textcolor{comment}{// mGraphKey is somewhere between iterators}
14981           \{
14982             QCPDataMap::const\_iterator prevIt = it-1;
14983             \textcolor{keywordflow}{if} (\hyperlink{a00042_afab37c22ad39f235921e86f93cd84595}{mInterpolating})
14984             \{
14985               \textcolor{comment}{// interpolate between iterators around mGraphKey:}
14986               \textcolor{keywordtype}{double} slope = (it.value().value-prevIt.value().value)/(it.key()-prevIt.key());
14987               \hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(\hyperlink{a00042_a8fa20f2e9ee07d21fd7c8d30ba4702ca}{mGraphKey}, (
      \hyperlink{a00042_a8fa20f2e9ee07d21fd7c8d30ba4702ca}{mGraphKey}-prevIt.key())*slope+prevIt.value().value);
14988             \} \textcolor{keywordflow}{else}
14989             \{
14990               \textcolor{comment}{// find iterator with key closest to mGraphKey:}
14991               \textcolor{keywordflow}{if} (\hyperlink{a00042_a8fa20f2e9ee07d21fd7c8d30ba4702ca}{mGraphKey} < (prevIt.key()+it.key())*0.5)
14992                 it = prevIt;
14993               \hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(it.key(), it.value().value);
14994             \}
14995           \} \textcolor{keywordflow}{else} \textcolor{comment}{// mGraphKey is exactly on first iterator}
14996             \hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(it.key(), it.value().value);
14997         \}
14998       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph}->\hyperlink{a00031_a8f4c17d993df4759c7426db45b33fbc0}{data}()->size() == 1)
14999       \{
15000         QCPDataMap::const\_iterator it = \hyperlink{a00042_a2d70cf616b579563aa15f796dfc143ac}{mGraph}->\hyperlink{a00031_a8f4c17d993df4759c7426db45b33fbc0}{data}()->constBegin();
15001         \hyperlink{a00042_a69917e2fdb2b3a929c196958feee7cbe}{position}->\hyperlink{a00038_aa988ba4e87ab684c9021017dcaba945f}{setCoords}(it.key(), it.value().value);
15002       \} \textcolor{keywordflow}{else}
15003         qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"graph has no data"};
15004     \} \textcolor{keywordflow}{else}
15005       qDebug() << Q\_FUNC\_INFO << \textcolor{stringliteral}{"graph not contained in QCustomPlot instance (anymore)"};
15006   \}
15007 \}
15008 
\hypertarget{a00115_source_l15014}{}\hyperlink{a00042_af87132b7698d5bb35c96a8a0b9e7180e}{15014} QPen \hyperlink{a00042_af87132b7698d5bb35c96a8a0b9e7180e}{QCPItemTracer::mainPen}()\textcolor{keyword}{ const}
15015 \textcolor{keyword}{}\{
15016   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00042_a3f61829784200819661d1e2a5354d866}{mSelectedPen} : \hyperlink{a00042_a579e3bd6bd16d6aaff03638dc8a99a69}{mPen};
15017 \}
15018 
\hypertarget{a00115_source_l15024}{}\hyperlink{a00042_aaf4e72e2d87f53279b9f9ba624961bf5}{15024} QBrush \hyperlink{a00042_aaf4e72e2d87f53279b9f9ba624961bf5}{QCPItemTracer::mainBrush}()\textcolor{keyword}{ const}
15025 \textcolor{keyword}{}\{
15026   \textcolor{keywordflow}{return} \hyperlink{a00022_a4bdb3457dad1d268c0f78a44152b9645}{mSelected} ? \hyperlink{a00042_a1c15d2adde40efdcc0ef1ff78fd256a6}{mSelectedBrush} : \hyperlink{a00042_a6597be63a17a266233941354200b2340}{mBrush};
15027 \}
15028 
15029 
15030 
15031 
15032 
15033 
15034 
\end{DoxyCode}
